<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page37/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33533163-2', 'auto');
    ga('send', 'pageview');

</script>

    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/npm/">Идиотизм вокруг NPM</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-30T00:00:00+00:00">
        Mar 30, 2016
    </time>

    <a href="/tag/npm/" rel="tag">npm</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    <p>Как и другие разработчики, я с интересом наблюдаю за скандалом вокруг
экосистемы Node.js и пакетного менеджера NPM.</p>

<p>Если вы не в курсе дела, смотрите ссылки в конце поста. А я напомню,
что у Node-разработчиков прошлая неделя прошла в боли и
страданиях. Программист Азер Кочулу удалил из NPM свои 100500 пакетов,
том числе один аж на 11 строк. Без него не смогли собраться React,
Babel и куча всего.</p>

<p>Азер удалил код потому, что администрация NPM в одностороннем порядке
передала права на пакет Kik от Азера к представителям одноименной
компании. Якобы юристы Kik запугали патентами и торговой маркой.</p>

<p>Развязка: Азер перенес все пакеты в Гитхаб, администрация NPM
запретила удалять пакеты по истечении 24 часов в момента
публикации. Азер на коне, он весь такой Д’Артаньян в белых перчатках,
в Твиттере пафосные картинки.</p>

<p>Страсти спадают, и теперь, после недели хаоса, следует подумать, кто в
это ситуации был мудаком.</p>

<p>Имеем три стороны – Азер, администрация NPM и юристы компании
Kik. Кто неправ в этой истории?</p>

<p>Первые два. Объясню с конца.</p>

<p>Юристы Kik действуют в своих интересах. Они стараются расширить
экспансию вверенного им продукта. Совершенно естественно, что их цель
– захватить имя Kik разных его проявлениях.</p>

<p>Поскольку под именем Kik размещен левый пакет, а компания хочет
предоставить разработчикам API, юристы начали переговоры о передаче
прав на пакет.</p>

<p>Азер обозвал их мудаками и послал на хуй (как было, так и перевел). А
в начале написал “Ха-ха”. Кто-то сомневается в неадекватности
пациента? Взрослый же человек, просто откажи, зачем оскорблять людей?</p>

<p>Увидев, что собеседник в неадеквате, юристы пишут администрации NPM. Я
бы тоже так поступил на их месте. Тут NPM жидко сливаются, передав
права без каких-либо документов и согласований. Да, пусть этот Азер
хамло, но права пользователей надо уважать.</p>

<p>Кто-то думает, что NPM зассали перед патентом на торговую марку “Kik”,
а на самом деле все просто – одни из основателей NPM работал в Kik
раньше. Это банальный блат, работает не только в России.</p>

<p>Поэтому администрация NPM – тоже мудаки.</p>

<p>Далее Айзер включил бунтаря и удалил все 250 пакетов, что успел к тому
времени наплодить. Многие из них успели стать зависимостями в других
пакетах. Айзер, прекрасно осознавая что делает, испортил жизнь тысячам
людей по всему земному шару.</p>

<p>Когда валютные вкладчики приковывают себя наручниками к дверям банка,
то и это не тот градус шизофрении, что ученил Азер. Это детская нужда
стать нужным. Послать миру весть, что без него нельзя обойтись.</p>

<p>Администрация NPM, к их чести, вынесла правильный урок. Теперь
запрещено удалять пакеты, с момента публикаций которых прошло больше
24 часов. Это правильно, потому что если разработчик выложил код, то
значит, он предлагает его другим, верно? Иначе зачем выкладывать,
ставь из приватного репозитория.</p>

<p>Не хочешь поддерживать – ставишь галку, что ищешь мейнтейнера,
передаешь права. Удалять – это нонсенс. Что будет, если каждый
разработчик, поругавшись в подружкой, начнет удалять модули? Это
строительство дома из пивных банок.</p>

<p>Давайте окинем быстрым взглядом 250 пакетов Азера. Двести пятьдесят,
Карл, как пишут в интернете.</p>

<ul>
  <li><a href="https://github.com/azer/run-paralelly">run-paralelly</a> – 11 комитов, 46 строк.</li>
  <li><a href="https://github.com/azer/left-pad">left-pad</a>, из-за которого сломался интернет. 11 комитов,
11 значимых строк. 660 звезд.</li>
  <li><a href="https://github.com/azer/flat-glob">flat-glob</a> – 6 комитов, 49 строк. Прогресс.</li>
  <li><a href="https://github.com/azer/get-object-path">get-object-path</a> – 9 комитов, 21 строка.</li>
  <li><a href="https://github.com/azer/rnd">rnd</a> – 1 комит, 8 строк.</li>
  <li><a href="https://github.com/azer/random-color">random-color</a> – 7 комитов, 8 строк.</li>
  <li><a href="https://github.com/azer/route-map">route-map</a> – 6 комитов, 55 строк.</li>
</ul>

<p>Ну ты понел.</p>

<p>В интернете точно пошутили, что чуваку нужен не Гитхаб, а
Твиттер. Каждый твит – новый пакет. Большая часть уместится в 140
символов, если переменные укоротить. А “тяжелые” проекты на 50 строк и
больше декомпозировать и подключить зависимостями.</p>

<p>Блин, у него декларация <code class="language-plaintext highlighter-rouge">package.json</code> занимает больше места, чем код.</p>

<p>Что мешает этому Азеру создать пакет <code class="language-plaintext highlighter-rouge">azer-tools</code> и наполнять его
утилитами? Принцип “один пакет – одна функция” это не глупость, a рак
мозга. Я не видел такого ни в одном другом языке.</p>

<p>Ничего удивительного, что подобное произошло. Странно, как такое до
сих пор не случилось, учитывая идиотизм разработчиков вроде
Азера. Когда ты строишь дом из пивных банок, всегда найдется тот, кто
выдернет самую нижнюю, потому что на дне еще осталось. И все упадет.</p>

<p>А ведь я помню поток статей в духе “Node.js спасет мир” пять лет
назад. 2016 на дворе, а в сообществе сканалы на уровне Дома-2.</p>

<p>На закуску – статья Теда Дзюбы
<a href="http://widgetsandshit.com/teddziuba/2011/10/node-js-is-cancer.html">“Node.Js Is Cancer”</a>. На Хабре был перевод.</p>

<p>Ссылки:</p>

<ul>
  <li><a href="https://meduza.io/feature/2016/03/28/kak-slomat-internet">Новость на Медузе</a></li>
  <li><a href="https://medium.com/@mproberts/a-discussion-about-the-breaking-of-the-internet-3d4d2a83aa4d">Переписка Азера</a></li>
  <li><a href="https://medium.com/@azerbike/i-ve-just-liberated-my-modules-9045c06be67c">Сообщение Азера о переносе модулей</a></li>
  <li><a href="https://habrahabr.ru/post/280099/">Что-то с Хабра</a></li>
</ul>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/code-data/">Что значит код как данные</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-26T00:00:00+00:00">
        Mar 26, 2016
    </time>

    <a href="/tag/code/" rel="tag">code</a>, <a href="/tag/data/" rel="tag">data</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/lisp/" rel="tag">lisp</a>, <a href="/tag/macros/" rel="tag">macros</a>

</div>


            <div class="entry">
                
                    <p>Про Лисп говорят, что код это данные, а данные – код. Пока не
поработаешь с Лиспом, понять смысл кода как данных трудно. Ниже – моя
попытка объяснить простыми словами.</p>

<p>Предположим, кто-то осваивает Лисп и делает задачки вроде факториала и
рекурсии. Частенько приходится записывать числовые выражения вроде
<code class="language-plaintext highlighter-rouge">(x + y) * (a / b)</code>. В Лиспе пишут польской нотацией, то есть
выражение выглядит так:</p>

<div class="language-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">*</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
   <span class="p">(</span><span class="nb">/</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">))</span>
</code></pre></div></div>

<p>Не очень привычно. Было бы здорово, думает студент, написать функцию,
которая принимает выражение как удобно мне, а возвращала то, что нужно
Лиспу. Начинает писать функцию <code class="language-plaintext highlighter-rouge">expr</code>, что-то вроде <code class="language-plaintext highlighter-rouge">(expr (x + y) *
(a / b))</code>.</p>

<p>Ничто не предвещает беды. Но вот облом: Лисп, как и другие ЯП,
вычисляет аргументы функции до входа в нее. А выражение <code class="language-plaintext highlighter-rouge">(x + y)...</code>
ошибочно с точки зрения и семантики, и синтаксиса, поэтому даже до
вызова функции <code class="language-plaintext highlighter-rouge">expr</code> дело не дойдет. Что же делать?</p>

<p>Помогут макросы.</p>

<p>Макрос похож на функцию, но с важным отличием. Выражение, переданное в
макрос, НЕ вычисляется. Вместо этого макрос получает список
лексем. Задача макроса – перестоить список в правильную Лисп-форму и
вернуть ее, НЕ вычисляя. Интерпретатор сам вычислит ее, получив из
макроса.</p>

<p>Короткими словами, макросу можно скормить полную дичь:
крестики-нолики, математическое выражение, кусок кода на любом языке,
asii-арт. Внутри макроса это станет списком. Задача макроса –
перестроить дичь в правильный список, который вычислит Лисп.</p>

<p>Именно в этот момент срабатывает срабатывает принцип
код-как-данные. Когда мы пишем <code class="language-plaintext highlighter-rouge">(expr (x + y) * (a / b))</code>, для нас это
код. Но внутри макроса это список! Нулевой элемент списка –
открывающая скобочка, первый – символ x, затем символ плюсика, и так
до последней закрывающей скобочки.</p>

<p>Рассмотрим макрос для вычисления выражений из двух операндов. Он
вычислит простейшие вещи вроде <code class="language-plaintext highlighter-rouge">3 + 2</code>, <code class="language-plaintext highlighter-rouge">2 * 10</code>, <code class="language-plaintext highlighter-rouge">-3 / 2</code>:</p>

<div class="language-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defmacro</span> <span class="nv">expr</span> <span class="nv">[v1</span> <span class="nv">op</span> <span class="nv">v2]</span>
  <span class="o">`</span><span class="p">(</span><span class="nv">~op</span> <span class="nv">~v1</span> <span class="nv">~v2</span><span class="p">))</span>

<span class="p">(</span><span class="nv">expr</span> <span class="mi">2</span> <span class="nb">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">&gt;&gt;&gt;</span> <span class="mi">4</span>
<span class="p">(</span><span class="nv">expr</span> <span class="mi">2</span> <span class="nb">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">&gt;&gt;&gt;</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Видно что в макросе <code class="language-plaintext highlighter-rouge">expr</code> я поменял элементы списка
местами. Выражения длиней трех лексем макрос не примет. Для
проивольного выражения понадобятся разбор и рекурсивный спуск, что
выходит за рамки разговора.</p>

<p>Вот почему Лисп – программируемый язык программирования. Любой
участок кода может быть обработан как список, что делает язык
невероятно мощным. Лисп разрешает любой недостаток своими же
средствами. ООП-системы, средства обработки исключений и многие другие
фундаментальные вещи – всего лишь пакеты с макросами.</p>

<p>PS: Кроме Лиспа, я знаю только один язык со схожим поведенем. Это Tcl
(Тикль) – в котором, грубо говоря, все является строкой. Тикль до сих
пор популярен на производстве: заводах, CAD-системах. Нефтяные
платформы Shell работают под управлением системы, написанной на Тикле.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/tz/">О техзадании</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-24T00:00:00+00:00">
        Mar 24, 2016
    </time>

    <a href="/tag/tz/" rel="tag">tz</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/fail/" rel="tag">fail</a>

</div>


            <div class="entry">
                
                    <p>Когда программист на первой же встрече просит техзадание, знайте, что
это плохой программист. То есть, он может быть хорошим техническим
специалистом, но плохим исполнителем. Скорей всего, он сделает не то,
что нужно было заказчику. Сотрудничество окажется непродуктивным.</p>

<p>Теперь длинное объяснение.</p>

<p>Что такое ТЗ? Это документ, в котором бизнес-требования описаны
техническим языком. Упоминаются протоколы, стандарты, меры
безопасности. Четко описаны процессы обмена данными.</p>

<p>Когда программист просит ТЗ, он не понимает, что требует
невозможного. У заказчика не может быть правильно составленного
технического документа. Все, что у него есть – это обрывки идей
будущего бизнеса.</p>

<p>Задача программиста – помочь оформить бизнес-идеи в техническую
форму. Заказчик не может сделать это сам. Он не знает разницу между
<code class="language-plaintext highlighter-rouge">HTTP</code> и <code class="language-plaintext highlighter-rouge">HTTPS</code>, <code class="language-plaintext highlighter-rouge">GET</code> и <code class="language-plaintext highlighter-rouge">POST</code>, и чем стандартная авторизация
отличается от <code class="language-plaintext highlighter-rouge">OAuth 2.0</code>.</p>

<p>Если программист отказывается составлять ТЗ, это значит, он не
разработчик, а кодер, фрилансер, которому можно доверить только самую
примитивную работу.</p>

<p>Заказчик с готовым ТЗ это редкость. Если есть готовое ТЗ, скорее
всего, над ним уже работал технический специалист. Зачем тогда уходить
к другому? Или найти помощника через того, кто составлял ТЗ.</p>

<p>Поэтому первая фаза встречи программиста и заказчика – это
много-много вопросов. Исполнитель имеет право брать за это деньги,
если гарантирует, что на выходе получится ТЗ, максимально полно
отражающее бизнес-требования.</p>

<p>Программисты-невежды думают, что заказчику составить ТЗ будет
легко. Предлагаю обмен ролями: пусть заказчик напишет ТЗ, а
программист – бизнес-план проекта на будущий год. Затем каждая
сторона оценит результаты другой.</p>

<p>Описанное выше можно изобразить на графике. Вот как протекает
сотрудничество во времени. Программист думает:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|ТЗ       |код       |код        |код     |код      |код         |готово
&gt;------------------------------------------------------------------------&gt;
                                 время
</code></pre></div></div>

<p>На самом деле:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|вопросы    |вопросы   |вопросы   |ТЗ     |код    |код   |код     |готово
&gt;------------------------------------------------------------------------&gt;
                                 время
</code></pre></div></div>

<p>Когда основные вопросы решены и ТЗ составлено, настает время решать,
стоит ли работать над проектом. Возможно, начальные идеи выродятся во
что-то другое.</p>

<p>А вот что будет, если следовать первому графику.</p>

<p>ТЗ – это документ. Однако, напрасно программист думает, что ТЗ как
золотой щит спасет от всех разногласий. Помимо проекта, который описан
в ТЗ, есть еще одна его версия, которая живет в голове заказчика.</p>

<p>В идеале они совпадают, и второй график учит, как этого
достичь. Неудовлетворенные ожидания – это очень плохо, и даже при
самом строгом ТЗ заказчик найдет способ или разорвать контракт, или не
выплатить сумму целиком, или еще что-то.</p>

<ul>
  <li><em>Заказчик:</em> Форма авторизации как-то не очень…</li>
  <li><em>Программист:</em> Все сделано по техзаданию.</li>
  <li><em>Заказчик:</em> Да, но нет авторизации через соцсети.</li>
  <li><em>Программист:</em> Этого не было в ТЗ.</li>
  <li><em>Заказчик:</em> Не было, потому что сейчас это везде, я думал, вы
догадаетесь.</li>
  <li><em>Программист:</em> Вы не отразили это техзадании.</li>
  <li><em>Заказчик:</em> Что вы все с техзаданием! У нас будет меньше
пользователей!</li>
  <li><em>Программист (мысленно):</em> Вот мудак, не знает, что хочет.</li>
  <li><em>Заказчик (думает):</em> Послал же бог дурака. Только по бумажке
работает, мозга ноль.</li>
</ul>

<p>И так до следующей встречи. С новым заказчиком и исполнителем. Драмы и
плач на форумах.</p>

<p><strong>Выводы</strong></p>

<p>Хороший исполнитель не берется за проект пока досконально не изучит
предмет. Он долго задает вопросы. Техническое задание фиксирует итог
совместных исследований. ТЗ максимально точно соответствует ожиданиям
заказчика. Документ не поможет, если реализация не оправдала надежд.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/destructuring/">Деструктивный синтаксис в функциях</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-22T00:00:00+00:00">
        Mar 22, 2016
    </time>

    <a href="/tag/python/" rel="tag">python</a>, <a href="/tag/fp/" rel="tag">fp</a>, <a href="/tag/destructuring/" rel="tag">destructuring</a>, <a href="/tag/syntax/" rel="tag">syntax</a>

</div>


            <div class="entry">
                
                    <p>С удивлением обнаружил, что в Питоне редко пользуются деструктивным
синтаксисом в сигнатурах функций. Рассмотрим, какие преимущества он
дает.</p>

<p>Деструктивный синтаксис пришел, как все лучшее, из мира
функционального программирования. В Питоне он известен как “распаковка
кортежа” на составные переменные.</p>

<p>Распаковывать можно не только кортеж, но и списки и вообще все
итерируемые коллекции. Правда, для множеств и словарей не определен
порядок итерации, что может привести к багам.</p>

<p>Простой пример:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">point</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>
</code></pre></div></div>

<p>Данные часто собираются в группы. Например, точка – это два числа,
которые удобно хранить и передавать вместе. Результат функции тоже
может быть парой – флаг успеха и результат. В кортежи удобно собирать
права доступа, табличные данные.</p>

<p>Некоторые программисты теряются на этом месте и пишут классы, чтобы
группировать данные. Переход к классам уводит нас в противоположную
сторону от коллекций и всех их преимуществ. Лучше хранить данные в
коллекциях насколько это возможно.</p>

<p>Например, работаем с точками. Есть две точки, нужно вычислить
декартово расстояние. Решение в лоб:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">point1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">point2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
    <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">p1</span>
    <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">p2</span>
    <span class="p">...</span>

<span class="k">print</span> <span class="n">distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
</code></pre></div></div>

<p>Хорошо, но лишние строки на распаковку. Решение в ООП-стиле:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># use self.x, self.y, other.x, other.y
</span>        <span class="c1"># to refer variables
</span>        <span class="p">...</span>

<span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p1</span><span class="p">.</span><span class="n">distance</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
</code></pre></div></div>

<p>Лишние строки на класс. К тому же, я забыл добавить метод <code class="language-plaintext highlighter-rouge">__str__</code> и
во время дебага увижу что-то вроде <code class="language-plaintext highlighter-rouge">&lt;object Point at 0x523fw523&gt;</code>
вместо чисел. Матерясь, полезу дописывать метод и только увеличу
энтропию.</p>

<p>Самая простая, и потому лучшая реализация:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">point1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">point2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">distance</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)):</span>
    <span class="p">...</span>

<span class="k">print</span> <span class="n">distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
</code></pre></div></div>

<p>Видим, что распаковка происходит на уровне сигнатуры. Это значит, в
теле функции уже доступны компоненты точек и остается только посчитать
значение.</p>

<p>Такая функция лучше защищена от неправильных аргументов. Если передать
кортеж не с двумя, а тремя компонентами, ошибка распаковки случится
раньше, еще до входа в функцию.</p>

<p>Деструктивный синтаксис следует принципу “явное лучше неявного”. Он
избавляет от долгих описаний вроде “аргумент <code class="language-plaintext highlighter-rouge">permission</code> – это
кортеж, где первый элемент то, второй се, третий…”. Сигнатура с
распаковкой скажет сама за себя.</p>

<p>Распаковывать кортежи можно и в лямбдах. Я пользуюсь этим для
обработки словарей, когда нужна пара ключ-значение:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'foo'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'bar'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'baz'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">process</span> <span class="o">=</span> <span class="k">lambda</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span> <span class="s">'key: %s, value: %d'</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">iteritems</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s">'key: baz, value: 3'</span><span class="p">,</span> <span class="s">'key: foo, value: 1'</span><span class="p">,</span> <span class="s">'key: bar, value: 2'</span><span class="p">]</span>
</code></pre></div></div>

<p>Деструктивный синтаксис сокращает код, делает его декларативным, а
значит, удобным в сопровождении.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/poverty/">О нищенском мышлении</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-14T00:00:00+00:00">
        Mar 14, 2016
    </time>

    <a href="/tag/poverty/" rel="tag">poverty</a>, <a href="/tag/credits/" rel="tag">credits</a>

</div>


            <div class="entry">
                
                    <p>На днях жена спросила, что такое нищенское мышление. Оказывается, на
одном сайте была дискуссия. Я почитал мнения и составил ответ. Он не
уместился в одно предложение. Вопрос заслуживает отдельного поста.</p>

<p>Ошибка считать, что нищий человек это тот, кто стремиться купить
дешевое. Это верно лишь отчасти. Я не считаю себя нищим, но не куплю
вещь только потому, что она дороже.</p>

<p>Например, недавно не купил одну вещь за 1700 рублей потому, что в
другом магазине видел за 400. В современной экономике подобный размах
цен вполне нормален.</p>

<p>Экономия свойственна не только бедным. Приведу в пример известных
людей. Билл Гейтц очень неприхотлив в одежде. Он как-то признался, что
каждая вещь в его гардеробе не дороже 10 долларов. Стив Джобс не
вылезал из водолазки и пары джинс. У Обамы дешевые часы. У Марка
Закерберга бюджетное авто.</p>

<p>Западный человек вообще по-другому обходится с деньгами и думает о
них. Деньги, как бы это выразить лучше, направлены внутрь него. Он
может зарабатывать много, но не стремиться показать это внешне
дорогими вещами. Думает, платить или нет лишний доллар.</p>

<p>Русский человек, только вчера вырвавшийся из советской нищеты, еще не
впитал культуру обращения с деньгами. Отсюда эти гротескные русские
туристы, сорящие деньгами. Они хотят показать, что денег много. При
этом на родине их финансовое положение может быть не таким уж
беспечным.</p>

<p>На мой взгляд, нищенское мышление – это такой ход мыслей, когда
человек остается бедным бесконечно долгое время.</p>

<p>С этим определением все становится на места. Но каким образом мыслит
нищий человек? Какие ошибки он совершает?</p>

<p>Раньше всего, это неспособность к финансовуму планированию. Нищий
человек знает план трат только на текущий месяц. К концу срока денег
нет, снова экономия до получки. И так до пенсии.</p>

<p>Упрощая, можно сказать, что беден тот, кто не накапливает денег. Даже
если человек зарабатывает в месяц миллион и все отдает на кредиты, он
остается бедным, потому что работает в ноль.</p>

<p>В защиту бедного гражданина можно сказать лишь то, что косвенно в этом
виновато и государство. Власти не выгодно, чтобы у граждан
накапливались деньги сразу по двум причинам.</p>

<p>Обеспеченный человек обладает иммунитетом против социального и
финансового давления. С ним сложнее договориться. С бедными не
разговаривают – приказывают.</p>

<p>Массовое сдерживание денег губительно для экономики. Чтобы граждане не
прятали деньги в матрас, искусственно создается инфляция. Неси в банк,
или через год потеряешь десятую часть сбережений.</p>

<p>Вот молодой человек окончил вуз. Жил на стипендию, помогали
родители. Начал работать, получает мало.  Через пять лет поднялся в
должности, стал откладывать, но женился. Свадьба, отпуск, денег
нет. Работает дальше, деньги уходят на обустройство, бытовую технику,
ремонт. Все купили, но рождаются дети. Теперь все деньги уходят на
врачей, сады, секции, школу, университет. Наконец, поднял детей, уже
начальник, а здоровье уже не то, угасли интересы.</p>

<p>Обвинять этого гипотетического гражданина мы не в праве, тем более что
он может быть честным, добрым, начитанным. Но факт в том, что прожил
он бедно.</p>

<p>Второе – это кредиты. Они тянут на финансовое дно и в перспективе
сделают бедным любого. Кредит для малоимущего – это как доза
наркоману со стажем.</p>

<p>Сегодня, когда население России стремительно нищает, как грибы после
дождя открываются сервисы микрозаймов. Это займы 600% годовых и распри
с коллекторами. Царапины на машинах, перерезанные провода, поджог
колясок. Люди на все это идут добровольно.</p>

<p>Кредит коррелирует с нищетой, это неизбежно. Рядом с каждым
объявлением о займе висит другое с оформлением банкротсва физлица. Это
переуступка долга, если кто не знал. Платишь за то, чтобы теперь быть
должным другому коллектору.</p>

<p>Когда иду по городу, вспоминаю Ильфа и Петрова. В уздном городе N были
только цирюльни и погребальные конторы, словно граждане рождались за
тем, чтобы побриться и умереть. А в крупных городах люди живут чтобы
брать кредиты, терпеть беспредел коллекторов и становиться банкротами.</p>

<p>Мы с Аленой поженились рано и первое время жили, так сказать,
скромно. У нее зарплата 8 тысяч, а у меня, бывало, еще меньше. Почти
все уходило на еду и редкие развлечения. При этом мы стабильно
откладывали 2-3 тысячи. В год набегало 25. Раз в несколько месяцев
покупали технику: микроволновку, фотоаппарат. И когда нам советовали
кредит, крутили пальцем у виска. Мы что, миллионеры, платить двойную
стоимость?</p>

<p>В школах нет уроков финансовой грамотности. И вообще этому нигде не
учат. Взрослые в отношении денег ведут себя как дети. Минутный восторг
от вещи им важней кредитной кабалы, под которой подписываются в
трезвом уме.</p>

<p>Вот что такое нищенское мышление. Давить его из себя беспощадно.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/raml/">Что такое RAML и как он помогает проекту</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-10T00:00:00+00:00">
        Mar 10, 2016
    </time>

    <a href="/tag/raml/" rel="tag">raml</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>Расскажу об интересной штуке под названием <a href="http://raml.org/">RAML</a>. Использую
в текущем проекте и очень доволен. Технология молодая, информации в
сети мало, на русском вообще не попадалось.</p>

<p>Предположим, несколько сервисов сообщаются по HTTP API. Авторизация,
история операций, бизнес-транзакции. Сервисы принимают и отдают JSON,
сигнализируют об ошибках правильными статусами ответа. Нет
пользователя – 404, нет прав – 403, кривые данные
– 400. Классический рест.</p>

<p>Как составить документацию? Нужно перечислить все урлы. Указать
правила авторизации, заголовки, как правильно их составить. Для
каждого урла перечислить методы GET, POST, etc. Описать структуру
входных данных. Структуру ошибочных ответов. Добавить человеческое
описание каждого метода. И все это поддерживать в актуальном
состоянии.</p>

<p>Возможно, есть специалисты, которые ведут документацию правильно,
чтобы все было описано по пунктам и ничего не расползалось. Не нужно
уточнять детали, ответ сервера в точности такой, как написано. И
группа людей соблюдает все соглашения о ведении документации.</p>

<p>На практике я вижу обратное. Документация отстает от разработки. Текст
пишут в вики в ужасной разметке. Каждый человек придерживается особых
правил. На ретроспективе холиварят о том, как документировать
правильно.</p>

<p>RAML решает эти проблемы. Название означает REST API Markup
Language. Технически это YAML-документ с набором фич. Стандарт задает
жесткую структуру для описания рестовых апих. Разработчики держат этот
файл в гите и наполняют вместе с кодом. Во время билда особая утилита
переводит документ в формат HTML.</p>

<p>Перечислю достоинста технологии:</p>

<ol>
  <li>
    <p><strong>Структура.</strong> RAML – это стандарт, поэтому отсебятены в документе
быть не может. В группе разработчиков не будет конфликтов, как
описать схему запроса или входные параметры.</p>
  </li>
  <li>
    <p><strong>Формат YAML.</strong> Это лучший формат для конфигураций. Краток, удобен
для чтения. Поддерживает основные типы. Имеет списки,
словари. Поддерживает многострочные данные. Разрешает
комментарии. Не падает из-за лишней запятой на конце, как JSON.</p>
  </li>
  <li>
    <p><strong>Поддержка markdown.</strong> Описание к каждой сущности пишется в
маркдауне. Это самый простой язык разметки. Очень подходит для
вставки кода, простейшей структуры (заголовки, подзаголовки).</p>
  </li>
  <li>
    <p><strong>Инклуды.</strong> Большой файл легко декомпозировать на составные части
и подключать по частям директивой <code class="language-plaintext highlighter-rouge">include</code>. Более того, инклуд
поощрается стандартом, чтобы не дублировать сущности. Например,
любой <code class="language-plaintext highlighter-rouge">list</code>-метод (список сущностей методом <code class="language-plaintext highlighter-rouge">GET</code>) принимает
параметры <code class="language-plaintext highlighter-rouge">limit</code> и <code class="language-plaintext highlighter-rouge">offset</code>. Создаем отдельный файл с их
описанием, примерами. Подключаем к нужным методам инклуд,
компилируем. На выходе у каждого метода идентичное описание этих
параметров.</p>

    <p>Инклуды позволяют комбинировать документацию для разных
целей. Например, есть публичные апи, а есть внутренние. Описываем
каждую в отдельном файле. Создаем два документа. Первый для
заказчика, с инклудами только публичных апих. Второй для внутренних
нужд – только с инклудами внутренних.</p>
  </li>
  <li>
    <p><strong>Утилиты и экспорт.</strong> Документацию в RAML легко обрабатывать
машинным способом, потому что это стандарт, протокол. Уже
существует <a href="http://raml.org/projects/projects">пачка утилит</a> для работы с
форматом. Визуальные редакторы, генерация кода по заданным урлам,
плагины к редакторам и ИДЕ, и конечно, тулза для экспорта в
markdown и HTML.</p>
  </li>
  <li>
    <p><strong>JSON-схемы.</strong> Схема – лучший способ описать структуру
данных. Она заменит долгие списки и абзацы человеческого
языка. Схема декларативна – сложные структуры могут быть
представлены как ссылки на схемы проще. RAML поддерживает инклуд
схем.</p>
  </li>
  <li>
    <p><strong>Поддержка HTTP/REST.</strong> Стандарт знает все о заголовках и статусах
ответа. Красиво, когда документация покажет не только тело ответа,
но и статус с описанием, примеры заголовков.</p>
  </li>
</ol>

<p>Существует два версии формата: 0.8 и 1.0. Вторая предлагает больше
полей и возможностей для описания. Я пока что пользуюсь 0.8.</p>

<p>Рассмотрим простой пример. Пусть есть простая апиха. Вот что мы
напишем в заголовке файла <code class="language-plaintext highlighter-rouge">example.raml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#%RAML 0.8</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Some Title</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">v3</span>
<span class="na">baseUri</span><span class="pi">:</span> <span class="s">https://example.com/api/v1/</span>
</code></pre></div></div>

<p>Добавим вводную документацию. Для каждого раздела укажем
подзаголовок. Ниже:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">documentation</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Main Title</span>
   <span class="na">content</span><span class="pi">:</span> <span class="pi">|</span>
     <span class="s">common notes on this document.</span>

 <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Authorization</span>
   <span class="na">content</span><span class="pi">:</span> <span class="pi">|</span>
     <span class="s">Some text to describe HTTP headers to access data.</span>
     <span class="s">~~~</span>
     <span class="s">code goes here...</span>
     <span class="s">~~~</span>
</code></pre></div></div>

<p>Задекларируем правила авторизации. У нас в проекте это обычная базовая
авторизация по протоколу HTTPS. Стандарт RAML знает, что это такое:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">securitySchemes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">Basic Authentication</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">Basic Authentication</span>
</code></pre></div></div>

<p>Теперь, описывая урл, можем просто состаться на этот тип
авторизации. В скомпилированном HTML-документе напротив урла будет
стоять замочек, а по клику откроется окошко с описанием правил
авторизации.</p>

<p>Начнем описывать урлы:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">/api/v1/user</span><span class="pi">:</span>
  <span class="na">securedBy</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">Basic Authentication</span><span class="pi">]</span>
  <span class="na">get</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">Retrieves a list of users.</span>
      <span class="s">### Syntax</span>
      <span class="s">~~~</span>
      <span class="s">GET /api/v1/user/</span>
      <span class="s">Host: {host}</span>
      <span class="s">Authorization: {authorization}</span>
      <span class="s">~~~</span>
    <span class="na">queryParameters</span><span class="pi">:</span>
      <span class="kt">!include</span> <span class="s">user_list_params.raml</span>
    <span class="na">responses</span><span class="pi">:</span>
      <span class="na">200</span><span class="pi">:</span>
        <span class="na">body</span><span class="pi">:</span>
          <span class="s">application/json</span><span class="pi">:</span>
            <span class="na">example</span><span class="pi">:</span> <span class="kt">!include</span> <span class="s">examples/user_list_response.json</span>
            <span class="na">schema</span><span class="pi">:</span> <span class="kt">!include</span> <span class="s">schemas/user_list_response.json</span>
</code></pre></div></div>

<p>Все просто. Мы декларируем апиху, которая отдает список юзеров. Доступ
защищен базовой авторизацией. В описании пример запроса. Файл
<code class="language-plaintext highlighter-rouge">user_list_params.raml</code> содержит парамеры командной строки: лимит,
смещение, сортировка.</p>

<p>Схема ответа может быть большой, поэтому инклуд. В файле
<code class="language-plaintext highlighter-rouge">examples/user_list_response.json</code> лежит схема, примерно такая:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://json-schema.org/draft-04/schema#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProperties"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"definitions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"additionalProperties"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"maxLength"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/definitions/item"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"results"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Смотрите, как удобно: в начале схемы декларируется тип юзера. Конечный
ответ – это массив таких сущностей.</p>

<p>Дальше документ очень удобно развивать. Добавлять методы (POST, PUT,
DELETE), ссылаться на уже определенные структуры, выносить повторы в
инклуды.</p>

<p>Скомпилируем документ в файл. Утилита <a href="https://github.com/raml2html/raml2html">raml2html</a>
написана на node.js и ставиться через npm. Компилим:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>raml2html example.raml &gt; example.html
</code></pre></div></div>

<p>Не нравится дефолтный шаблон? Можно передать свой:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>raml2html -t custom-templates/template.nunjucks -i example.raml -o example.html
</code></pre></div></div>

<p>В результате получим HTML-документ (<strong>UPD</strong> документ по ссылке удалили).</p>

<p>RAML действительно экономит время на составление документации. Технология
молода, но очень перспективна. Советую использовать уже сейчас.</p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/meetup3/">Третья встреча любителей глобоко порефакторить</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-03-02T00:00:00+00:00">
        Mar 2, 2016
    </time>

    <a href="/tag/video/" rel="tag">video</a>, <a href="/tag/meetup/" rel="tag">meetup</a>, <a href="/tag/agile/" rel="tag">agile</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>Состоялась третья встреча!</p>

<p>Денис Ковалев дал вредные советы программистам. С комментариями,
почему это вредно.</p>

<iframe width="854" height="480" src="https://www.youtube.com/embed/trpH84nQisA" allowfullscreen=""></iframe>

<p><a href="https://www.slideshare.net/mobile/DenisKovalev2/ss-58746109">Слайды</a></p>

<p>Наш гость Евгений Рыжков поведал о спорных моментах в манифесте
аджайла.</p>

<iframe width="854" height="480" src="https://www.youtube.com/embed/FMvRab1wMS8" allowfullscreen=""></iframe>

<p><a href="http://www.slideshare.net/IvanGrishaev/agile-or-not-agile">Слайды</a></p>

<p>Напомню, что мы тусим в группе в <a href="https://www.facebook.com/groups/deeprefactoring/">Фейсбуке</a>. Во
<a href="https://vk.com/deeprefactoring">Вконтакте</a> осталась легаси-группа, в нее валим только видосы и
анонсы.</p>

<p>Планируем четвертую встречу. Хотите выступить? Шлите запрос в ФБ мне,
Денису или Юре.</p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/how-to-be-interviewed/">Как проходить собеседование</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-02-22T00:00:00+00:00">
        Feb 22, 2016
    </time>

    <a href="/tag/interview/" rel="tag">interview</a>

</div>


            <div class="entry">
                
                    <p>В первой части <a href="/how-to-interview">я рассказал</a>, как проводить
собеседования. Теперь разберемся, что требуется от кандидата.</p>

<h3 id="текст-о-себе">Текст о себе</h3>

<p>В резюме должен быть сопроводительный текст. Не голая табличка с
местами работы, а параграф связного текста о том, кто вы, что умеете и
каким образом полезны компании.</p>

<p>Кандидаты думают, что в таблице все понятно. Увы. За таблицей не видно
человека. По короткому абзацу текста можно сказать о человеке больше,
чем по огромной таблице.</p>

<p>Не нужно воспринимать текст о себе как момент славы. Иные кандидаты
пишут чуть ли не родословную: когда родился, женился. Пишите только по
делу, о том, что важно работодателю. А ему важно одно – какая от вас
польза.</p>

<p>В резюме не должно быть табличек, болдов, италиков. Просто
текст. Отправляйте письмом без вложений. Нулевые года прошли.</p>

<h3 id="протоколы-алгоритмы-бд">Протоколы, алгоритмы, БД</h3>

<p>При подготовке к техническуому собеседованию обязательно повторите
сетевые протоколы, алгоритмы сортировки. Освежите в голове, как
работают основные структуры данных. Какие операции хороши для массива,
какие для связного списка? Почитайте базы данных, транзакции, индексы.</p>

<p>В больших проектах решают не конкретные языки, а архитектура и
инструменты. Кандидат, который превосходно знает <a href="/interview/#http">протокол HTTP</a>
и средне Питон, лучше кандидата, у которого ситуация наоборот.</p>

<h3 id="не-опаздывать">Не опаздывать</h3>

<p>Опоздание – тягчайший грех. Никому не интересно, что у вас заболел
попугайчик, потерялись ключи, заболели родственники. Про дорожные
пробки даже не заикайтесь. Это неотъемлемая часть городской жизни.</p>

<p>Однажды кандидат опоздал на час и рассказал, что, оказывается, на
дороге пробки. ВНЕЗАПНО, да. Выглядел он как школьник, который
прогулял диктант и говорит, что болела рука. Собеседование не прошел.</p>

<p>Если что-то случилось, звоните. У вас должны быть телефоны кадровиков
или менеджеров. У опоздавшего кандидата был телефон размером с лопату
со всеми мыслимыми мессанджерами. Предупредить об опоздании он не
посчитал нужным.</p>

<h3 id="подготовьте-окружение">Подготовьте окружение</h3>

<p>Если проходите собеседование удаленно, подготовьте рабочее
место.</p>

<p>Камеру и гарнитуру проверьте заранее. Страшно бесит, когда кандидат
калибрует девайсы в счет вашего времени. Вы видели, чтобы в передаче
по телевизору оператор выставлял фокус, а диктор проверял микрофон?</p>

<p>Запустите тормозную ИДЕ заранее, чтобы не тратить 20 секунд
впустую.</p>

<p>Собеседование не должно проходить на вашей текущей работе. Придется
убегать от коллег и прятаться по переговоркам. Окружающие все сразу
поймут. Берите отгул.</p>

<p>Отгородитесь от домашних, в том числе животных. Отключите телефон и
нотификации в ноутбуке.</p>

<h3 id="не-перебивать-не-холиварить">Не перебивать, не холиварить</h3>

<p>Категорически запрещено перебивать того, кто задает и принимает
ответ. И точка.</p>

<p>Избегайте негативных оценок. Не озывайтесь плохо о технологиях, тем
более о людях. По несчастливой случайности, собеседник напротив
обязательно окажется экспертом в ПХП, про который вы сказали, что это
говно. Спорить будет песполезно, только провалите собеседование.</p>

<p>Опытный переговорщик может поиграть в адвоката дьявола и закинуть
похожую мысль. Например, мы же на Эрланге пишем, а не на
быдло-руби. Не соглашайтесь на это, спокойно отвечайте, что у каждой
технологии свои плюсы и минусы.</p>

<p>В конце концов, ваше мнение о ПХП, Хаскеле и ООП ничего не меняет.</p>

<h3 id="будьте-на-равных-с-собеседником">Будьте на равных с собеседником</h3>

<p>Собеседование – это переговоры. В переговорах стороны по определению
равны. Это значит каждая сторона имеет право задавать вопросы и
говорить “нет”.</p>

<p>Ваша беседа должна быть на равных. Случается, кандидата задавливают,
дают понять, что беседа протекает в одностороннем режиме. Но бывает и
так, что кандидат сознательно становится на ступеньку ниже, проявляет пассивность.</p>

<p>Обязательно спрашивайте ответ, если не смогли ответить. Все мы люди, и
в волнении можем забыть то, что твердо знали. По первым словам
собеседника вы вспомните то, что забыли. Конечно, такой вопрос пойдет
в зачет.</p>

<p>Топорное “не знаю” с последующей паузой разражает. Я вижу, что не
знаешь, но как ты будешь действовать? Какие задашь вопросы? Или будешь
тупить за компом, молча срывая сроки?</p>

<p>Нет ничего плохого в том, чтобы отвечать вопросом. Предположим, ответ
на вопрос получился весьма скромным. Тогда попросите собеседника
пояснить неясные моменты. Работает это безотказно. Собеседник не
сможет проигнорировать внимание к своей персоне. Кандидат получит
знания и очки за внимание.</p>

<h3 id="не-болтайте-лишнего">Не болтайте лишнего</h3>

<p>На собеседовании следите за языком, чтобы не выдать важных
сведений. Как при задержании – все, что скажете, может быть
использовано против вас.</p>

<p>Не отзывайтесь плохо о бывших коллегах. Собеседник автоматиески
примерит это на себя. “Наверное, на новом месте он тоже расскажет,
какой я мудак” – вот что он подумает.</p>

<p>Эйчары падки на скандальные истории. На каждый ответ про конфликты вы
получите три новых вопроса. Неужели начальник действительно был
неправ? Как пытались разрешить конфликт? Допускаете, что были правы не
вы? Вскоре с удивлением вы обнаружите, что обсуждаете не техническую
часть, а отношения на прошлой работе, и ситуация не в вашу пользу.</p>

<p>Это похоже на то, как девушка выпытывает у парня, сколько других было
до нее. Самый худший вариант – ответить правду. Будь то одна, десять
или сто девушек. Дайте собеседнику понять – вы настроены на
сотрудничество с новой компанией. Прошлые конфликты улажены, нет
смысла к ним возвращаться.</p>

<h3 id="если-вы-без-опыта">Если вы без опыта</h3>

<p>Особенно трудно собеседование дается тем, у кого нет опыта по
специальности. Здесь есть одна хитрость. Когда проходит человек без
опыта, работодатель решает вопрос – стоит ли вообще связываться с
этим человеком? Насколько он адекватен, внимателен? Можно ли его
чему-то обучить?</p>

<p>Задача кандидата-новичка в том, чтобы продемонстрировать адекватность
и восприятие. Поэтому не перебивайте, слушайте, задавайте вопросы. Не
стесняйтесь отказывать. Не думайте об этом месте работы как о
единственно возможном.</p>

<p>Вот и все, что нужно кандидату для успешного прохождения интервью!</p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/project-interview/">Проект "Собеседование"</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-02-05T00:00:00+00:00">
        Feb 5, 2016
    </time>

    <a href="/tag/education/" rel="tag">education</a>, <a href="/tag/interview/" rel="tag">interview</a>, <a href="/tag/python/" rel="tag">python</a>

</div>


            <div class="entry">
                
                    <p>Прерываю череду постов о собеседованиях практической вещью. Рад
представить коллегам <a href="/interview/">проект “Собеседование”</a>. Это база
технических вопросов с ответами для проведения интервью и подготовки к
нему.</p>

<p>Кандидаты найдут в документе список вопросов на самую обширную
тематику. К каждому вопросу приведен короткий ответ. Так вы сразу
поймете, верны ли ваши познания в конкретной области.</p>

<p>Опытные коллеги, которые проводят собеседования, получат хороший
план. Нередко случалось со мной такое, что забывал спросить кандидата
что-то важное. Заговорились, то-се. Но когда перед глазами оглавление,
осечки быть не может.</p>

<p>Кандидаты должны работать с документом так. Смотрите содержание,
выбираете вопрос. Мысленно спрашиваете себя или коллегу, отвечаете. По
клику перематываетесь к ответу. Проверяете, правильно ответили или
нет. Не согласны с ответом? Пишите на почту или в комментарии.</p>

<p>Расскажу историю этого документа. Я начал записывать вопросы для
собеседования в приватный Гугл-док. Сперва это были вопросы
исключительно про Питон. Постепенно я добавлял базовые
вещи. Алгоритмы, безопасность и даже практику. Несколько раз я шарил
его с коллегами, но актуальная версия была только у меня. Несколько
раз я передавал вопросы коллегам из других айтишных компаний.</p>

<p>Вполне возможно, что на собеседовании вас спросят кое-что из моего
списка. А если претендуете на Питон – вероятность стремится к
единице.</p>

<p>Кто-то может подумать, что шарить вопросы, да еще с ответами нехорошо
– ведь можно заранее подготовиться. Знаете, я только об этом и
мечтаю! Чтобы пришел человек, по пунктам разобравший каждый
вопрос. Потому что зубрить бесполезно. И еще потому что знания должны
быть открыты и бесплатны.</p>

<p>В документе до сих пор есть дыры, которые мне предстоит
заполнить. Напомню, проект лежит в <a href="https://github.com/igrishaev/interview">Гитхабе</a>, и любая помощь
приветствуется. Уже нашлись добрые люди, которые поправили опечатки.</p>

<p>У меня строгое видение работы по этому документу. Он не должен быть
учебником, и отдельно взятый вопрос не должен занимать больше трех
абзацев. Цель – быстро понять, знает ли кандидат ответ на вопрос или
нет. К короткому изложению можно только приложить ссылки на подробные
ресурсы. И конечно, когда-нибудь перевести это добро на английский.</p>

<p>Если кто-то хочет принять участие в наполнении документа, свяжитесь со
мной заранее, чтобы согласовать план работ.</p>

<p>Искренне надеюсь, что кому-то этот труд окажется полезным. Всячески
приветствую использование этого документа в образовательных и
бизнес-целях. Пожалуйста, делитесь ссылкой на оригинал, чтобы видеть
актуальную версию.</p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/what-was-2015/">Итоги 2015 года</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2016-01-30T00:00:00+00:00">
        Jan 30, 2016
    </time>

    <a href="/tag/summary/" rel="tag">summary</a>, <a href="/tag/2015/" rel="tag">2015</a>

</div>


            <div class="entry">
                
                    <p>Подвожу итоги 2015 года. С опозданием пишу о главных событиях, которые
произошли со мной в ушедшем году.</p>

<p>Начну с плохого. Весной я тяжело переболел гриппом. Произошло это в
командировке. Был очень плох, думал, помру. По счастливому совпадению
ехал в поезде отдельно от коллег. А дома – беременная жена. Две
недели жили по разным комнатам, общались по скайпу и
записками. Обошлось.</p>

<p>Осенью мне попала вожжа под хвост. Я поступил в магистратуру
ВГУ. <a href="http://www.amm.vsu.ru/">ПММ, ФИИТ</a>, все дела. Совершенно глупый
поступок. Бессмысленность затеи стала очевидна быстро. На тему
обучения я напишу отдельный пост, а пока думаю над тем, бросать или
нет. Не привык бросать начатое дело, фрустрирую.</p>

<p>Хорошего больше. У нас родилась дочь, сын пошел в школу. Я люто-бешено
горжусь тем, что мы с женой разруливаем дела без бабушек, дедушек и
нянь по найму. Хотя год назад я не представлял, как это хотя бы
физически возможно.</p>

<p>Ездили с сыном в отпуск. Прочел <a href="2015/09/12/2/">Дейла Карнеги</a> и
<a href="/2015/09/15/1/">Джима Кемпа</a>. Теперь эти книги помогают мне каждый день. Читать
их было праздником, а пользу вообще невозможно оценить.</p>

<p>1 декабря я вышел на новую работу. Теперь я удаленщик, работаю на
небольшую фирму в Лондоне. Открыл ИП, плачу налоги, отчитиваюсь
государству. Уходить из Датаарта было мучительно тяжело: хороший
проект, классные коллеги, с финансами все ок. И все же вырвал себя с
мясом из уютного мирка.</p>

<p>С уходом из Датаарта я стал чаще писать в блог. А чтобы не было
дефицита общения, организовал айти-сообщество
<a href="https://www.facebook.com/groups/deeprefactoring/">“Глубокий рефакторинг”</a>. Каждый месяц проводим встречи с
докладами. И это супер, скажу я вам. Не в кабак всем проектом
ходить. Приятно видеть, как оживляются другие фирмы, видя нашу
актвность.</p>

<p>31 декабря мне стукнуло 30 лет. Может, именно в этот момент понимаешь,
что жизнь не вечна? Теперь я стараюсь записать все, что знаю, в
документы и блог. И вообще понял, что жизнь коротка и знания должны
быть открыты и бесплатны.</p>

<p>Вот что случилось со мной в 2015 году. Написал пост с задержкой в
месяц, но очень рад, что руки долши. Обязательно прочту в перед Новым
годом. Всем удачи!</p>


                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page36" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 37 из 55</span>
        
        <a href="/page38" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
