<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page52/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/oop-2/">Почему я против объектов. Часть вторая, техническая</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-19T00:00:00+00:00">
        Jan 19, 2018
    </time>

    <a href="/tag/oop/" rel="tag">oop</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    
<p>Это продолжение <a href="/oop-1">предыдущего поста</a> на тему ООП. Напомню, что пишу его
под воздействием книги Егора <a href="http://www.yegor256.com/elegant-objects.html">“Elegant Objects”</a>. Прошлая публикация была
немного абстрактной и слегка резковатой. Полагаю, так случается со всеми после
чтения какого-либо из текстов Егора. Недаром его идеи будоражат интернет: каждый
пост становится предметом бесконечных обсуждений.</p>

<p>В этой части поговорим на более технические темы, поэтому тональность будет
поспокойней. Напомню, это не полноценная рецензия на книгу; их уже написано
достаточно. Скорее, ниже приведены возражения к некоторым тезисам из “Elegant
Objects”.</p>

<p>Сама по себе книга очень понравилась. Хоть я и далек от ООП, но прочел с
удовольствием. Польза от материала в том, что он действительно продвигает
вперед, заставляет задумываться о смысле обыденных паттернов и приемов. Через
всю книгу красной нитью проходит тема поддержки кода, что редко встречается в
любой другой литературе на тему разработки.</p>

<p>Выражаясь терминами Ильяхова, в книге описан (и вызывает в читателе)
<a href="http://maximilyahov.ru/blog/all/feel/">чувственный опыт</a>, то есть все то, что автор пережил и испытал лично. Это
делает материал очень убедительным. Возникает особое доверие, которого нет при
чтении очередного руководства.</p>

<p>Напомню, Егор предлагает строить программы при помощи неизменяемых
объектов. Каждый такой объект представляет интересы реальной и, возможно,
меняющейся сущности реального мира. Объект должен запрашивать минимум входных
данных, в противном случае он становится композицией других объектов поменьше. С
этими же “элегантными” объектами связан отказ от <code class="language-plaintext highlighter-rouge">NULL</code>, <code class="language-plaintext highlighter-rouge">getters/settets</code>,
наследования и других вещей из промышленного ООП, с чем я полностью согласен.</p>

<p>В то же время не могу не возразить по следующим тезисам.</p>

<p>В стремлении дробить объекты на мелкие сущности мы неизбежно придем к ситуации,
когда их станет очень много. Знания о каждом объекте будут просты, но
потребуется знание о том, как их совмещать. Эту информацию можно будет
зафиксировать разве что в <code class="language-plaintext highlighter-rouge">readme</code> или <code class="language-plaintext highlighter-rouge">wiki</code> к какой-нибудь библиотеке, и
большая часть кода будет набираться банальной копи-пастой.</p>

<p>Думаю, каждый сталкивался с ситуацией в проекте на Java, когда на каждый квант
информации заведен класс, и совершенно не ясно, как построить общую
картину. Аргумент выше я позаимствовал из <a href="http://clojure.by/articles/2016-07/elegant-objects">блога Дмитрия Бушенко</a>,
который тоже писал отзыв на книгу. Здесь мне нечего добавить к аргументу
Дмитрия: помню, разбираясь с Хаскелом, я тоже был поражен взрывному росту типов
по мере роста программы. На каждую пару есть функция-конвертор, но пока ее
найдешь…</p>

<p>Примеры, которые приводит Егор с классами <code class="language-plaintext highlighter-rouge">Cash</code> и пр. действительно смотрятся
красиво. То же самое можно сказать про класс <code class="language-plaintext highlighter-rouge">Max</code>, который инкапсулирует два
числа и сам притворяется числом, производя вычисления только когда к нему
обращаются как к числу. Сама элегантность! Но все же у меня остались сомнения,
что средних размеров проект, выстроенный на маленьких объектах, не начнет
пошатываться из-за множества внутренних связей.</p>

<p>Рассмотрим код, который соответствует критериям Егора на элегантность. Вот
он. Это копирование данных из одного источника данных в другой. Взят из <a href="http://www.yegor256.com/2017/06/22/object-oriented-input-output-in-cactoos.html">блога
Егора</a>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">LengthOfInput</span><span class="o">(</span>
  <span class="k">new</span> <span class="nf">TeeInput</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">BytesAsInput</span><span class="o">(</span>
      <span class="k">new</span> <span class="nf">TextAsBytes</span><span class="o">(</span>
        <span class="k">new</span> <span class="nf">StringAsText</span><span class="o">(</span>
          <span class="s">"Hello, world!"</span>
        <span class="o">)</span>
      <span class="o">)</span>
    <span class="o">),</span>
    <span class="k">new</span> <span class="nf">FileAsOutput</span><span class="o">(</span>
      <span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="s">"/tmp/hello.txt"</span><span class="o">)</span>
    <span class="o">)</span>
  <span class="o">)</span>
<span class="o">).</span><span class="na">value</span><span class="o">();</span> <span class="c1">// happens here</span>
</code></pre></div></div>

<p>Оставим за скобками вопрос о длине кода (императивная версия займет три строки);
нас пока это не интересует.</p>

<p>Главное преимущество подхода Егора выражается в декларативности: мы выстраиваем
дерево объектов, которое ничего не делает при создании. Такое дерево можно
построить, где-то хранить, передавать куда-то или даже сериализовать. Типичному
Lisp-программисту это напомнит принцип “код как данные”, хотя очень условно.</p>

<p>Остается только нажать на крючок, который каскадно спустит весь механизм.</p>

<p>Недостатки метода вытекают из его же достоинств. Прежде всего, дерево лениво. А
ленивость не всегда хороша. Чем ленивей структура данных, тем больше будет
дистанция между исполнением и ошибкой.</p>

<p>В примере выше все действие совершается в финальном вызове <code class="language-plaintext highlighter-rouge">.value()</code> верхнего
объекта. Сказать, что это неочевидно, значит ничего не сказать. Помню, мне
приходилось отлаживать схожий код с отложенными вычислениями. Много сложности
вносило то, что при выводе объектов в консоль совершались скрытые действия,
например, итерация по коллекции, чтение потоков. Это было очень не очевидно, а
потому тяжело в поддержке.</p>

<p>Те, кто программирует на Питоне, должны помнить, что с выходом третьей версии
все методы, ранее возвращающие списки, теперь стали возвращать ленивые
итераторы, по которым можно пройтись один раз. Приходилось каждый такой вызов
оборачивать в <code class="language-plaintext highlighter-rouge">list()</code>, чтобы скопировать элементы в фиксированную
коллекцию. Фактически это борьба с ленивостью. Особенно раздражало, когда в
интерактивном сеансе выводишь коллекцию в терминал, она считывается целиком,
выводится на экран и становится пустой.</p>

<p>Словом, я не уверен в достоинствах дерева объектов.</p>

<p>Следующий момент, на который я бы хотел обратить внимание: приглядитесь к именам
классов из примера выше. Мне бросается в глаза одинаковый паттерн именования:
<code class="language-plaintext highlighter-rouge">ThisAsThat</code>, то есть Одна сущность в Другую. У экземпляров этих классов всего
лишь один метод <code class="language-plaintext highlighter-rouge">.value()</code> (или <code class="language-plaintext highlighter-rouge">.text()</code>, <code class="language-plaintext highlighter-rouge">.bytes()</code>, что угодно), который
возвращает результат типа второй сущности.</p>

<p>Налицо утилитарность таких объектов: их жизненный цикл состоит исключительно в
том, чтобы перевести данные из одного типа в другой. Нужен ли этот класс в
дальнейшем? Нет. Это просто преобразование из А в Б. Такой объект даже не
заслуживает “уважительного”, как пишет Егор, отношения. Это просто
преобразователь, конвертор, читатель, что угодно.</p>

<p>Такие утилитарные объекты нарушают принцип из статьи <a href="https://habrahabr.ru/post/140581/">“перестаньте писать
классы”</a>, на которую я ссылался в предыдущей части. Если у класса
один метод, то он должен быть функцией. Потому что если мы заинтересованы в
одном методе, нет смысла хранить состояние и вообще оборачивать исходные данные
в какую-то абстракцию.</p>

<p>Этот принцип кажется мне слишком весомым, чтобы его нарушать.</p>

<p>Взгляните на код: буквально на ровном месте мы возвели множество сущностей:
<code class="language-plaintext highlighter-rouge">Text</code>, <code class="language-plaintext highlighter-rouge">Bytes</code>, <code class="language-plaintext highlighter-rouge">Input</code>, <code class="language-plaintext highlighter-rouge">TeaInput</code>. А ведь всего-то требовалось скопировать
данные. С точки зрения программиста, у которого в проекте десяток библиотек и
фреймворков, это должна быть автомарная операция.</p>

<p>Сейчас я попрошу вас, не перематывая страницу вверх, мысленно построить это же
дерево. Что было первым? Пишу по-честному: сначала <code class="language-plaintext highlighter-rouge">LengthOfInput</code>, под ним
<code class="language-plaintext highlighter-rouge">TeaInput</code>, а дельше цепочка из Одного в Другое. То ли байты в текст, то ли
строка из текста или наоборот. Кто на ком стоял? Теперь подумайте о том, что
копирование данных происходит постоянно и во многих местах. Неужели придется
держать порядок в голове?</p>

<p>Как я уже писал, появляется потребность в особом знании о том, как организовать
такие классы. Напрашивается идея о “схлопывании” такого дерева в отдельный
объект-копировальщик, какой-нибудь <code class="language-plaintext highlighter-rouge">DataCopier</code>, что, конечно, противоречит
тезисам Егора. Как тут быть, я не знаю.</p>

<p>В третьей части я коснусь темы структур данных и функционального подхода,
которым Егор тоже уделил внимание в книге.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/you/">Ты же понимаешь</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-18T00:00:00+00:00">
        Jan 18, 2018
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    <p>Немного найдется речевых оборотов, которые меня раздражают. Я совершенно
спокойно отношусь к мату, словам-паразитам, булшит-сленгу – заафектить,
консерн, форварднуть, пропоузал.</p>

<p>Даже “я тебя услышал” кажется мне что-то забавным. Но если и есть паттерн, от
которого хочется прекратить беседу, так это “ты же понимаешь, что…”. Это ни
разу не ок, так говорить.</p>

<p>Подставляя это словосочетание в начало фразы, собеседник пытается навязать
мысль, причем весьма грубым способом. Ты же понимаешь, и все, без
вариантов. Неважно, что дальнейшее высказывание идет вразрез со всякой логикой,
главное сделать упор на первом утверждении.</p>

<p>Этот дешевый трюк применяется исключительно перед публикой. В одиночку он не
работает, потому что обоим собеседникам видна вся его ложная предпосылка. Но
аудитория редко удерживает в голове всю цепочку, поэтому достаточно огласить
взаимное согласие, а затем топить за свое мнение без какой-либо аргументации.</p>

<p>Сюда же относятся “мы все согласны, что…”, “очевидно же, что..” и сто других
усилителей:</p>

<p>– Ты же понимаешь, что функциональное программирование применяется только в
академической среде.</p>

<p>– Ты же понимаешь, что большой проект невозможен на языке без статической
типизации.</p>

<p>– Ты же понимаешь, что серьезный бизнес выбирает .Net.</p>

<p>– Очевидно же, GoLang это технология будущего.</p>

<p>– Очевидно же, что Java умирает.</p>

<p>– Все согласятся с тем, что Кложа – хайп.</p>

<p>– Конечно же, только на Руби веб-разработка максимально эффективна.</p>

<p>Подобные фразочки – верный индикатор того, что разговор пора сворачивать. Или
по крайней мере что беседа перешла совсем не в то русло.</p>

<p>Во-первых, некрасиво утверждать что-то за собеседника. Хочешь знать его мнение
– спроси. Во-вторых, если вы оба придерживаетесь одних идей по теме, то и
спорить не о чем.</p>

<p>Я никогда не стесняюсь ответить, что нет, я не понимаю и мне не очевидно. И
обязательно кину ответочку – несколько открытых вопросов. Кому это очевидно?
Что дало повод так думать? Откуда эти сведения?</p>

<p>В попытке объяснить оппонент, как правило, сам же запутается в
противоречиях. Вызвался – теперь крутись на сковородке. Я уже закрыл чат, а он
будет писать еще час.</p>

<p>Лучше вообще не разговаривать с теми, кто злоупотребляет
словами-усилителями. Мне приходилось общаться с разработчиком, который, если
наверняка знал, что прав, добавлял пафосное “Коне-е-ечно!” к каждой фразе. Это
было ужасно: малейший диалог с ним звучал как разговор короля с подданным:</p>

<p>– Можно пофиксить первым способом, а можно вторым. Предлагаю вторым. Что
скажешь?</p>

<p>– Вторым коне-е-ечно!</p>

<p>Типа, я уже все продумал, а ты говно.</p>

<p>Вы же понимаете, что так делать не нужно. Верно?</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/read-31/">Weekly links #31</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-14T00:00:00+00:00">
        Jan 14, 2018
    </time>

    <a href="/tag/read/" rel="tag">read</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    
<ul>
  <li>
    <p><a href="https://www.joelonsoftware.com/2018/01/12/birdcage-liners/">Birdcage liners</a></p>

    <p>Joel hasn’t been blogging for years, but thank him, a new post has been
published.</p>
  </li>
  <li>
    <p><a href="https://github.com/blog/2480-github-s-technology-predictions-for-2018">GitHub’s technology predictions for 2018</a></p>

    <p>I’m not a fan of making and reading predictions, but this one deserves our
attention.</p>
  </li>
  <li>
    <p><a href="https://www.citusdata.com/blog/2016/03/30/five-ways-to-paginate/">Five ways to paginate in Postgres</a></p>

    <p>Really, five ways to do that, from the standard one to the most exotic I’ve
ever seen. Quite interesting article!</p>
  </li>
  <li>
    <p><a href="http://yogthos.net/posts/2018-01-12-ClojureScriptErrorPropagation.html">Capturing ClojureScript Errors on the Server</a></p>

    <p>Good technical stuff from Dmitry on Clojure.</p>
  </li>
</ul>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/lein/">Don't use Leiningen to run shell-scripts</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-09T00:00:00+00:00">
        Jan 9, 2018
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/lein/" rel="tag">lein</a>, <a href="/tag/make/" rel="tag">make</a>

</div>


            <div class="entry">
                
                    <p>Working with various Clojure projects, I noticed one thing that really worries
me. I’m talking about developers who add more and more entries into
<code class="language-plaintext highlighter-rouge">:prep-tasks</code> vector in <code class="language-plaintext highlighter-rouge">project.clj</code> file. Please stop it. Every time you want
to put there a new task to compile CSS or build a Docker image, take a minute or
two to think on that. Let’s discuss the problem.</p>

<p><a href="https://leiningen.org/">Lein</a> is a great tool of course, really a piece of art. But its abilities
are not unlimited. Remember, its main purpose is to manage a Clojure-driven
project. I think, everybody agree with that statement.</p>

<p>The Clojure project you are working on is only a part of a top-level project in
business terms. Besides both server and UI sides, your application probably
sends emails, pushes notifications, interacts with Blockchain network and does
further more things.</p>

<p>According to GitHub statistics, you may have even 99% percent of code written
with Clojure. But still, there is definitely something that is beyond it. Thus,
please do not use Lein for those tasks that do no have any relation to Clojure
code.</p>

<p>Recently, I faced a situation when running REPL caused building Ethereum smart
contracts first. That step assumes you have installed software of proper
versions and configured paths, text configs, etc. Compiling them was a really
resource- and time-consuming duty.</p>

<p>The next step was to compile CSS sources. Again, it required installing Ruby,
less and wait for some time.</p>

<p>Remember, I did’n want all of this to happen. All I wanted to do is to connect
to REPL from Emacs and debug one tiny function. Needless to say, I just
commented those tasks in project file.</p>

<p>Again: your Clojure project should know nothing about compiling CSS, building
email templates, fetching anything from the network, querying Ethereum, building
Docker image or whatever else. Especially when we talking about running REPL. It
should run without any troubles at any time.</p>

<p>That’s why I’m strictly against using <code class="language-plaintext highlighter-rouge">lein-shell</code> plugin or something similar
that lets you run shell commands from Lein.</p>

<p>Of course, building a project requires passing through a list of particular
steps that were partially mentioned above. What should we use for that?
Shell-scripts? Any modern Javascript task runner? No, just <a href="https://www.gnu.org/software/make/">Make utility</a>
that has been here for ages.</p>

<p>“Put that gun down and let me explain.” (c)</p>

<p>I know Make is an ancient tool that came from rough C/C++ times. Those days,
developers knew quite few about a pipeline, CI or methodologies in
general. Almost every single programming language nowadays offers a task runner
that takes modern requirements into account. But still, for a set of tasks that
might be run upon your project, there is nothing better then a Makefile at the
top of file structure. And here is why.</p>

<p>Make utility is a binary tool that does not force you to install a new version
of Node.js, Python or Ruby. Probably, it’s already installed on your computer
since most of Linux distributions have it out from the box. It works perfectly
of various systems. I have never faced any troubles with it switching between
Linux and Mac.</p>

<p>Such modern shells as <a href="https://en.wikipedia.org/wiki/Z_shell">zsh</a> support auto-completing make targets when
pressing <code class="language-plaintext highlighter-rouge">&lt;TAB&gt;</code> character after “make”. That really saves time especially when
you use prefixes. Say, in my pet project, besides Clojure-related targets, I’ve
got a bunch of commands to operate on Docker images. These are <code class="language-plaintext highlighter-rouge">docker-run</code>,
<code class="language-plaintext highlighter-rouge">docker-build</code>, <code class="language-plaintext highlighter-rouge">docker-compose-up/down</code> and more. Each of them takes 60 to 100
characters so it’s impossible to remember them. So in terminal, I type <code class="language-plaintext highlighter-rouge">make
doc&lt;TAB&gt;</code> and see a short subset of Docker-related stuff.</p>

<p>I consider any Makefile as not just a list of commands but rather a knowledge
base of your project. The more the project develops, the more operations you
need to perform over it. Where to store all the those commands? <strong>In your wiki?
Nobody reads it.</strong> A better solution would be to keep them as close to the code
as it possible.</p>

<p>Make utility runs extremely fast whereas lein needs about five seconds to boot
up. That’s pretty long time, really. Imagine each command line tool hangs for a
couple of seconds before it runs. That would be a hell on your computer. A
situation that makes me angry is when I mistype in a long lein command like
<code class="language-plaintext highlighter-rouge">lein migratus craete user-updated</code>, wait for five seconds and see an error
message saying there is no <code class="language-plaintext highlighter-rouge">craete</code> subcommand in migratus. With make utility,
there is no an option for such things.</p>

<p>One of my favorite features is to ask a user for prompt when typing names,
passwords or any other sensitive data. Here is an example of how usually I
create a new SQL migration:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>create-migration:
    @read <span class="nt">-p</span> <span class="s2">"Enter migration name: "</span> migration <span class="se">\</span>
    <span class="o">&amp;&amp;</span> lein migratus create <span class="nv">$$</span>migration
</code></pre></div></div>

<p>When I type <code class="language-plaintext highlighter-rouge">make crea&lt;TAB&gt;&lt;RET&gt;</code> (remember, auto-complete magic works here),
the system asks for a new migration name. I enter a string that I need and a new
migration named properly appears.</p>

<p>Makefiles may include other ones so probably you can maintain separate files for
both production/developer modes or for developers/ops teams. Since those files
support comments, you are welcome to put doc hints there.</p>

<p>The utility allows to chain targets. When I start working on a new task, at
least I need to perform three steps: 1) migrate the database; 2) run tests to
ensure everything works before I change something; 3) launch REPL. In my make
file, I’ve got a separate target for each step. But I can call them in chain as
well:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make mig&lt;TAB&gt; te&lt;TAB&gt; re&lt;TAB&gt;
</code></pre></div></div>

<p>that expands into:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make migrate <span class="nb">test </span>repl
</code></pre></div></div>

<p>and finally becomes:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lein migratus migrate
lein <span class="nb">test
</span>lein repl
</code></pre></div></div>

<p>Inside a makefile, you can call for another makefile what may become a powerful
feature of your build process. Here is how it works.</p>

<p>Say, in our project, on the top level of it there is a “email” folder that
brings Node.js project for building email templates. Our Clojure application use
those compiled templates for further processing with Selmer to send final emails
to our clients. It’s obvious, I need those templates only when I work with our
email subsystem and never else. So it would be madness to force all our
developers to install Node.js with tons of packages and compile the templates
each time they launch REPL.</p>

<p>Inside “email” folder, there is a separate Makefile that knows how to deal with
that sub-project. It installs all the requirements and has some useful targets,
say, to run compiler in debug mode or open a browser window for preview.</p>

<p>A small fragment of that make file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>all: <span class="nb">install </span>build dist

<span class="nb">install</span>:
	yarn <span class="nb">install

</span>build:
	node_modules/.bin/gulp build <span class="nt">--production</span>

dist:
    <span class="nb">cp</span> ...
</code></pre></div></div>

<p>The default target performs all the targets that are required to get final
templates. Now, in the main make file that is on the root of the project, I put:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EMAILDIR :<span class="o">=</span> <span class="si">$(</span>CURDIR<span class="si">)</span>/email

.PHONY: email
email:
    make <span class="nt">-C</span> <span class="si">$(</span>EMAILDIR<span class="si">)</span>

uberjar-build: email
    lein uberjar
</code></pre></div></div>

<p>So this configuration gives me freedom of choice. When I launch REPL, I don’t
need all that stuff to deal with compiling emails. Probably, I may work in a
company for years without touching them. But those guys who do, they run <code class="language-plaintext highlighter-rouge">make
email</code> and get the full and ready email installation. Finally, no one be able to
build an Uberjar without compiling fresh emails.</p>

<p>Now take into account that those emails were just a small part of a
project. Remember, for successful production build you might need fetching huge
JSON declarations from 3rd-party services; compiling smart contracts; building
Docker images; building CSS and much more. Now answer, whey <code class="language-plaintext highlighter-rouge">lein</code> utility that
even doesn’t have any default capabilities for that, should do it instead of
special tools designed for exactly those things?</p>

<p>I think it’s obvious now that <code class="language-plaintext highlighter-rouge">lein</code> only should be used to manage your Clojure
code. Never configure it to run non-Clojure-related stuff.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/ivi/">Как ivi.ru крадет деньги</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-07T00:00:00+00:00">
        Jan 7, 2018
    </time>

    <a href="/tag/ivi/" rel="tag">ivi</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    
<p>Месяц назад решили с женой посмотреть один кинчик. Я уже не в том возрасте,
чтобы шариться по торрент-помойкам, поэтому покупаю на Ютубе. Но именно этого
фильма там не было. Гугл вывел меня на <a href="https://www.ivi.ru/">ivi.ru</a>, где фильм был, и вот что
из этого вышло.</p>

<p>Купил, посмотрели. Через месяц приходит письмо, что с карты списаны 399 рублей
за продление ежемесячной подписки. Полез на сайт и выяснил, что:</p>

<ul>
  <li>
    <p>эти черти сохранили мою карту, хотя нигде подобной галочки не было;</p>
  </li>
  <li>
    <p>они же оформили мне платную подписку, хотя, опять же, нигде этих галочек не
было. Вот так, купив фильм у ivi, попадаешь на бабки.</p>
  </li>
</ul>

<p>А дальше еще интересней. Звоню в поддержку. Заранее продумал
разговор. Сотрудник, не спросив ни моего имени, ни емейла, словом, никак не
подтвердив мою личность, отвечает – назовите номер карты, сделаю возврат. Я
назвал, он на кнопку клац – отвечает, готово, ждите денег. И действительно, на
следующий день они пришли.</p>

<p>Напрашиваются несколько выводов. Первый – ivi.ru действует незаконно, сохраняя
карты и подключая платные услуги без ведома владельца. Что-то вроде мобильного
опсоса, потерявшего берега.</p>

<p>Второе – в команде ivi об этом прекрасно знают, и уже отработан стандартный
сценарий возврата денег. Моментальная реакция говорит о том, что на этот случай
заведена отдельная кнопка. Никаких личных данных и подтверждений личности не
просят, чтобы не раздувать скандал. Вы когда-нибудь делали возврат в обычном
магазине? Там и заявление, и паспорт потребуют. А тут анонимно и по номеру
карты.</p>

<p>Третье – действия ivi.ru это обычная кража. Конечно, они прислали письмо. Но
что если я не читаю почту? Упор сделан на то, что я не замечу списания. Типичный
русский наебизнес. Почему-то именно русская компания смошенничала с моей
картой. Совпадение? Не думаю (с).</p>

<p>Короче, ivi.ru, обманщики вы и воры. Позорище.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/oop-1/">Почему я против объектов. Часть первая, философская</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-05T00:00:00+00:00">
        Jan 5, 2018
    </time>

    <a href="/tag/oop/" rel="tag">oop</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    
<p><strong>UPD</strong>: <a href="/oop-2">вторая часть</a>.</p>

<p><strong>LT;DR:</strong> это очень личный взгляд на ООП, который я обдумывал довольно долго,
но окончательно сформировал после прочтения книги Егора <a href="http://www.yegor256.com/elegant-objects.html">“Elegant
Objects”</a>. Если коротко, я высказываюсь против идеи представления кода в
объектной модели. Некоторые аргументы почерпнуты из сторонних публикаций и
адаптированы для краткости. В таких случаях я даю ссылку на оригинал.</p>

<p>Изначально я планировал написать два в одном: и про ментальную, и про
техническую составляющие ООП, но так как текст получается объемный, опубликую
пока что первую часть о том, как ООП ложится на (мой) мозг.</p>

<p>Объекты, как утверждают <a href="https://en.wikipedia.org/wiki/Object-oriented_programming#Objects_and_classes">Википедия</a> и учебники, помогают отобразить
картину физического мира в коде. Думаю, всем это объяснял преподаватель в школе
или университете на примере класса кота или собаки. Потом примеры с
наследованием, переопределением класса “голос” и так далее.</p>

<p>За последние годы мое увлечение ООП плавно сошло на нет. В одном из постов <a href="http://grishaev.me/oop">я
прямо признавался</a>, что не понимаю его принципов. Главное, что меня
смущает: во время работы, если это был не строго объектный язык, а Питон, JS или
PHP, то все задачи я решал простыми функциями. Каждый раз мне говорили, что
просто проект легкий, что однажды наступит БОЛЬШОЙ ПРОЕКТ, где с функциями ты
хлебнешь. Но время шло, БОЛЬШОЙ ПРОЕКТ так и не наступил, и, кажется, в эпоху
микро-сервисов его уже не дождешься. А я все пишу на функциях и неизменяемых
коллекциях. В чем же дело?</p>

<p>И любой объектный код я переписывал на функциях с сокращением числа строк до
двух раз. Как так?</p>

<p>Причина мне видится в том, что ООП очень абстрактно. Одно и то же событие
реального мира можно интерпретировать в объектной модели совершенно
по-разному. Отсюда и трудности изучения, и лишний код.</p>

<p>Представим, что Вася отправляет письмо Пете. На языке объектов это записывается
так (опустим определения классов):</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">User</span> <span class="n">vasya</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Vasya"</span><span class="o">);</span>
<span class="nc">User</span> <span class="n">petya</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Petya"</span><span class="o">);</span>
<span class="nc">Message</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">(</span><span class="s">"Hello!"</span><span class="o">);</span>
<span class="n">vasya</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">msg</span><span class="o">,</span> <span class="n">petya</span><span class="o">);</span>
</code></pre></div></div>

<p>Тут, возможно, я нарушил один из бесчисленных паттернов ООП: отвечать за
отправку должен не пользователь, а само сообщение (что весьма спорно). Поэтому
следующий после меня разработчик поправит код вот так:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">msg</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="k">from</span><span class="o">=</span><span class="n">vasya</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">petya</span><span class="p">)</span>
</code></pre></div></div>

<p>Это уже не синтаксис Джавы, в ней нет именованных аргументов, а скорее
Питона. Написал так, чтоб было понятно: метод <code class="language-plaintext highlighter-rouge">.send()</code> принимает отправителя и
получателя и сам отправляет письмо.</p>

<p>Уже на этом этапе видна вся неоднозначность и зыбкость объектного
мышления. Согласно паттернам, отправку письма логичней вынести в класс
сообщения. С другой стороны, в реальном мире именно пользователь инициирует
отправку. Письмо это неодушевленная сущность, набор байт или листок бумаги. Как
он может что-то отправлять?</p>

<p>Теперь представим, что на каждый чих мы проектируем класс и создаем объект. Как
можно утверждать, что отношения между ними логически верны? Как это доказать?</p>

<p>Зыбкость этого принципа порождает все новые и новые книги и статьи в блогах, где
авторы доказывают, что именно их подход обеспечивает прозрачность и
поддерживаемость программы, написанной в объектном стиле. Но на более
приземленном уровне это выражается, простите, в срачи – бурные обсуждения в
чатах, когда эмоции и мнения намного опережают опыт.</p>

<p>Проблему отношений между объектами я называю “кто на ком стоял”. В самом деле,
ручка пишет по бумаге <code class="language-plaintext highlighter-rouge">pen.writeOn(paper)</code> или бумага с помощью ручки
<code class="language-plaintext highlighter-rouge">paper.write(pen)</code>? Каждый, кто поспешит ответом в духе “ну конечно первый
(второй) вариант”, не учитывает, что это совершенно субъективно.</p>

<p>Предполагаю, что именно поэтому в ООП-среде так популярен рефакторинг. Ключевая
фича каждой промышленной IDE – облегчение рефакторинга: переименование и
перенос методов, автоматическая адаптация кода.</p>

<p>В окружающем нас реальном мире физические объекты играют далеко не решающую
роль. Иными словами, не все можно выразить через объекты. Рассмотрим, например,
акт рукопожатия. Следуя принципам Егора, отразить в коде это можно так:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span>

  <span class="nf">User</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Handshake</span> <span class="o">{</span>
  <span class="nc">User</span> <span class="n">user1</span><span class="o">;</span>
  <span class="nc">User</span> <span class="n">user2</span><span class="o">;</span>

  <span class="nc">Handshare</span><span class="o">(</span><span class="nc">User</span> <span class="n">user1</span><span class="o">,</span> <span class="nc">User</span> <span class="n">user2</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">user1</span> <span class="o">=</span> <span class="n">user1</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">user2</span> <span class="o">=</span> <span class="n">user2</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">shake</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// ... лог в консоль или что угодно</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="nc">User</span> <span class="n">user1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Ivan"</span><span class="o">);</span>
<span class="nc">User</span> <span class="n">user2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Petr"</span><span class="o">);</span>
<span class="nc">Handshake</span> <span class="n">hs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Handshake</span><span class="o">(</span><span class="n">user1</span><span class="o">,</span> <span class="n">user2</span><span class="o">);</span>
<span class="n">hs</span><span class="o">.</span><span class="na">shake</span><span class="o">();</span>
</code></pre></div></div>

<p>Но ведь физически рукопожатия не существует. Нет в нашем мире такого объекта,
его нельзя купить, смастерить, поставить на полку. Это событие, акт или,
выражаясь точнее, действие! А что в программировании выражает действие? Функция.</p>

<p>Предположим теперь, что друзья пожали руки несколько раз с интервалом в 10
минут. Будет ли правильным вызывать у того же объекта метод <code class="language-plaintext highlighter-rouge">.shake()</code>? Или на
каждый раз создавать новый объект?</p>

<p>Если первое, не противоречит ли это принципам ООП? Ведь все это разные
рукопожатия, совершенно независящие друг от друга. Что если они жали руки с
перерывом в 10 лет?</p>

<p>Если второе, то чем это отличается от вызова функции? Мы создаем объект,
вызываем единственный метод и тут же забываем его? Зачем тогда класс и объект?
Если один-два метода это все, что нам нужно от класса, не проще ли завести
функцию?</p>

<p>На эту тему уже неписана отличная статья “перестаньте писать классы”, изучите
обязательно. <a href="http://pyvideo.org/pycon-us-2012/stop-writing-classes.html">Видео</a> со слайдами, <a href="https://habrahabr.ru/post/140581/">перевод</a> на
Хабре.</p>

<p>Далее можно рассуждать о более сложных вещах. Рукопожатие все же имеет косвенное
отношение к физическим объектам. Но такие абстрактные понятия как ненависть,
симпатия, эгоизм, честность, религия выразить объектно невозможно. Я имею в
виду, что не составит труда написать класс с нужным именем, который
инкапсулирует другие классы. Но спрашивается, в чем здесь смысл?</p>

<p>Добавьте процессы: горение, магнитные волны, свет. Все, что перечислено выше
имеет значение только в действии. Важен не сам объект, а как он изменяет другие
сущности. Опять же, про <a href="http://www.flyingmachinestudios.com/programming/the-unofficial-guide-to-rich-hickeys-brain/">написана хорошая статья</a>, где рассматривается
река с точки зрения ООП- и ФП-программиста.</p>

<p>В книге “Elegant Objects” Егор справедливо замечает, что сегодняшнее ООП это
просто структура данных с прикрепленными к ней функциями. Однако, не делается
акцент на том, сколь масштабно это явление. С выходом языков Go и Rust на них
перешли тысячи бывших Java и С++ разработчиков, и, похоже, сочли новые языки
вполне себе объектными. А ведь и в Go и в Rust объекты – это банальные сишные
структуры. И если функция принимает первым аргументом такую структуру, то вместо
<code class="language-plaintext highlighter-rouge">some_action(data, 1, "test")</code> можно написать <code class="language-plaintext highlighter-rouge">data.some_action(1, "test")</code>. Вот
и вся разница.</p>

<p>Очевидно, сегодня для большинства вызов функции через точку кажется главным
показателем объектности языка. Я не хочу никого этим обидеть. Человеку
свойственно упрощать рутину: выражать код всей программы с помощью настоящих,
“элегантных” объектов, как советует Егор, мне кажется неподъемным делом. А со
структурам и функциями проще, и даже похоже на ООП.</p>

<p>Я утверждаю, что современный ООП-подход, согласно которому мы выражаем все
сущности как объекты, так же похож на окружающий мир, как шахматы на реальную
войну. То есть в кукольной манере и гротескным упрощением. Тысячи лет назад
войска действительно выстраивались напротив противника, впереди пешие войска, по
бокам боевые слоны, сзади командование. Сегодня это не так.</p>

<p>Кратко резюмируя. В ООП до сих пор нет четкого понимания, как выстраивать
отношения между объектами. Огромное число паттернов сбивает с толку. Объекты в
коде не могут точно описать нематериальные понятия: природные процессы,
отношения между людьми. Гораздо большее значение имеет не объект, а действие над
ним.</p>

<p>В следующий раз поговорим о технической стороне ООП.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/shorter/">Надо короче</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-01-04T00:00:00+00:00">
        Jan 4, 2018
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/shorter/" rel="tag">shorter</a>

</div>


            <div class="entry">
                
                    <p>Удивительно, что в детских организациях, например, образовательных и спортивных
школах совершенно не знают, как проводить мероприятия. Я имею в виду провести
так, чтобы дети не устали от бессмысленного ожидания.</p>

<p>Типичную линейку в школе ставят следующим образом. Выходит директор. Выходит
завуч. Выходит сука-единорос-депутат (иногда – его представитель). Выходит
ветеран. Выходит сраный министр культуры и еще кто-то в этом же роде.</p>

<p>Каждый из них несет полную пургу: хочет что-то пожелать, пытается
пошутить. Бедные дети стоят и слушают эту ахинею. Сорок минут, час. Потом еще
сценка. Неужели нельзя уложиться в 30 минут? Выпиздить метлой этих балаболов и
просто запустить детей в класс?</p>

<p>Всем учителям известно, как трудно удержать внимание ребенка хотя бы из-за
физиологических причин. Урок подготовишки длится 25 минут, первоклассника – 30
минут, и так далее с шагом в 5 минут. Только к третьему классу урок начинает
длиться стандартный академический час. Так почему же вы,
учителя-завучи-директор, из года в год закатываете линейку на час с лишним?</p>

<p>Соревнования в спортивных школах ничуть не лучше. Опять же парадокс – каждый
тренер должен уметь организовать детей. Заставить слушаться группу из 15 человек
это особый навык. Но правильно организовать соревнования никто не умеет.</p>

<p>Зашли в зал и ждут. Участники на месте, судьи на месте, родители расселись. Нет,
сука, чего-то ждут. Слово директору школы. Слово организатору. Гимн России. И
только потом, с постоянными задержками, поломками микрофона, потерей нужных
бумажек, начинаются выступления детей.</p>

<p>Родители уже не ждут результатов, потому что измучены больше детей. Мест на всех
нет, гардероба хватило на половину пришедших. Только выступил ребенок, в машину
и домой.</p>

<p>А детские концерты! Выступающим по 6-8 лет, концерт длится 1 час 20 минут! Те,
кто в конце, к моменту выступления становятся как мочалки. Организаторы
издеваются над родителями: каждый же пришел только ради своего ребенка. Почему я
должен сначала высидеть 15 номеров? Почему нельзя провести два концерта?</p>

<p>Та же история с мультфильмами и представлениями. Почему нельзя поставить пьесу
на 45 минут вместо полутора часов? Ну или час максимум. Это же долго! Все сцены
очевидно затянуты. Ребенок теряет суть повествования. Главные идеи в детских
произведениях просты, их невозможно растянуть на час без очевидных искажений.</p>

<p>Откуда эта манера впихнуть в детей как можно больше? Наоборот, даже с точки
зрения бизнеса короткие постановки выгодней: ребенок (и родитель) меньше
устанет, значит, останется больше потенциала для потребления других услуг.</p>

<p>Тем, у кого есть дети, предлагаю эксперимент. Попросите пересказать вашего
ребенка полуторачасовой мультфильм, который он только что посмотрел. Как зовут
персонажей, в чем их конфликт, куда они пошли\полетели, что сделали, чем
закончилось. Редкий ребенок ответит на все вопросы. Даже вы не сможете
пересказать целый фильм, он остался в голове в виде отдельных образов и сцен.</p>

<p>Лично мне с возрастом все больше и больше книг и фильмов кажутся
затянутыми. Короче надо, короче! Техническую литературу невозможно читать: одну
и ту же мысль обсасывают на 10 страницах. Предложения порой столь похожи, что
напоминают копипасту. Актеры в фильмах начинают конфликт из-за ничего, проблемы
надуманны, сцены длятся дольше, чем нужно. Вертится мысль – а не пора бы вам
свалить уже из кадра или занять зрителя чем-то поинтересней?</p>

<p>Хронометраж, группа выступающих, число слайдов в презентации, пункты в повестке
дня – все это лучше укоротить. Всегда.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/2017-sum/">Итоги 2017 года</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2017-12-31T00:00:00+00:00">
        Dec 31, 2017
    </time>

    <a href="/tag/2017/" rel="tag">2017</a>, <a href="/tag/results/" rel="tag">results</a>

</div>


            <div class="entry">
                
                    <p>Упомнить все невозможно, поэтому пробежался по блогу и выделил следующее.</p>

<p>Стал больше писать в блог. Написал 99 постов не считая этого. Значит,
всего 100. Красиво.</p>

<p>Повысил долю английского в блоге. Где-то каждый пятый пост на английском. Писать
на нем медленней; порой трудно передать мысль в нужном ключе.</p>

<p>В этом году блогу <a href="http://grishaev.me/5years">стукнуло 5 лет</a> – юбилей!</p>

<p>Изнемогая в Турции, опубликовал <a href="http://grishaev.me/en/pg-to-datomic">подробное
руководство</a> по переходу с PostgreSQL на
Datomic. Статья выстрелила: ее разместили на кложурных ресурсах и Hacker News. В
News. В течение недели в блог заходили тысячи человек из англоязычной аудитории.</p>

<p><a href="https://www.indiehackers.com/businesses/queryfeed">Публиковался в IndieHackers</a>
с рассказом про Queryfeed.</p>

<p><a href="https://t.me/igrishaev_blog">Завел Телеграм-канал</a> в параллель блогу.</p>

<p>Весь год проводил митапы в нашем клубе Рефакторинга. Видосы – <a href="https://www.youtube.com/c/deeprefactoring">на нашем
канале</a> и
<a href="http://deeprefactoring.ru/">сайте</a>.</p>

<p>Стал читать про криптовалюты. Книга <a href="https://github.com/bitcoinbook/bitcoinbook">Mastering
Bitcoin</a> – хороша, но больно
занудна.</p>

<p>Путешествовал! <a href="http://grishaev.me/berlin">Ездил в Берлин</a> на Евро-кложу и <a href="http://grishaev.me/baltimore">в
Балтимор</a> на юбилейную конфу. В первый раз в жизни
побывал в США. По ссылкам – отчеты о городах.</p>

<p><a href="https://www.youtube.com/watch?v=JtKmeTZNT7w">Стримил Кложу</a>, в т.ч. и <a href="https://www.youtube.com/watch?v=cLL_5rETLWY">на
английском</a>. К сожалению, так и не
сделал это занятие регулярным.</p>

<p>Участвовал в Хайлоад-Капе! Ничего не занял, но был дикий драйв. Выгородил Кложу
с ее Датомиком. <a href="http://grishaev.me/en/highload-cup">Отчитался на английском.</a></p>

<p><a href="https://github.com/igrishaev/etaoin">Написал и поддерживаю</a> свою первую
библиотеку на Кложе, которой действительно пользуются.</p>

<p>Вместо с Никитой и Рахимом <a href="https://grumpy.website/">стал писать</a> в блог Grumpy
– это где жалуются на плохой дизайн. Изливаю там душу.</p>

<p>В этом году организм сказал твердое нет долгой работе за компом: заболели шея и
руки. Как выкрутился расскажу в следующем году.</p>

<p>Уволился из проекта. Осталась неделя в январе, но это мелочи.</p>

<p>Поставил самую большую в жизни елку.</p>

<p>С праздничком!</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/docs/">Документы</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2017-12-28T00:00:00+00:00">
        Dec 28, 2017
    </time>

    <a href="/tag/docs/" rel="tag">docs</a>, <a href="/tag/google/" rel="tag">google</a>, <a href="/tag/microsoft/" rel="tag">microsoft</a>

</div>


            <div class="entry">
                
                    <p>Перевожу Гугло-документы в обычный офис. Купил у Микрософта офисный пакет на
год, не нарадуюсь. Работает очень быстро. Файлы открываются мгновенно, как-никак
нативный C++ вместо Джаваскрипта.</p>

<p>Конечно, офисный редактор на Джаваскрипте это целое искусство, но меня как
пользователя это не должно волновать. Правда в том, что в нативном офисе можно
открыть 10 документов и спокойно переключаться по ним в течение дня.</p>

<p>В Гугловом офисе каждая вкладка живет в изолированном пространстве. Хром в
произвольном порядке выгружает вкладки на диск. Казалось, 10 минут назад ты был
в этом документе, переключаешься – и 5 секунд ждешь, пока вкладка подгрузится.</p>

<p>Документ чуть больший пары абзацев прогружается с ощутимыми тормозами. Не дай
бог там еще комментарии или картинки</p>

<p>Интерфейс Гугло-дравйва крайне убог и тоже тормозит. Создать в нем папку и
скопировать файлы это целая история. Или ставь клиент Драйва для синхронизации с
локальной папкой, но там тоже полная жесть.</p>

<p>Случаются странные баги, например, пропадают содержания картинок. Если их
подвигать на пиксель влево-вправо, они опять появляются.</p>

<p>Неоценимый плюс Гугла состоит в шаринге и доступности таких
онлайн-документов. Пошарить какую-то табличку или бриф между командой теперь
проще простого. Но и у Микрософта есть какое-то там облачное хранилище, которое
я еще не смотрел.</p>

<p>Личные документы (особенно финансовые) следует хранить в нативном
формате. Потому что порой ищешь данные за прошлый год и нужно БЫСТРО открыть 10
документов. В Хроме это просто невозможно.</p>

<p>Короче, я не против веб-приложений, которые косят под нативчик, тех же Слаки или
Атома, например. Можно поиграться с ними, если время отклика не
поджимает. Скажем, скорость доставки сообщений в Слаке мне вообще безразлична. А
вот работа с документами это диаметрально другое. Оно стоит годовой подписки на
нативную программу.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/a-plus/">Егор о поездке в Воронеж</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2017-12-26T00:00:00+00:00">
        Dec 26, 2017
    </time>

    <a href="/tag/yegor/" rel="tag">yegor</a>, <a href="/tag/deef-refactoring/" rel="tag">deef-refactoring</a>

</div>


            <div class="entry">
                
                    <blockquote>
  <p>The meetup was really good. I would say, it was one of the best events I’ve
took participation in. People were very into the topics, had a lot of
questions, were aggressive and friendly enough) They paid for the entire
travel, we had lunch, dinner, everything. A+ experience!</p>
</blockquote>

<p>Так-то!</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page51" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 52 из 89</span>
        
        <a href="/page53" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
