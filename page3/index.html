<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page3/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/get-money/">Получить деньги</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-24T00:00:00+00:00">
        Jan 24, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/money/" rel="tag">money</a>

</div>


            <div class="entry">
                
                    <p>Если вы работаете вне штата (контрактор, ИП, самозанятый), то получить даньги с
закачика — ваша работа. Получение денег может быть трудным и долгим, и обычно о
нем не говорят. Но чем раньше вы примите тезис из первого предложения, тем
скорее на вас снизойдет благодать.</p>

<p>Когда вы работаете в штате, волноваться не о чем: зарплата сама падает на
карточку. Даже до карт выдача зарплаты была регламентирована. В назначенный день
бухгалтер вызывает в кабинет и дает деньги под роспись. Все строго, пропускать
нельзя.</p>

<p>Некоторые думают, что у ИП и контракторов то же самое: поработал — получил
деньги. Это не так: сотрудник должен заполнить часы, посчитать зарплату,
выпустить квитанцию и отправить ее нужным людям. Потом ждать и пинать тех, кто
отправляет деньги. Потом пройти валютный контроль в банке: предоставить
документы, контракт, квитанцию, в сотый раз доказать, что все законно. Если
затупить на любом этапе, деньги не придут, и заказчик лишь пожмет плечами: сам
виноват.</p>

<p>Штатные сотрудники полагают, что бухгалтер переводит им зарплату по доброте
душевной. На самом деле бухгалтер делает это из страха перед государством. Дело
вот в чем: с каждой зарплаты фирма платит налог. В России мало об этом думают,
потому что получают зарплату уже после вычета налогов. Но если кому-то не
выплатили зарплату, то и налог с нее тоже не заплатили. Если государство узнает,
что Иванову удержали зарплату, оно накажет фирму — но не за то, что Иванову
нечего есть, а за то, что не уплачен налог.</p>

<p>Получается, что у штатного работника есть “крыша” в виде государства, которая,
разумеется, оказывает свои услуги за ренту. А поскольку ИП платит налоги
по-другому, то волноваться о том, получил он деньги или нет, не нужно. Точнее,
нужно, но в другом ключе: от кого и за какие услуги.</p>

<p>Поэтому напоминаю тем, кто выходит со штатной работы на удаленку: выбивание
денег ложится на ваши плечи. Лучше сразу принять это как данность, чем потом
обвинять всех вокруг.</p>

<p>Понимаю, что заметка немного опоздала из-за, как сейчас пишут, “изменившегося
контекста”. Этот “контекст” нынче такой, что удаленщики возвращаются в штат. Но
лучше поздно, чем никогда. А чтобы заметка не выглядела сухой, расскажу кулстори
о том, как выколачивал деньги.</p>

<p>Все началось хорошо: американский стартап с командой в Европе. Технический
руководитель очень компетентный, полное понимание. Проходит месяц, жду
зарплату. А девушка бухгалтер говорит: не могу отправить платеж, система не
позволяет, то-се. Период оплаты прошел, программа закрыла бюджет, теперь в
следующий раз.</p>

<p>Проходит месяц, девушка выходит замуж и улетает в свадебное
путешествие. Программа автоматом рассылает деньги всем, кроме меня. Жду.</p>

<p>Девушка прилетает через пять недель, раскачивается еще неделю. Договариваемся на
звонок. Разница 12 часов, она шарит экран, я подсказываю, куда какие реквизиты
вводить. Вроде бы норм, деньги должны уйти, но в назначенный день не
уходят. Девушка звонит в свой банк, ей объясняют, как правильно заполнить форму.</p>

<p>Чтобы не томить — на пятый раз деньги ушли и потом приходили стабильно. Но вот
курьез: мне не выплатили четыре зарплаты и делают вид, что все хорошо. Начинаю
осторожные переговоры: мол, заплатите мне эти деньги тоже. А мне говорят: ты не
волнуйся. Когда будешь увольняться, мы тебе все разом выплатим. Нет, говорю,
лучше добавляйте к каждой зарплате бонус, пока не закроем прошлые выплаты. Они
очень неохотно, но согласились.</p>

<p>Возникли вопросы у налоговой: в контракте указано N тысяч фантиков, а приходит
на четверть больше. Как так? Пришлось выставлять квитанции якобы за переработки
и допуслуги.</p>

<p>Но дело шло: мало-помалу долг закрывался. Вот и первую зарплату погасили,
вторую, третью… а потом случилась банальная для стартапа история. Не прошли
очередной раунд ивестиций — и все, денег нет. Собрали звонок и говорят: мы не
будем возражать, если найдете другую работу. Можете работать на нас, но без
каких-либо гарантий выплат.</p>

<p>Я пишу, что за вами осталась одна непогашенная зарплата, на что отвечают —
держись, денег нет. Я решил, что ничего не поделать и был рад хотя бы тому, что
выбил три зарплаты — ведь если бы ничего не делал, то попал бы на все четыре. Но
неожиданно за меня вступился технический руководитель, и последнюю зарплату
все-таки выплатили. Буквально за день или два до того, как банк перестал
принимать платежи из-за границы.</p>

<p>Увы, не все были столь удачливы. Одному коллеге были должны пять зарплат, но за
него никто вступился. Он долго переписывался с финальным боссом, а когда
упомянул про суд, получил примерно такой ответ: делай визу, прилетай в
Калифорнию, нанимай юриста и мы с тобой с радостью посудимся.</p>

<p>Нет смысла повторять тезисы из начала статьи, надеюсь, они понятны. Добавлю, что
о ваших деньгах никто лучше вас не позаботится — вот такая простая мысль.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/telegram-markup/">Разметка в Телеграме</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/telegram/" rel="tag">telegram</a>, <a href="/tag/ui/" rel="tag">ui</a>

</div>


            <div class="entry">
                
                    <p>Наверняка вы замечали баг в Телеграме. Написал сообщение, поправил разметку, а
она поехала (см. картинку). Выделил болдом одно, а оказалось помечено другое. То
же самое с моноширинным текстом. Ну а самая печаль — разметка кода. Иногда так
плывет, что проще удалить сообщение и разместить по-новой.</p>

<p><img src="/assets/static/aws/telegram-markup/1.jpeg" /></p>

<p>Дело в том, как передается разметка в Телеграме. Многие полагают, что в нем
маркдаун, но на самом деле это не так. Телеграм может принимать маркдаун от
ботов, но разметка приводится ко внутреннему виду, примерно такому:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{:message "Welcome back, Ivan Grishaev!",
 :entities
 [{:type :text_mention,
   :offset 14,
   :length 13,
   :user {:id 100500 :nickname "igrishaev"}}]}
</code></pre></div></div>

<p>Смысл в том, что есть сообщение и набор размеченных зон. Каждая зона знает
смещение в символах и длину (поля offset и length). У зоны есть тип и
дополнительные параметры, которые влияют на рендер. В примере выше слова “Ivan
Grishaev” будут выглядеть как ссылка на пользователя с нужными атрибутами.</p>

<p>У этой системы следствие: если поправить текст, смещения зон должны быть
скорректированы. Например, я поменял Welcome back на просто Welcome. Пропали
пять символов, и смещения всех зон должны уменьшится на 5. На простых случаях
это работает, но когда зон много (болды, италики и прочее), что-то идет не
так. Возможно, виноват многострочный код: он как-то оптимизируется, а смещения
зон не принимают его во внимание.</p>

<p>Если бы в Телеграме была система тегов вроде markdown или xml/html, такой
проблемы бы не было. Братьям Дуровым, конечно, виднее, но я тоже могу
высказаться.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/prop-more/">Еще о пропаганде</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/propaganda/" rel="tag">propaganda</a>

</div>


            <div class="entry">
                
                    <p>Я уже писал, как видит Россию западный человек. Для него Россия — это воплощение
повести 1984. На каждом углу висит телевизор, из каждого утюга призывают брать
Берлин.</p>

<p>При этом условного американца не смущает, что владелец Твиттера — первой в мире
площадке обмена мнениями — открыто топит за своего кандидата и подкручивает
алгоритм ленты.</p>

<p>Никого не смущают признания Цукерберга насчет ковидной истерии. Согласно им,
любой анти-ковидный контент опускался в выдаче настолько, что его нельзя было
найти.</p>

<p>Фактически это значит следующее. Если у человека нет долгой истории предпочтений
(игры, котики, гаджеты, etc), то чтение ленты — это и есть потребление
пропаганды. Но для западного человека “это другое”.</p>

<p>Попался текст, который процитирую частично:</p>

<blockquote>
  <p>Европейцы понятия не имеют о России. Российская пропаганда даже внутри страны
вызывает у значительной части населения буквально рвотные рефлексы, если не
брать во внимание психически нездоровую часть общества, крайне нуждающуюся в
ежедневной порции агрессии и ненависти. Но эта часть всегда невелика даже в
среде, которую искусственно разогревают самыми отвратительными
эмоциями. Психика - это такая штука, которая не способна постоянно находиться
в возбужденном состоянии, а пропаганда отрабатывает только один номер
последние пять лет, из которых последние три - на форсаже. Если вас каждый
день на протяжении долгого времени кормить даже самыми вкусными пельменями -
вы скоро их будете буквально ненавидеть. Что уж говорить про пельмени от
российской пропаганды…</p>
</blockquote>

<p>О чем я и говорил. Европеец считает, что россиянин после работы весь вечер
смотрит пропаганду. А на самом деле россиянин смотрит тупые шоу и сериалы. В
мессаджере у него не военкоры, а рекламное говно вроде “как унизить собеседника
одной фразой”, арбитраж крипты, микродозинг, сибирский кузнец, кующий настоящие
ножи.</p>

<p>Кое-что из личных наблюдений. Я вожу дочь в музыкальную школу и порой жду ее в
фойе. Там стоит телевизор, и был упоротый охранник, который смотрел военные
передачи: на сколько километров продвинулись, сколько убили бандеровцев, как
будем делить Украину. К нему всегда подходили родители и просили
выключить. Когда охранника наконец заменили другим, телевизор больше не
включают. Стоит для мебели.</p>

<p>Уже несколько лет хожу в тренажерный зал. Что обсуждают между подходами? Фильмы,
кроссовки, выступления знаменитых качков, телефоны, машины, бухло. Все то, что
интересует обычного мужчину (почему-то ни слова про секс и женщин). Политика
относится к той же области, что и религия: все понимают, что тема чувствительная
и стараются замять, если всплыло. Неадекватов просят помолчать.</p>

<p>Поэтому повторю тезис: кто рассуждает об ужасах чужой пропаганды, пересказывают
свою.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/java-obj-create/">Объекты в Джаве</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/java/" rel="tag">java</a>, <a href="/tag/oop/" rel="tag">oop</a>

</div>


            <div class="entry">
                
                    <p>Когда-то давно я знал Джаву плохо, и у меня была проблема. Я открывал Джавадок и
понимал в целом, как пользоваться объектом, но не понимал, как создать
его. Сегодня я знаю Джаву лучше, но проблема никуда не ушла.</p>

<p>Дело вот в чем: в ранней Джаве любой класс создавался конструктором, например</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Kokoko</span><span class="o">(</span><span class="s">"Ko"</span><span class="o">);</span>
</code></pre></div></div>

<p>Пришел Джошуа Блох и сказал, что это неправильно: конструктор должен быть скрыт
(или protected), а потребителям давать статичные методы, скажем <code class="language-plaintext highlighter-rouge">.parse</code>,
<code class="language-plaintext highlighter-rouge">.fromString</code>, <code class="language-plaintext highlighter-rouge">.of</code> и так далее:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="nc">Kokoko</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"Kokoko"</span><span class="o">)</span>
<span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="nc">Kokoko</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">Sounds</span><span class="o">.</span><span class="na">KOKOKO</span><span class="o">)</span>
</code></pre></div></div>

<p>Беда в том, что в списке методов не видно, какой из них отвечает за создание
экземпляра. Он может быть первым в списке, двадцатым, сорок вторым. Ты должен
знать, что где-то на третьем экране есть метод <code class="language-plaintext highlighter-rouge">.parse</code>, который делает то, что
нужно.</p>

<p>Более веселые вещи: иные экземпляры нельзя создать в принципе. При запуске JVM
порождается скрытый синглтон, и статический метод .getInstance возвращает ссылку
на его. Считается, что ты прочитал все методы и понял, что нужно так:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="nc">Kokoko</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
<span class="n">kokoko</span><span class="o">.</span><span class="na">processKokoko</span><span class="o">(</span><span class="s">"Kwish"</span><span class="o">)</span>
</code></pre></div></div>

<p>Бывает, даже когда прочитал все методы, все равно неясно, как создать
объект. Оказывается, это такой дизайн: класс можно создать только из билдера —
другого класса:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">KokoBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="nc">KokoBuilder</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">with</span><span class="o">(</span><span class="s">"Kwhish"</span><span class="o">);</span>
<span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>Еще бывают фабрики, но по-моему, это то же самое, что и билдер, только менее
замшелое. Блох пишет про билдеры, а про фабрики — ничего.</p>

<p>Бывают статичные классы—агрегаторы. На деле это пачка функций, которые строят
объекты других классов, например:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Kokoko</span> <span class="n">kokoko</span> <span class="o">=</span> <span class="nc">KokoManager</span><span class="o">.</span><span class="na">newSingleThreadKokoko</span><span class="o">(</span><span class="s">"Kwesh"</span><span class="o">);</span>
</code></pre></div></div>

<p>Обо всем этом нужно знать, брать во внимание.</p>

<p>Нам рассказывали, что с ООП наступит пони и радуга. Будем строить программы из
одинаковых блоков, все системно и предсказуемо. На деле Джавные классы — это не
блоки, а паззлы. С виду одинаковые, но каждая дырка и пупырка своей формы и
длины, и отыскать совпадение — большая удача.</p>

<p>Разнообразие в классах можно списать на долгую историю Джавы. Но сегодня нет ни
одной качественной переработки ООП, и происходит откат к привычным
“структура-функция”. Мне запомнился только Егор с его Элегантными
объектами. Книга интересная, но когда я увидел “элегантный” код, мне немножко
поплохело.</p>

<p>Я считаю две вещи. Первая: к объектам нужно переходить, только когда процедурный
подход уже не справляется. Запас прочности у него огромный, хватит на
десятилетия (см. Postgres). Вторая: над концепцией классов нужно хорошенько
подумать. На мой взгляд, она не завершена.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/harry-potter-money/">Гарри Поттер и деньги</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/books/" rel="tag">books</a>, <a href="/tag/harry-potter/" rel="tag">harry-potter</a>, <a href="/tag/money/" rel="tag">money</a>

</div>


            <div class="entry">
                
                    <p>Читаю дочке на ночь Гарри Поттера. Она уже читала, но со мной переспрашивает
многие моменты. Я в свое время пропустил Поттера, и теперь догоняю.</p>

<p>Среди прочего заметил вот что: в волшебной стране интересная мера
денег. Процитирую Огрида:</p>

<blockquote>
  <p>— Золотые — это галлеоны, — пояснил он. — Один галлеон — это семнадцать
серебряных сиклей, а один сикль — двадцать девять кнатов, это просто, да?</p>
</blockquote>

<p>Интересно, что оба числа — 17 и 29 — простые. Это значит, ни сикль, ни кнат
нельзя разделить поровну между участниками. Скажем, если в группе три-четыре
человека, делить 5 сиклей 11 кнатов будет, мягко говоря, трудновато.</p>

<p>У простых чисел следствие: их произведение делится только на исходные
множители. На этом основана вся криптография. Это хорошо понимали древние греки:
они выбрали число 60 в качестве меры, потому что у него много делителей. Позже
его заменило число 100, у которого делителей еще больше.</p>

<p>Система денег с простыми числами максимально неудобна для расчетов. А потому
вопрос: Джоан Роулинг выбрала их с умыслом или случайно? Понимает ли она
особенность простых чисел? Выдумала сама или кто-то подсказал?</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/avito-2025/">Авито 2025</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/avito/" rel="tag">avito</a>, <a href="/tag/js/" rel="tag">js</a>, <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    <p>Заметка из серии “Иван зашел на Авито”. Приходится делать это раз в год, что
поделать.</p>

<p>Ничего особо не изменилось: всюду спиннеры, спиннеры, спиннеры. По-прежнему
огромные баннеры, которые занимают до половины экрана на ноутбуке.</p>

<p>Страница Messages заработала с третьего раза, до этого что-то шло не
так. Выделяю все сообщения, жму “отметить прочитанными” — они не отмечаются. В
заголовке по-прежнему мигает колокольчик.</p>

<p>Публикую объявление, оплачиваю в Сбере. Авито не реагирует на платеж, страница
не обновляется. Перехожу в объявление, жму “Опубликовать”. Написано, что уже
опубликовано, но пока на модерации. Зачем тогда показывать кнопку
“Опубликовать”?</p>

<p>Смотрю консоль — все залито кровью. Десятки обращений к Sentry и внутреннему
трекеру. Ставлю фильтр на JS, вижу запросы к файлам:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>runtime.17ee57e8c945aab7.js
babel.56c763c5da678bfa.js
react.dfd1d111f8ede875.js
core-js.afc06ee845ff2534.js
sentry.92aa5077131b46e2.js
react-dom.b2b03dba79dd7e0e.js
react-router.70c77e8819d4a40e.js
react-router-dom.952fcbce71c8c0eb.js
main.085d7b253d7b4fc3.js
classnames.8bdb4ca7d18147c3.js
axios.531715197964b964.js
react-helmet-async.08c35d15407bd540.js
clickstream.9d25519cca31a2b9.js
desktop-header.08bc7205e5d97c1c.js
desktop-error-boundary.60b97a6749bfdf5d.js
bootstrap.a567aae79d5d83f3.js
popperjs.23534e9c89ee28ca.js
redux.812bd211f67f512a.js
desktop-navigation.e3664b256e3d71c5.js
navigation.054020057401a579.js
PhoneActualizationPopup.0710bcce593318a7.js
AuthProfileConfirmForm.61b7e0d361eaeba6.js
react-redux.8146e991e20c5797.js
profile-messenger.3520407fc648a850.js
fingerprint.ce96eef5e5724e1b.js
remoteEntry.faea46d9e2064abc.js
Auth.d430faf2d81cfc87.js
remoteEntry.6825f5efeccb47cc.js
WwwProfileMessenger.dda85a70f5fec4e4.js
</code></pre></div></div>

<p>…и другие.</p>

<p>Так и хочется сказать: молодцы, собрали всю коллекцию. Реакт, редукс, бутстрап,
роутер и всякие плагины. Наконец-то можно показать пять сообщений.</p>

<p>Повторюсь, современных фронтендеров нужно не учить, а лечить. Это какой-то
особый сорт нелюдей. Я искренне не понимаю, как можно выкладывать такое в
прод. Не понимаю, как людей не тошнит от настолько плохой работы и собственной
неэффективности. Но похоже, им это ок. Человек ко всему привыкает.</p>

<p>Современный Авито напоминает творчество Лавкрафта: открыл на миг, ужаснулся и
скорей закрыл, чтобы не вспоминать. Но преследовать будет долго.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/android-watches/">Часы</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-01-20T00:00:00+00:00">
        Jan 20, 2025
    </time>

    <a href="/tag/android/" rel="tag">android</a>, <a href="/tag/watches/" rel="tag">watches</a>, <a href="/tag/gadgets/" rel="tag">gadgets</a>

</div>


            <div class="entry">
                
                    <p>На новый год покупал в подарок Андроид. На этот раз не самый нищебродский, а
чуть урезанный флагман. Вместе с телефоном бесплатно дали наручные часы той же
фирмы. Я пытался подарить их другому человеку, но он не принял — не
нужны. Поигрался с ними сам — тоже не понимаю, чем они могут быть
полезны. Выставил на Авито — ноль отзывов.</p>

<p>В целом, после того как я понял современный Андроид, все стало ясно. Часы дают в
подарок потому, что это еще один источник данных о человеке. Телефон уже давно
сливает сведения о владельце Гуглу, Самсунгу и другим производителям. Но есть
нюанс: иногда человек все-таки выпускает телефон из рук, и образуется яма: что
он делает, что потребляет? Часы закрывают эту проблему: они всегда на руке, и по
анализу пульса и движения можно понять: спит он, занимается спортом,
отдыхает. Эти данные дороже стоимости часов, поэтому с точки зрения бизнеса их
выгоднее распространять как подарок к телефону.</p>

<p>Удивляет, что находятся те, кто берут эти часы за живые деньги. Зачем? Телефон и
так заполонил все пространство. Только выдалась минутка, как уже рука тянется к
телефону, и едва находишь сил шлепнуть себя по рукам. Так еще предлагаете
добровольно надеть эти часы?</p>

<p>Хожу как дурак с часами в рюкзаке, ищу кому подарить. Пока безуспешно.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/teams-files/">Файл с процентом</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-25T00:00:00+00:00">
        Dec 25, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p><img src="/assets/static/aws/teams-files/1.jpeg" /></p>

<p>Узнал, что в Teams нельзя прикрепить файл со знаком процента. Также запрещены
решетка, двоеточие и другие спецсимволы (см. картинку). Испытал смешанные
чувства.</p>

<p>С одной стороны, это бред. Когда файлы хранят в облаке, никто в здравом уме не
назначает им исходное имя. Файлы лежат как бинарные блобы с машинными уидами, а
имя хранится в базе в текстовой колонке. Будь там процент, решетка, эмодзи или
DROP TABLE STUDENTS — нормальной системе это без разницы.</p>

<p>С другой стороны, “не все так однозначно” (с). <a href="/url-space/">Я уже рассказывал</a>, как
потерпел неудачу из-за пробела в папке S3. Половина клиентов ищут папку Daily
Reports, другая половина — Daily%20Reports. Класс java.util.URI просто валится,
если дать ему адрес с пробелом.</p>

<p>Отсюда ясно, почему запрещены спецсимволы: с ними возрастает вероятность
факапа. Не в этом сервисе, так в другом. Проще запретить, чем разгребать
последствия: удаленные по ошибке данные, инъекции в путях и прочие штучки.</p>

<p>Так что хотел подтрунить над идиотской ситуацией, а потом раз — и как тот
парень, который в цирке не смеется.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/slack-trial/">Кложурная Слака</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-25T00:00:00+00:00">
        Dec 25, 2024
    </time>

    <a href="/tag/slack/" rel="tag">slack</a>, <a href="/tag/telegram/" rel="tag">telegram</a>

</div>


            <div class="entry">
                
                    <p>В кложурной Слаке новости. Если коротко, заканчивается бесплатный период, и
сообщество решает, куда переезжать. Я там набросил на вентилятор, и делюсь с
вами мыслями. Это было коротко, а теперь долго.</p>

<p>Все вы знаете про Слак — бизнес-мессаджер, платформу команд. Слака очень
популярна в Америке, люди залипают в ней как мы в Телеграме. Там и работа, и
разные сообщества. Но есть нюанс: в бесплатной версии очень короткая история
поиска, буквально неделю или около того. В результате то, что обсуждали месяц
назад, уже не находится. Народ пишет ботов, которые архивируют каналы в
статичный веб, но это так себе.</p>

<p>В кложурной слаке зарегана 21 тысяча человек, из них 2.600 активны. За каждого
активного пользователя Слак просит почти пять долларов в месяц, в результате
месячная плата составляет 19 косарей. До того, как узнать эту сумму, я думал
выступить спонсором: перечислять долларов 500 в месяц в общий фонд. Но собрать
19 тысяч будет тяжеловато, да и не ясно, за что столько платить.</p>

<p>Пару лет назад Шон Корфилд, один из топовых разрабов, выбил из Слаки годовой
грант: мы некоммерческое комьюнити и все такое. Потом в Слаке сменилось
руководство, но Шон снова получил грант. И вот опять в Слаке перестановки, и на
этот раз на запросы никто не отвечает. Платный тариф истекает в конце декабря, и
идет обсуждение, куда переезжать.</p>

<p>Независимо от того, что решат, важно подумать вот о чем. Слака — это
классическая бесплатная доза. Ладно один год платного тарифа, ладно второй — но
так не может продолжаться вечно. Менеджмент без конца меняется, и каждый новый
обнуляет договоренности. Поддержка некоммерческих групп не оговорена на сайте, и
надеяться на вечное продление глупо. Все частные договоры ситуативны и
справедливы лишь в моменте.</p>

<p>Просто чтобы посмотреть на реакцию, я предложил Телеграм. А что такого? Есть же
русское сообщество в Телеге, и хорошо себе живет. Есть и англоговорящая группа
человек на 250.</p>

<p>Как и ожидалось, нашлись те, кого беспокоит, что Телеграм — это Russian
thing. Ничего, что основатель уехал в Дубай двенадцать лет назад? Кроме того, я
могу понять, когда россиянин не ставит американский софт, опасаясь санкций. Но
почему американец опасается софта, который написан русскими? Уверен, что все
сливается в КГБ? Кто-то много смотрел телевизор.</p>

<p>Другая вещь, которая бросилась в глаза — в этом вашем Телеграме нет
модерации. Западный человек настолько привык, что каждая платформа модерируется,
что без нее чувствует себя голым. Это что, каждый может написать то, что думает?
Людям даже не приходит в голову, что модерацией должно заниматься сообщество:
ставить своих анти-спам ботов, дать админские права людям в разных часовых
поясах. Модерировать должны вы, а не индусы на аутсорсе, которые грепают текст
по ключевым словам, и которым завернуть контент проще, чем оставить.</p>

<p>Ясно дело, ни на какой Телеграм я не надеюсь. В Слаке обсуждают Зулибы и прочую
дрянь с клиентами на Электроне. Всерьез предлагают Дискорд. На этом фоне мое
предложение смотрится неудачной шуткой. Я не возражаю. Мне было интересно
вбросить тему, на которую у людей вагон предрассудков и посмотреть со стороны.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/fear-of-exceptions/">Боязнь исключений</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-25T00:00:00+00:00">
        Dec 25, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/exceptions/" rel="tag">exceptions</a>, <a href="/tag/monads/" rel="tag">monads</a>

</div>


            <div class="entry">
                
                    <p>Многие программисты боятся исключений. Как я об этом узнал? Примерно раз в месяц
в кложурной Слаке и Телеграме задают вопрос: что мне использовать вместо
исключений? Им советуют возвращать мапы с полем error, разные типы-обертки,
макросы. Есть несколько библиотек, имитирующих монады. Это когда поделил на
ноль, и вместо исключения приходит объект Failure.</p>

<p>Что тут сказать… можно прятаться от проблемы разными способами. Не смотреть на
нее, не называть вслух или креститься. Можно писать программу так, что даже в
худшем случае она не упадет. Только вопрос — зачем?</p>

<p>Везде, где пытаются избежать исключений, я вижу обратное. Проблему зарывают в
песок, и об ошибке никто не знает. Если не пожалуется пользователь или не придет
менеджер, о проблеме не узнают. Или узнают в пятницу вечером. Я таких осиных
гнезд вскрывал ого-го сколько.</p>

<p>Когда используют разные обертки вместо исключений, для меня это признак низкого
уровня команды. В коллективе не понимают, как поступать с исключениями, как их
собирать и расследовать. В такой команде пишут плохой код, вот и все.</p>

<p>Исключения не нужно прятать. Наоборот, как только что-то идет не так, нужно
кидать их с как можно более понятным сообщением и данными для отладки. Для этого
нужно победить свои страхи: признать, что код не идеален, в нем баги, и
экстренно на них реагировать.</p>

<p>Терпимость к отклонениям должна быть нулевая. Зарывание ошибок в мапу — путь в
никуда.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page2" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 3 из 90</span>
        
        <a href="/page4" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
