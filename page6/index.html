<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page6/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33533163-2', 'auto');
    ga('send', 'pageview');

</script>

    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/whats-wrong/">Что не так</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-22T00:00:00+00:00">
        Apr 22, 2021
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Один из самых дурацких вопросов — “что не так с X”. Примеры:</p>

<ul>
  <li>Мы в редакции не используем букву ё.</li>
  <li>
    <p>Что не так с ё?</p>
  </li>
  <li>Мы перешли с Node.js на Python.</li>
  <li>
    <p>Что не так с Нодой?</p>
  </li>
  <li>Новый ролик я монтировал в Final Cut, а не Premiere.</li>
  <li>Что не так с Премьером?</li>
</ul>

<p>Беда вот в чём. Ни одно из утверждений не говорит о том, что с буквой ё,
программой или языком что-то не так. От них отказались по каким-то причинам, а с
самим предметом всё в порядке. Поэтому вопрос задан неправильно — следовало
спросить, почему вы решили; почему отказались; что вынудило и так далее.</p>

<p>Но собеседник переложил работу на меня. Я понимаю, что он имел в виду, но тогда
мой ответ звучит слабо. С буквой ё все в порядке, просто мы…, программа
хорошая, но я… Получается ерунда.</p>

<p>Заметил, что подобный вопросы задают тролли, которым нужна подобная
интонация. Либо человек, которым движет вера. Что бы вы ни сказали, он будет
гнуть свою линию. Отсюда эта лёгкая дерзость: во фразе “что не так с X” уже
слышится претензия.</p>

<p>Подобные вещи я либо игнорирую, либо прошу задать вопрос правильно. Что ты
имеешь в виду? Я не говорил, что с X что-то не так. Объясни, чего хочешь.</p>

<p>Кидайте эту заметку тем, кто злоупотребляет “что не так с X”.</p>

<p>См. также <a href="https://ru.wikipedia.org/wiki/Whataboutism">Whataboutism</a>.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/clj-2nd-edition/">Второе издание</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-16T00:00:00+00:00">
        Apr 16, 2021
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    
<p>У меня большая радость — выпустил второе издание книги <a href="/clojure-in-prod/">“Clojure на
производстве”</a>. Сел за него спустя полгода после первой
публикации. Процесс занял четыре месяца, и вот — готово.</p>

<p>Исправил опечатки и неточности, о которых сообщили читатели. Низкий поклон всем,
кто их прислал.</p>

<p>Некоторые разделы урезал, другие, наоборот, дополнил. Так, в главе про спеку мне
показался слабым пример, где парсим конфигурацию через <code class="language-plaintext highlighter-rouge">s/conform</code>. Опыт
подсказывает, что так не делают в проде, поэтому удалил эту часть. Заменил ее на
парсинг структур данных — задачу, которую решал в либе <a href="https://github.com/igrishaev/etaoin">Etaoin</a>.</p>

<p>То же самое относится к другим главам — нашлись смысловые неточности, которые
пришлось проверить и допилить.</p>

<p>Самое важное — в книге наконец-то шрифт нормального размера. Вы будете смеяться,
но в первом издании на титульном листе был незакрытый тег <code class="language-plaintext highlighter-rouge">\small</code>, из-за
которого остальной текст был на один пункт меньше. Глаз замылился, и я заметил
это уже когда сдал макет в печать. Позже получил несколько писем о том, что
шрифт маловат. Теперь это исправлено, но и книга потолстела — с 360 до 444
страниц, то есть на четверть.</p>

<p>Купить книгу можно все теми же способами:</p>

<ul>
  <li><a href="https://ridero.ru/books/clojure_na_proizvodstve/">в издательстве</a>,</li>
  <li><a href="https://www.chitai-gorod.ru/catalog/book/1267534/">в Читай-городе</a>,</li>
  <li><a href="https://www.ozon.ru/product/clojure-na-proizvodstve-179829229/">на Озоне</a>,</li>
  <li><a href="https://www.bookvoed.ru/book?id=10490030">в Буквоеде</a>,</li>
  <li><a href="https://dmkpress.com/catalog/computer/programming/functional/978-5-93700-055-2/">в ДМК-Пресс</a>,</li>
  <li><a href="https://aliexpress.ru/item/1005002322504648.html">на Али-Экспрессе</a>.</li>
</ul>

<p>Почти все магазины обновили обложку, но если вы видите старую, не страшно:
напечатают всё равно второе издание.</p>

<p>Электронная версия <a href="https://gum.co/clojure-in-prod">на Gumroad</a>. Если вы уже покупали, то сервис
позволит вам скачать новые файлы бесплатно. Я обновляю их с каждой найденной
опечаткой, которые, увы, все еще попадаются.</p>

<p>Ну и самое важное — провел эксперимент. Отпечатал двадцать пробных книжек
формата B5 в твердой обложке. Это нечто среднее между А5 и А4. После первого
издания книга смотрится неприлично большой. Даже если не выстрелит, ей можно
ударить по голове ©. Зато очень легко читать и листать.</p>

<p>Несколько фотографий. В мягкой глянцевой обложке, обычный формат А5:</p>


                    <p><a href="/clj-2nd-edition/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/pomidor/">Помидор</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-13T00:00:00+00:00">
        Apr 13, 2021
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/pomidor/" rel="tag">pomidor</a>

</div>


            <div class="entry">
                
                    <p>Скажу банальность, но всё-таки — техника помидора работает. Долго не мог ей
следовать, но освоился, и теперь даже получаю удовольствие.</p>

<p>Помидор — это когда вы работаете интервалами по 20-25 минут с перерывами по пять
минут. Отвлекаться на что-то, не связанное с задачей, нельзя. Сюда входит почта
(вдруг что-то пришло), Телеграм (вдруг написали важное), Ютуб и левые
сайты. После четырёх помидоров положен долгий отдых в 20 минут. Идеальный случай
— сделать восемь помидоров за день.</p>

<p>Сперва кажется, что это мало — всего-то 8 * 20 = 160 минут, или 2.5 часа. Это
ошибка, которую допускают те, кто не пробовал. Два с половиной часа чистой,
ничем не разбавленной работы — <em>это офигеть как много</em>. Учтите, что сюда не входят
звонки, обед, походы в туалет и за чаем, офисные разговоры и Ютуб. Всё это
занимает три часа и больше. Добавим сюда те якобы жалкие два часа работы, и вот
он, ваш рабочий день.</p>

<p>Да что там, с недавнего времени я понял: даже час напряженной работы над чем-то
стоит всего дня. Получилось утром посидеть над книгой — день прожит не зря,
дальнейшее меня уже не интересует. Не получилось — буду злиться, что день
потерян. В теории, нагнать потерянный утром час можно и после обеда, но это
случается редко: и голова не та, и взгляд не тот.</p>

<p>Так вот, помидор. Он сто раз описан в книгах, нет смысла повторяться. Перечислю
то, что зашло лично мне.</p>

<ul>
  <li>
    <p>Мобильные приложения ужасны: сплошная реклама и подписки. Приложения тупят:
иные из них, если вырубить экран, засыпают и не сигналят. А если не вырубить,
то садят батарею. Короче, все приложения говно. Может, и есть достойное, но
проверять каждое лень.</p>
  </li>
  <li>
    <p>Не рассматривал физический таймер. Это мило, но лишняя вещь на столе, плюс он
тикает (спираль, шестеренки), а мне это не нравится. Если же электронный
вариант, то он будет такой же ужасный, как мобильное приложение.</p>
  </li>
</ul>

<ul>
  <li>Под мак нашлось настольное приложение <a href="https://pomidorko.ru/apps/">pomidorko</a>
(см. картинку). Выше всяких похвал: минимальное, одна кнопка, пара опций. И
плевать, что чего-то не умеет: лучше меньше, да лучше. Поддержите автора
деньгами, в подвале сайта ссылки.</li>
</ul>

<p><img src="/assets/static/aws/pomidor/sample.png" /></p>

<ul>
  <li>
    <p>Цикл помидора выставляю на 20 минут. Сначала кажется, что это мало, и порой
сигнал звучит в тот момент, когда только разогнался. Тут главное не посчитать
себя суперменом и не выставить на 30 и больше, иначе
<a href="/antiburn/"><del>выгоришь</del></a> устанешь.</p>
  </li>
  <li>
    <p>Во время отдыха надо встать и подвигаться. Я всегда иду в туалет — не потому,
что хочется, а чтобы размять булки и плеснуть в лицо холодной воды. Во время
долгого перерыва можно полежать на диване.</p>
  </li>
  <li>
    <p>К помидору трудно привыкнуть. Начинается классическая ломка: хочу Ютуб, а
нельзя. Хочу Телеграмчик, а тоже нельзя. Всё это заставляет задуматься: что же
это за работа, если постоянно тянет отвлечься? Неужели так трудно хранить
фокус двадцать минут? Но потом ломка проходит, и с каждым помидором
испытываешь гордость за самоконтроль.</p>
  </li>
  <li>
    <p>Если 20 минут для вас много — выставляйте на 15 или даже 10, никто не вправе
вас за это стыдить. Главное — следовать основному правилу (не отвлекаться) и
не обманывать себя. Других вы обманите запросто, а себя — нет.</p>
  </li>
  <li>
    <p>Для начала делайте два помидора в день, то есть почти час чистого рабочего
времени. Серьёзно. Вы очень удивитесь, когда узнаете, <em>сколько</em> можно сделать за
этот час.</p>
  </li>
</ul>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/clj-book-exceptions/">Exceptions in Clojure</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-05T00:00:00+00:00">
        Apr 5, 2021
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/book/" rel="tag">book</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/exceptions/" rel="tag">exceptions</a>

</div>


            <div class="entry">
                
                    <p><strong>Clojure in Production</strong></p>

<ul>
  <li>Chapter 1. Web development</li>
  <li>Chapter 2. Clojure.spec</li>
  <li><a href="/en/clj-book-exceptions/">Chapter 3. Exceptions</a></li>
  <li>Chapter 4. Mutability</li>
  <li><a href="/en/clj-book-config/">Chapter 5. Configuration</a></li>
  <li><a href="/en/clj-book-systems/">Chapter 6. Systems in Clojure</a></li>
  <li>Chapter 7. Tests</li>
</ul>

<h2>

    In This Chapter

</h2>

<ul id="toc-item-clj-book-exceptions-en">
  <li><a href="#exceptions" id="toc-item-clj-book-exceptions-en-exceptions">Exceptions</a>    <ul>
      <li><a href="#basics-of-exceptions" id="toc-item-clj-book-exceptions-en-basics-of-exceptions">Basics of Exceptions</a></li>
      <li><a href="#chains-and-context" id="toc-item-clj-book-exceptions-en-chains-and-context">Chains and Context</a></li>
      <li><a href="#moving-on-to-clojure" id="toc-item-clj-book-exceptions-en-moving-on-to-clojure">Moving on to Clojure</a></li>
      <li><a href="#more-about-context" id="toc-item-clj-book-exceptions-en-more-about-context">More about Context</a></li>
      <li><a href="#when-to-throw-exceptions" id="toc-item-clj-book-exceptions-en-when-to-throw-exceptions">When to Throw Exceptions</a></li>
      <li><a href="#more-about-chains" id="toc-item-clj-book-exceptions-en-more-about-chains">More about Chains</a></li>
      <li><a href="#printing-of-exceptions" id="toc-item-clj-book-exceptions-en-printing-of-exceptions">Printing of Exceptions</a></li>
      <li><a href="#logging" id="toc-item-clj-book-exceptions-en-logging">Logging</a></li>
      <li><a href="#exception-context" id="toc-item-clj-book-exceptions-en-exception-context">Exception Context</a></li>
      <li><a href="#collecting-exceptions" id="toc-item-clj-book-exceptions-en-collecting-exceptions">Collecting Exceptions</a></li>
      <li><a href="#sentry-and-ring" id="toc-item-clj-book-exceptions-en-sentry-and-ring">Sentry and Ring</a></li>
      <li><a href="#jumping-code" id="toc-item-clj-book-exceptions-en-jumping-code">Jumping Code</a></li>
      <li><a href="#finally-form-and-context-manager" id="toc-item-clj-book-exceptions-en-finally-form-and-context-manager">Finally Form and Context Manager</a></li>
      <li><a href="#exceptions-and-predicates" id="toc-item-clj-book-exceptions-en-exceptions-and-predicates">Exceptions and Predicates</a></li>
      <li><a href="#techniques-and-functions" id="toc-item-clj-book-exceptions-en-techniques-and-functions">Techniques and Functions</a></li>
      <li><a href="#summary" id="toc-item-clj-book-exceptions-en-summary">Summary</a></li>
    </ul>
  </li>
</ul>

<h1 id="exceptions">Exceptions</h1>

<p><em>This chapter considers exceptions in Clojure. How do they work and how do they differ from their Java counterparts? When is it better to throw and when to catch exceptions? What and how to write in logs to investigate an incident quickly?</em></p>

<p>Somebody might find it strange to devote an entire chapter to exceptions. The topic, after all, is simple: exceptions can only be thrown, caught, and logged. Theoretically, this is enough to work on a project.</p>

<p>Exceptions are technically simple, but they have rich <em>semantics</em>. When exactly should you throw and catch exceptions? What useful information do they carry? Where to write exceptions? Can we catch them with predicates? In practice, we are overwhelmed with countless specific cases.</p>

<p>Newbies tend to follow the positive path. They write code such as there basically cannot be exceptions in their work. This is why it is so hard to troubleshoot errors afterwards. Why did the server respond with code 500? There are innumerable possible reasons why the request failed. However, the log entry provides too little information to understand what has happened.</p>

<p>A good programmer pays close attention to errors. With experience, it becomes clear – refusing exceptions does not pay off. Without them, we will complete the task faster, and there will be less code – that is right. But later, you will have problems with detailing and fixing said errors.</p>

<p>Exceptions in code are just as important as normal behavior. If you think this kind of problem will not happen to you, think again. If your project encounters trouble due to uncaught errors, then it is time to study the topic.</p>


                    <p><a href="/en/clj-book-exceptions/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/read-33/">Ссылки на выходные (выпуск 33)</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-02T00:00:00+00:00">
        Apr 2, 2021
    </time>

    <a href="/tag/read/" rel="tag">read</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    
<p><strong>Почитать</strong></p>

<ul>
  <li>
    <p><a href="https://meduza.io/feature/2021/03/11/yumor-vysekaetsya-iz-kakoy-to-bedy">Большое интервью Юрия Стоянова на Медузе </a></p>

    <p>Бесконечно уважаю Стоянова за две вещи. Во-первых, он не цепляется за былые
успехи в “Городке” и двигается дальше: играет в сериалах и кино, пишет
сценарии, продюсирует. Во-вторых, не говорит на тему политики и в целом ведёт
себя как профессионал: высказывается только по профильной теме. Очень
жизнеутверждающее интервью, приятно читать.</p>
  </li>
  <li>
    <p><a href="https://novayagazeta.ru/articles/2021/02/10/89120-pohischenie-evropy-2-0">Константин Богомолов. Похищение Европы 2.0</a></p>

    <p>Анализ последних тенденций общества. Самоконтроль, толерантность и левая
повестка. Соглашусь не со всеми тезисами, но ознакомится стоит.</p>
  </li>
</ul>

<p><strong>Посмотреть</strong></p>

<p>Телеспектакль “Хранители” по мотивам Толкиена. Постановка и актёры за гранью
добра и зла, нужно просто увидеть. Ну и коменты на Ютубе почитать.</p>

<p>Первая и вторая части:</p>

<iframe width="650" height="488" src="https://www.youtube.com/embed/vquKyNdgH3s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<iframe width="650" height="488" src="https://www.youtube.com/embed/oLevCLNnLmg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Приятного просмотра.</p>

<p>См также <a href="/read-32/">прошлый выпуск</a>.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/dull-headers/">О заголовках</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-04-01T00:00:00+00:00">
        Apr 1, 2021
    </time>

    <a href="/tag/writing/" rel="tag">writing</a>, <a href="/tag/text/" rel="tag">text</a>

</div>


            <div class="entry">
                
                    <p>Совет тем, кто пишет:</p>

<h1 id="не-выпендривайтесь-с-заголовками">НЕ ВЫПЕНДРИВАЙТЕСЬ С ЗАГОЛОВКАМИ</h1>

<p>Что это значит? То, что заголовок не должен быть крылатой фразой; цитатой из
фильма; популярным названием; советским штампом и так далее.</p>

<p>Иные авторы пишут хорошие статьи, но с заголовками у них беда. Почему-то
считается, что простой понятный заголовок — это зашквар. Например, в тексте
автор тестирует процессоры. Вместо “Тестирование процессоров Ryzen” он пишет
“Ryzen и все-все-все”. Или вместо “Запуск Kafka в продакшене” у него закос под
былину: “Как я Kafka на сервере поднимал”.</p>

<p>Автор думает, что оригинален и неповторим, а на самом деле это лютый
колхоз. Первый пришедший в голову штамп. Лично мне от таких заголовков стыдно.</p>

<p>Другие примеры: “Чтобы сказку сделать былью”, “вновь продолжается бой” —
советская тема. Былинный порядок слов: “как я то и сё делал”. Винни-Пух: “…и
все-все-все”. Просто штампы: не чем-то единым. Двойное название: “То-то то-то,
Или это-это”. Цитаты: “в чём сила, брат”, “вы нам за X ответите”. “Но это уже
другая история” и так далее.</p>

<p>Как только вам в голову пришёл штамп, одумайтесь и не пишите его. Пусть
заголовок будет простым, скучным, но не затасканным. Люди думают одинаково, и
фраза из Брата 2 приходит в голову всем, не только вам. Это ни разу не стиль, а
слабость.</p>

<p>Вспоминаю только считанные разы, когда заголовок с отсылкой был небанальным. Но
и отсылка тоже должна быть небанальной, то есть понятной только узкому кругу
читателей. Её разгадка — своего рода награда. <del>Но это уже другая история</del>.</p>

<p>Еще раз:</p>

<h1 id="не-выпендривайтесь-с-заголовками-1">НЕ ВЫПЕНДРИВАЙТЕСЬ С ЗАГОЛОВКАМИ</h1>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/clj-book-systems/">Systems in Clojure</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-03-29T00:00:00+00:00">
        Mar 29, 2021
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/book/" rel="tag">book</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/systems/" rel="tag">systems</a>

</div>


            <div class="entry">
                
                    <p><strong>Clojure in Production</strong></p>

<ul>
  <li>Chapter 1. Web development</li>
  <li>Chapter 2. Clojure.spec</li>
  <li><a href="/en/clj-book-exceptions/">Chapter 3. Exceptions</a></li>
  <li>Chapter 4. Mutability</li>
  <li><a href="/en/clj-book-config/">Chapter 5. Configuration</a></li>
  <li><a href="/en/clj-book-systems/">Chapter 6. Systems in Clojure</a></li>
  <li>Chapter 7. Tests</li>
</ul>

<h2>

    In This Chapter

</h2>

<ul id="toc-item-clj-book-systems-en">
  <li><a href="#more-details-on-systems" id="toc-item-clj-book-systems-en-more-details-on-systems">More Details on Systems</a></li>
  <li><a href="#dependencies" id="toc-item-clj-book-systems-en-dependencies">Dependencies</a></li>
  <li><a href="#advantages" id="toc-item-clj-book-systems-en-advantages">Advantages</a></li>
  <li><a href="#preparing-for-the-overview" id="toc-item-clj-book-systems-en-preparing-for-the-overview">Preparing for the Overview</a>    <ul>
      <li><a href="#database-and-worker" id="toc-item-clj-book-systems-en-database-and-worker">Database and Worker</a></li>
      <li><a href="#docker" id="toc-item-clj-book-systems-en-docker">Docker</a></li>
    </ul>
  </li>
  <li><a href="#mount" id="toc-item-clj-book-systems-en-mount">Mount</a>    <ul>
      <li><a href="#first-entity" id="toc-item-clj-book-systems-en-first-entity">First Entity</a></li>
      <li><a href="#relationship-with-configuration" id="toc-item-clj-book-systems-en-relationship-with-configuration">Relationship with Configuration</a></li>
      <li><a href="#databases" id="toc-item-clj-book-systems-en-databases">Databases</a></li>
      <li><a href="#background-task" id="toc-item-clj-book-systems-en-background-task">Background Task</a></li>
      <li><a href="#system-build" id="toc-item-clj-book-systems-en-system-build">System Build</a></li>
      <li><a href="#dependencies-1" id="toc-item-clj-book-systems-en-dependencies-1">Dependencies</a></li>
      <li><a href="#internal-structure" id="toc-item-clj-book-systems-en-internal-structure">Internal Structure</a></li>
      <li><a href="#state" id="toc-item-clj-book-systems-en-state">State</a></li>
      <li><a href="#selective-startup" id="toc-item-clj-book-systems-en-selective-startup">Selective Startup</a></li>
      <li><a href="#reboot-problem" id="toc-item-clj-book-systems-en-reboot-problem">Reboot problem</a></li>
      <li><a href="#independent-work" id="toc-item-clj-book-systems-en-independent-work">Independent Work</a></li>
    </ul>
  </li>
  <li><a href="#component" id="toc-item-clj-book-systems-en-component">Component</a>    <ul>
      <li><a href="#how-it-works" id="toc-item-clj-book-systems-en-how-it-works">How It Works</a></li>
      <li><a href="#the-first-component" id="toc-item-clj-book-systems-en-the-first-component">The First Component</a></li>
      <li><a href="#constructor" id="toc-item-clj-book-systems-en-constructor">Constructor</a></li>
      <li><a href="#slots-feature" id="toc-item-clj-book-systems-en-slots-feature">Slots feature</a></li>
      <li><a href="#database-component" id="toc-item-clj-book-systems-en-database-component">Database Component</a></li>
      <li><a href="#transactional-component" id="toc-item-clj-book-systems-en-transactional-component">Transactional Component</a></li>
      <li><a href="#worker" id="toc-item-clj-book-systems-en-worker">Worker</a></li>
      <li><a href="#manual-dependencies" id="toc-item-clj-book-systems-en-manual-dependencies">Manual dependencies</a></li>
      <li><a href="#system-in-production" id="toc-item-clj-book-systems-en-system-in-production">System in Production</a></li>
      <li><a href="#system-storage" id="toc-item-clj-book-systems-en-system-storage">System Storage</a></li>
      <li><a href="#correct-completion" id="toc-item-clj-book-systems-en-correct-completion">Correct Completion</a></li>
      <li><a href="#more-about-waiting" id="toc-item-clj-book-systems-en-more-about-waiting">More about Waiting</a></li>
      <li><a href="#improving-dependencies" id="toc-item-clj-book-systems-en-improving-dependencies">Improving Dependencies</a></li>
      <li><a href="#grouping-slots" id="toc-item-clj-book-systems-en-grouping-slots">Grouping slots</a></li>
      <li><a href="#conditional-system" id="toc-item-clj-book-systems-en-conditional-system">Conditional System</a></li>
      <li><a href="#sharing-components" id="toc-item-clj-book-systems-en-sharing-components">Sharing Components</a></li>
      <li><a href="#idempotence" id="toc-item-clj-book-systems-en-idempotence">Idempotence</a></li>
      <li><a href="#alternative-way" id="toc-item-clj-book-systems-en-alternative-way">Alternative Way</a></li>
    </ul>
  </li>
  <li><a href="#integrant" id="toc-item-clj-book-systems-en-integrant">Integrant</a>    <ul>
      <li><a href="#basic-arrangement" id="toc-item-clj-book-systems-en-basic-arrangement">Basic Arrangement</a></li>
      <li><a href="#first-components" id="toc-item-clj-book-systems-en-first-components">First components</a></li>
      <li><a href="#dependencies-2" id="toc-item-clj-book-systems-en-dependencies-2">Dependencies</a></li>
      <li><a href="#parallels-with-component" id="toc-item-clj-book-systems-en-parallels-with-component">Parallels with Component</a></li>
      <li><a href="#loss-of-keys" id="toc-item-clj-book-systems-en-loss-of-keys">Loss of Keys</a></li>
      <li><a href="#system-in-file" id="toc-item-clj-book-systems-en-system-in-file">System in File</a></li>
      <li><a href="#key-inheritance" id="toc-item-clj-book-systems-en-key-inheritance">Key Inheritance</a></li>
      <li><a href="#other-component-stages" id="toc-item-clj-book-systems-en-other-component-stages">Other Component Stages</a>        <ul>
          <li><a href="#preparation" id="toc-item-clj-book-systems-en-preparation">Preparation</a></li>
          <li><a href="#spec" id="toc-item-clj-book-systems-en-spec">Spec</a></li>
          <li><a href="#suspending" id="toc-item-clj-book-systems-en-suspending">Suspending</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#summary" id="toc-item-clj-book-systems-en-summary">Summary</a></li>
</ul>

<p><em>In this chapter, we will talk about systems, i.e., collections of interrelated components. We’ll look at how large projects are assembled of small parts as well as how to overcome complexity and make all the parts work as one.</em></p>

<p>The concept of a system is related to the configuration we discussed recently. The configuration answers the question of how to get the parameters, and the system knows how to use them.</p>

<p>Systems emerged when the demand for long-running applications arose. We don’t require such things from scripts and utilities as they have a short runtime and a state that does not last long. When scripts and utilities finish their work, resources get released, so there is no point in monitoring them.</p>

<p>Things are different for server applications: they work all the time, and therefore, are designed differently than scripts. The application consists of components that run in the background. Each component performs its specific task. At startup, the app enables components in the correct order and builds connections between them.</p>


                    <p><a href="/en/clj-book-systems/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/no-book-marks/">Не подчёркивайте в книгах</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-03-26T00:00:00+00:00">
        Mar 26, 2021
    </time>

    <a href="/tag/books/" rel="tag">books</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Вы наверное видели, как успешные люди подчёркивают фразы в книгах. Со стороны
это смотрится супер-круто: сидит такой мега-мозг, водит карандашом и всё
запоминает. Плюс сто к интеллекту.</p>

<p>Эффект хороший, но толку от этого нет. Поэтому — перестаньте портить
книги. Подчёркивание не делает вас умнее и не увеличивает запас знаний. Вы
просто водите карандашом. Портите книжку. Хватит.</p>

<p>Два доказательства. Первое — давно заметил по себе, что подчёркивание не несет
пользы. Подчёркнул, и через день уже не помню, что именно. Всякие заметки на
полях, стикеры с умными мыслями — все это чушь собачья. Выглядит умно, пользы
никакой.</p>

<p>Второе — поскольку я не авторитет, обратимся к <a href="https://ru.wikipedia.org/wiki/%D0%9E%D0%B0%D0%BA%D0%BB%D0%B8,_%D0%91%D0%B0%D1%80%D0%B1%D0%B0%D1%80%D0%B0">Барбаре Оакли</a>. Она как
Дональд Кнут, только женщина. В книге “Думай как математик” Барбара пишет:</p>

<blockquote>
  <p>Вас наверняка удивит информация о том, что выделять и подчёркивать текст нужно
осмотрительно, иначе такой способ будет неэффективен и даже вреден. Движение
руки, подчёркивающей текст, может дать вам иллюзию, будто вы переместили
изучаемый материал в сознание. Поэтому, когда делаете пометки, сначала
научитесь находить в тексте важное, а уже потом что-то отмечать и старайтесь
не выделять много текста: максимум одно предложение на абзац</p>
</blockquote>

<p>Внезапно, да? Вот что пишет научный руководитель Барбары:</p>

<blockquote>
  <p>Учась в магистратуре, я порой видел, что другие студенты интенсивно выделяют в
учебнике этапы доказательств или подчёркивают предложения в абзацах. Я никогда
этого не делал. Подчёркивание нарушает оригинал без всякой гарантии того, что
выделенная информация отложится в сознании и принесет пользу.</p>
</blockquote>

<p>Далее:</p>

<blockquote>
  <p>Мой собственный опыт, таким образом, созвучен исследованиям и открытиям, о
которых вы читаете в этой книге. Лучше не подчёркивать и не выделять фрагменты
текста, поскольку – по крайней мере судя по моему опыту – это действие лишь
создает иллюзию компетентности. Вспоминать и пересказывать текст – гораздо
более мощное средство. Попытайтесь добиться того, чтобы основная идея
рассказанного на каждой странице отложилась у вас в сознании прежде, чем вы
перейдете к следующей.</p>
</blockquote>

<p>Один из главных пунктов в конце книги:</p>

<blockquote>
  <p>После каждой прочитанной страницы отведите от нее взгляд и вспомните основные
идеи. Не выделяйте (например, подчёркиванием) большое количество текста на
странице и никогда не отмечайте то, чего предварительно не закрепили в
памяти. Пытайтесь вспоминать учебный материал по дороге на занятия или в тех
аудиториях, где вы не занимались им изначально. Способность вспоминать,
т. е. генерировать идеи изнутри сознания, – один из ключевых показателей
эффективной учебы.</p>
</blockquote>

<p>С большой гордостью сообщаю, что своим умом дошел до того же, что пишут умные
люди.</p>

<p>Итак, что же делать, чтобы материал запомнился? Вот список.</p>

<ul>
  <li>Читать небольшими порциями, потом откладывать и пытаться вспомнить. Если не
выходит, значит вы читали зря. Вернуться и перечитать. Сократить разовый объём
чтения.</li>
  <li>На прогулке мысленно пересказать материал самому себе.</li>
  <li>Выписать в тетрадь опорные тезисы или краткий конспект. Именно выписать, а не
переписать, то есть воспроизвести по памяти.</li>
</ul>

<p>Этого достаточно, чтобы запомнить материал. Если вы часто скачете по книге,
пригодятся обычные закладки. Но не надо чиркать — даром что книгу испортили, так
и обманули себя.</p>

<p>На тему выделений цветом см. также <a href="/excel-colors/">заметку об Экселе</a>.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/zippers-update/">Обновил зипперы</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-03-19T00:00:00+00:00">
        Mar 19, 2021
    </time>

    <a href="/tag/zippers/" rel="tag">zippers</a>

</div>


            <div class="entry">
                
                    <p><a href="/podlodka/">В подкасте с подлодкой</a> я пытался объяснить зипперы. Пытался, —
потому что формат подкаста не подходит для таких вещей. Нужна маркерная доска,
схемы и всё такое. На словах — ерунда, только заинтересовать.</p>

<p>А потом вспомнил, что полгода назад написал руководство по зипперам. Оно разбито
на восемь постов и по объёму тянет на главу книги — около 30 страниц. Сразу
после выпуска я вернулся к ним и отредактировал: почистил текст, доработал
примеры и код.</p>

<p>Уверен, в интернете нет более подробного текста по зипперам на русском. Да и на
английском не густо: обрывочные посты в блогах и бородатые пейперы. Последние
хороши, но на Хаскеле, что не наш метод. А у меня — сплошной шоколад. Скоро
будет версия на английском.</p>

<p>Пользуйтесь!</p>

<h2 id="оглавление">Оглавление</h2>

<ul>
  <li><a href="/clj-zippers-1/">Зипперы (часть 1). Азы навигации</a></li>
  <li><a href="/clj-zippers-2/">Зипперы (часть 2). Автонавигация</a></li>
  <li><a href="/clj-zippers-3/">Зипперы (часть 3). XML-зипперы</a></li>
  <li><a href="/clj-zippers-4/">Зипперы (часть 4). Поиск в XML</a></li>
  <li><a href="/clj-zippers-5/">Зипперы (часть 5). Редактирование</a></li>
  <li><a href="/clj-zippers-6/">Зипперы (часть 6). Виртуальные деревья. Обмен валют</a></li>
  <li><a href="/clj-zippers-7/">Зипперы (часть 7). Обход в ширину. Улучшенный обмен валют</a></li>
  <li><a href="/clj-zippers-8/">Зипперы (часть 8). Заключение</a></li>
</ul>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/google-tooltip/">Тултипы</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2021-03-18T00:00:00+00:00">
        Mar 18, 2021
    </time>

    <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/interface/" rel="tag">interface</a>, <a href="/tag/tooltips/" rel="tag">tooltips</a>

</div>


            <div class="entry">
                
                    <p>Дизайнеры Гугла совсем офонарели. Всплывающее окно показывает другие всплывающие
элементы. Никого не парит, что места с гулькин нос, и ничего не видно.</p>

<p><img src="/assets/static/aws/google-ui/drive.png" /></p>

<p>Тултипы и попапы — настоящая болезнь дизайнеров. Сегодня, что бы ты ни открыл —
настольную программу или сайт — интерфейс взрывается тултипами. Или красными
шариками, которые означают непрочитанные сообщения. Будь ты хоть трижды аноним
за Тором и VPN, всё равно — у нас персональное сообщение именно для тебя.</p>

<p><img src="/assets/static/aws/google-ui/doc.png" /></p>

<p>Всплывающие элементы – признак импотенции дизайнера, примерно как три точки с
выпадашкой. Жаловаться можно бесконечно — достаточно открыть любой современный
сайт. Но я очень надеюсь, что хотя бы один дизайнер прочтёт этот текст и однажды
откажется следовать идиотизму.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page5" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 6 из 57</span>
        
        <a href="/page7" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
