<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page6/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/no-regex/">Не люблю регулярки</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-02T00:00:00+00:00">
        Dec 2, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/regex/" rel="tag">regex</a>

</div>


            <div class="entry">
                
                    <p>Признаться, я не особо люблю регулярные выражения. Я знаю их где-то на троечку,
время от времени применяю, но стараюсь, чтобы их было меньше.</p>

<p>Дело в том, что регулярные выражения — это сверхплотный, сверхкраткий язык
описания шаблонов в тексте. Из его главного преимущества — краткости — следует
главный недостаток. Когда регулярка больше какого-то порога, ее понимание и
поддержка резко идут вниз. В этом случае следует отказаться от регулярки, однако
в проекте запросто может оказаться маньяк, который накрутит еще пару этажей
регулярок.</p>

<p>Другой момент — с регуляркой часто оказывается, что ты не все учел. Предположим,
нужно искать в тексте числа с плавающей запятой. Вы написали регулярку, которая
ищет числа вроде <code class="language-plaintext highlighter-rouge">-12.0042</code>. А потом оказалось, что у чисел может не быть целой
части, например <code class="language-plaintext highlighter-rouge">-.0042</code>. А еще оказались числа в научной нотации: <code class="language-plaintext highlighter-rouge">-1.2E9</code>. И
регулярку нужно допиливать, допиливать и накидывать тесты.</p>

<p>У регулярок есть хорошее применение: ими удобно разбивать текст. Как правило, я
разбиваю текст на части и проверяю, что их количество и содержимое чему-то
соответствует. Это проще отлаживать, это лучше в плане сообщения об ошибке. Если
текст не натягивается на монструозную регулярку, ты не можешь объяснить, что
пошло не так. А если обрабатывать текст по частям, легко сказать, в чем
проблема.</p>

<p>В одном из проектов у нас была библиотека для генерации регулярок. Это когда
декларативно указываешь: либо это слово, либо это, либо то, но не это и не то, и
библиотека строит одну регулярку. В ней учитываются общие начала слов, например
для <code class="language-plaintext highlighter-rouge">fuck</code> и <code class="language-plaintext highlighter-rouge">fuckoff</code> получим <code class="language-plaintext highlighter-rouge">fuck(?=off)</code>. Выбрал такой пример, потому что
фильтровали сообщения в чате. Было много других слов, значения которых я не знал
и смотрел в словаре.</p>

<p>Этот подход интересен тем, что регуляркам отводится служебная
часть. Конфигурация делается словарями и списками, все ясно и прозрачно.</p>

<p>Вместо регулярок мне больше нравится парсинг грамматикой. Пару лет назад я
прочитал пару статей про комбинаторные парсеры и решил сделать свой. В
результате я написал огрызок, который назвал Ostap (потому что великий
комбинатор). В библиотеке были простые парсеры и те, что составляются из других
(and, or). Можно задать грамматику словарем и получить из нее парсер.</p>

<p>В результате у меня получилось составить <a href="https://github.com/igrishaev/ostap/blob/master/src/ostap/json.clj">грамматику JSON</a>, и парсер
разбирал произвольный JSON-документ. Правда, это было медленней джавного Jackson
раз в десять, но за скоростью я не гнался. Почему-то зачесались руки сесть и
переписать его на Джаве и собрать парсеры для JSON, INI, Tolm и других форматов.</p>

<p>Словом, регулярки хороши, но я предпочитаю держать их на расстоянии вытянутой
руки. Чем они ближе, тем строже я слежу за ними.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/lol-jira/">Jira</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-02T00:00:00+00:00">
        Dec 2, 2024
    </time>

    <a href="/tag/jira/" rel="tag">jira</a>, <a href="/tag/syntax/" rel="tag">syntax</a>, <a href="/tag/code/" rel="tag">code</a>

</div>


            <div class="entry">
                
                    <p>Я считаю, работать в компании, которая пилит Джиру, это примерно то же самое,
что работать в военкомате или Роскомнадзоре. Нормальному человеку, даже если он
туда попал, будет стыдно, и он уйдет в другое место.</p>

<p>Современная Джира — это просто заповедник багов и косяков. Каждый ее квадратный
сантиметр несет бред. Без шуток, по мотивам Джиры можно написать небольшую книгу
о том, как делать не надо.</p>

<p>Из сегодняшнего: заполняю тикет, прикладываю кусочек кода. Пишу:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{code:clоjure}
(dеfn do-some-shit [a b]
  (do-this {:a b}))
{code}
</code></pre></div></div>

<p>Сохраняюсь и вижу:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Unable to find source-code formatter for language: clоjure.
Available languages are: actionscript, ada, applescript, bash,
c, c#, c++, cpp, css, relange, go, groovy, haskell, html,
java, javascript, js, json, lua, none, nyan, objc, perl,
php, python, r, rainbow, ruby, scala, sh, swift, visualbasic,
xml, yaml(dеfn do-some-shit [a b]
  (do-this {:a b}))
</code></pre></div></div>

<p>Иными словами: сообщение о том, что подсветка Clоjure не поддерживается,
внедрилось прямо в код! Причем даже без переноса строки: код следует сразу за
<code class="language-plaintext highlighter-rouge">...yaml</code>.</p>

<p>Сначала я проклял всеми словами фронтендеров, но посмотрел в Network и убедился:
это серверный рендер. Клиент посылает фрагмент, а сервер возвращает
HTML. Поскольку это не JSON, некуда положить нотис о том, что язык не
поддерживается, и ребята такие — давайте просто засунем его в код.</p>

<p>Каким же мудаком надо быть, чтобы протащить это в прод — я просто не знаю. И
куда глядела армия QA, разные бета-тестеры и вообще сами сотрудники фирмы?
Фееризм космического дна.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/c-strings/">Сишные строки</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-02T00:00:00+00:00">
        Dec 2, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/c/" rel="tag">c</a>, <a href="/tag/string/" rel="tag">string</a>

</div>


            <div class="entry">
                
                    <p>Одна из самых худших вещей в айти — это сишные нуль-терминированные
строки. Другими словами, цепочка байтов, которая завершается нулем. Керниган и
Ричи были гениями, никто не спорит, но решение с нулем на конце трудно назвать
удобным.</p>

<p>Беда в том, что, читая эту строку, никогда не знаешь, где конец. Сколько байтов
резервировать — 32 или килобайт? Немало ошибок в сишных программах связано с
тем, что неверно определяется конец строки.</p>

<p>Интересно наблюдать сишные строки в бинарном протоколе Postgres. В оригинальной
его части строки передаются как в Си — то есть неизвестной длины с нулем на
конце. Скажем, сообщение StartupMessage строится по принципу</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>u s e r n a m e 0 d a t a b a s e 0
</code></pre></div></div>

<p>А в расширениях, которые появились позже, строки передаются нормально: сначала
длина в int32, потом байты без нуля:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 0 0 5 h e l l o
</code></pre></div></div>

<p>Пример — расширение <code class="language-plaintext highlighter-rouge">hstore</code>, в нем строки передаются с фиксированной
длиной. Видимо, разработчики поняли, что жить с нулем на конце нельзя и сделали
нормально.</p>

<p>Чтение строки известной длины — это две строчки кода. Чтение неизвестной строки
— это цикл, выделения буферов, конкатенация и прочий бред.</p>

<p>Общий тезис таков: главное должно быть первым. В строке чаще всего нас
интересует длина, поэтому она должна быть в начале. Бывает, содержимое вообще
неважно, нужно только переложить строку в другое место и не ошибиться на байт
туда-сюда. Сишные строки делают все, что такая ошибка случилась.</p>

<p>С любовью вспоминаю Паскаль, где строки были правильными: сначала байт с длиной,
потом содержимое. Правда, из-за этого строки не могли быть больше 256
байтов. Разные компиляторы предлагали строки, где под длину выделялось два байта
или четыре.</p>

<p>Можно долго рассуждать, что было и по каким причинам, но к делу это отношения не
имеет. Важно запомнить, что главное должно быть первым — как на экране, так и в
байтиках.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/boosty/">Бусти и почта</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-12-02T00:00:00+00:00">
        Dec 2, 2024
    </time>

    <a href="/tag/boosty/" rel="tag">boosty</a>, <a href="/tag/email/" rel="tag">email</a>, <a href="/tag/google/" rel="tag">google</a>

</div>


            <div class="entry">
                
                    <p>Подписался на одного человека в Бусти — первый раз пользовался этой
платформой. Заодно наблюдал котовасию с подтверждением почты.</p>

<p>Дело было так: захожу через Гугло-учетку, все нормально, пришло письмо
“здравствуй, дорогой Ivan”. А как начал читать, появилась плашка: чел,
<code class="language-plaintext highlighter-rouge">ivan@grishaev.me</code> — это твой емейл?</p>

<p>Вы серьезно? Гугл уже подтвердил, что это моя почта, что вам еще нужно? Как вы
это представляете: зашел через Гугл, а почта не моя? Тыкаю Yes, чтобы
отвязался. Перехожу в соседнюю вкладку, а там вылезла та же плашка. На этот раз
я промахнулся и нажал No. В результате моя почта пропала из профиля, и Бусти
пишет — пока не подтвердишь почту, покоя не дам.</p>

<p>Хоть я и не видел кода Бусти, легко понять, почему так происходит. Когда
создается учетка, у нее стоит флаг “почта не подтверждена” — нормальное
поведение для регистрации по email. Но разработчики не учли, что в случае с
Гуглом почта подтверждается автоматом и выносят мозг подтверждением.</p>

<p>На ровном месте устроили бурю в стакане: подтверди, хотя никакого подтверждения
не нужно. Большой и денежный сервис, а такие косяки.</p>

<p>Интересный факт об авторизации, который я не знаю, куда приткнуть, поэтому пусть
будет здесь. Когда пользователь входит через Фейсбук, он может отказать в
передаче емейла. В результате вам прилетит джейсончик, где всякие
токены-шмокены, а почты нет. Если почта критична (а это чаще всего так),
приходится заворачивать пользователя со словами “не быкуй, галочку не
снимай”. Требует много кода и тестов.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/pg-meetup/">Приглашаю на митап</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/postgres/" rel="tag">postgres</a>

</div>


            <div class="entry">
                
                    
<p>В следующий четверг (28 ноября) Health Samurai проводят очередной кложурный
митап. Я буду рассказывать про свою библиотеку PG2 — это которая клиент к
Постгресу. Начало в 19:00, нужна регистрация. Ссылка на <a href="https://health-samurai.ru/postgresql-level-up/">страницу
организаторов</a>.</p>

<p>Из анонса может показаться, что доклад будет про библиотеку, но на самом деле я
бы хотел поговорить о другом. Пока я работал над ней, то столкнулся со
спецификой, о которой раньше не думал, и теперь хочу ей поделиться. Кроме самой
библиотеки, расскажу о следующих вещах:</p>

<ul>
  <li>как устроен Postgres Wire Protocol</li>
  <li>зачем браться за свое решение, когда есть другие, проверенные годами</li>
  <li>сопоставление типов Postgresql и Java/Clоjure</li>
  <li>заморочки с парсингом</li>
  <li>мысли об API и дизайне</li>
</ul>

<p>Подойдет всем, кто как-то связан базами данных. Запись на Ютубе будет через
несколько дней после митапа.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/you-may-fix-it/">Можешь поправить</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/work/" rel="tag">work</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Есть одна обидная вещь, я называю ее “можешь поправить”. Это когда находишь
ошибку, которой много лет и которую воспринимают как данность. И когда обращаешь
внимание, тебе отвечают — можешь поправить.</p>

<p>Текст ошибки совершенно нечитаем? Можешь поправить. Сервис делает тысячу
запросов вместо одного? Можешь поправить. Хрупкие билды? Можешь поправить. Не
собирается под твоей операционкой? Можешь поправить. Не работает в Фаерфоксе?
Можешь поправить.</p>

<p>Ну вы поняли: “можешь поправить” — это вежливая форма “е…сь сам”. Ощущение,
что на полу лежит какашка, и все старательно ее обходят, дожидаясь, кто вступит
первым. Как правило, первым вступаю я.</p>

<p>Повторюсь, это очень обидная вещь, и вдобавок тревожный маркер о состоянии
команды. В данном случае нужно править не только технические косяки, но и
отношение к ним в команде.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/url-space/">Пробел в урлах</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/url/" rel="tag">url</a>, <a href="/tag/space/" rel="tag">space</a>

</div>


            <div class="entry">
                
                    <p>Хотя интернету 55 лет, мы до сих пор не починили пробел в урлах.</p>

<p>На выходных была ситуация: упали крон-джобы, и вообще произошла какая-то
фигня. Файлы в S3 есть, а клиенты жалуются, что нету.</p>

<p>Смотрю — кто-то поменял название папки в S3. Раньше было <code class="language-plaintext highlighter-rouge">Daily_Reports</code>, а
теперь <code class="language-plaintext highlighter-rouge">Daily Reports</code> (с пробелом). Половина клиентов пишет файлы нормально. Но
есть другие клиенты на питоне и баше, которые кодируют урлы дважды. В результате
<code class="language-plaintext highlighter-rouge">Daily Reports</code> становится новой папкой <code class="language-plaintext highlighter-rouge">Daily%20Reports</code> в S3. Один клиент
пишет в <code class="language-plaintext highlighter-rouge">Daily Reports</code> и ему ок. Второй клиент ищет файлы в <code class="language-plaintext highlighter-rouge">Daily%20Reports</code>,
не находит и падает.</p>

<p>Увы, мой быдлокод тоже упал. У меня такая задача: прилетает S3-урл вида</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>s3://some.bucket.com/path/to/file.txt
</code></pre></div></div>

<p>и мне нужно вытащить из него бакет, в данном случае хост. Делаю так:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(-&gt; s3-url java.net.URI. .getHost)
</code></pre></div></div>

<p>Но когда в урле оказался пробел, класс <code class="language-plaintext highlighter-rouge">URI</code> валится — вай, не по стандарту, не
знаю-не могу. Поменял на класс <code class="language-plaintext highlighter-rouge">URL</code> — он парсит урлы с пробелами нормально, но
теперь ему не нравится схема <code class="language-plaintext highlighter-rouge">s3://</code> — опять не по стандарту. Сделал так: беру
урл, меняю схему автозаменой на <code class="language-plaintext highlighter-rouge">http://</code>, оборачиваю в URL и достаю
хост. Обмазал тестами.</p>

<p>“Какая шаткая система, если её может разрушить пригоршня ягод!” (с)</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/env-trap/">О переменных среды</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/environment/" rel="tag">environment</a>

</div>


            <div class="entry">
                
                    <p>Про переменные среды нужно знать две вещи. Первая — если не было значения по
умолчанию, функция должна бросить исключение, где написано, какой именно
переменной не нашлось. Вторая — нельзя читать переменные посреди
программы. Нужно сделать это один раз на старте. Эти два правила улучшают код на
порядок.</p>

<p>Теперь подробнее. Как правило, если переменная среды не установлена, то попытка
ее прочесть вернет пустую строку или <code class="language-plaintext highlighter-rouge">null</code>. Это неправильно. Должно выскочить
исключение с примерно таким текстом:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>System.getenv("DB_PASSWORD") =&gt;
RuntimeException "env variable DB_PASSWORD is not set"
</code></pre></div></div>

<p>Если вместо исключения будет <code class="language-plaintext highlighter-rouge">null</code>, то он провалится в дальнейшие вычисления,
например, в формирование урла или бакета. Постоянно вижу такое в коде:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>host = "api." + getenv("ENV_PREFIX") + ".acme.com"
</code></pre></div></div>

<p>Если <code class="language-plaintext highlighter-rouge">ENV_PREFIX</code> не задан, то получится <code class="language-plaintext highlighter-rouge">api.null.acme.com</code>. Из-за этого
HTTP-клиент пойдет на левый хост и кинет непонятное исключение. То же самое с
бакетом в S3: Амазон скажет, мол, нет такого бакета, а вы будете рвать волосы.</p>

<p>Простой фикс — написать свою функцию, которая бросит исключение. Потом заменить
все коробочные getenv на ваш. Пример:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(dеfn env!
  ([varname]
   (or (System/getenv varname)
       (throw (new RuntimeError ...))))
  ([varname dеfault]
   (or (System/getenv varname)
       dеfault)))
</code></pre></div></div>

<p>Исключение не кидается, если передан дефолт.</p>

<p>Второе. Чтение переменной среды — это грязная операция. Формально никакого IO не
происходит, потому что переменные уже в памяти программы. Но это сторонняя
зависимость, которую ваш код не контролирует. По факту чтение переменной не
отличается от чтения файла. Нет файла — программа сломается; нет переменной —
тоже.</p>

<p>Поэтому, если уж вы связались с переменными среды, читайте их на старте в
какую-то мапку. Передавайте эту мапку в функции, чтобы они были чистыми. Это
легко тестировать: подал на вход то, это, пятое-десятое. А когда код завязан на
getenv, с ним невозможно работать.</p>

<p>Приходилось работать в проекте, который писали одни чудики. Они прочитали The
Twelve-Factor App и особенно прониклись пунктом насчет переменных
среды. Результат можно описать одним словом: пи…ц. Представьте проект на 600
файлов, где на каждый чих читается переменная среды, да к тому же приводится к
нужному типу. На старте ничего не проверяется: запустил код без переменной —
узнал об этом в продакшене. Какой-то чел добавил глобальный кэш переменных и
целый ворох связанных с ним проблем.</p>

<p>Чудики вынесли настройки в переменные среды, чтобы быть свободными от
конфигурации. Так им сказали в The Twelve-Factor App. А потом написали ENV-файлы
на три экрана. Было несколько ENV-файлов, которые загружались в особом порядке,
переопределяя значения друг друга. Например, сначала базовый энв, потом энв
текущего окружения (тест, прод, стейджинг), потому энв текущей машины. Удачной
отладки.</p>

<p>Из этого вывод: много чего можно прочитать в интернете, но если нет своей
головы, оно не поможет. Нужно делать так, чтобы было удобно, а не как написано в
The Twelve-Factor App или на Хакер-Ньюз.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/best-lang/">Лучший язык</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/best/" rel="tag">best</a>

</div>


            <div class="entry">
                
                    <p>По мотивам обсуждений во внутреннем чатике, вот вам мысль.</p>

<p>Лучший язык для решения задачи — тот, который знаешь лучше всего. Если это Питон
— пиши на Питоне. Если лучше всего знаешь Джаву — пиши на Джаве. Если это JS или
PHP, то что ж… пиши на них.</p>

<p>Когда вам говорят, что C++ лучше подходит для игр, а R для статистики, не нужно
вестись на эту удочку. Язык-то задаче подходит, а вы подходите языку?</p>

<p>Даже если взять “подходящий” язык, который вы плохо знаете, результат будет
хуже, чем с “неподходящим”, но знакомым языком. Под “знаете” имеются в виду не
основы синтаксиса и курсы, а пять лет опыта и больше.</p>

<p>Простыми словами, если с Питоном вы 10 лет, а на плюсах писали дай бог в
универе, то умножение матриц на Питоне будет медленней, но понятней и проще в
поддержке.</p>

<p>Игры, кстати, хорошо пишутся на C-шарпе в том же Юнити. Полно печатных плат,
которые выполняют быдлокод на Питоне и JS. Если вы знаете Лисп как бог, то не
составит труда написать мини-язык, который собирается в машкоды — так писали
серию игр Crash Bandicoot. В случае с Питоном почти все либы написаны на Си, а
Питон — это клей, чтобы их вызвать.</p>

<p>Поэтому нужно оценивать не язык, а себя. Пишите на том, что знаете лучше
всего. А языки подучивайте в фоне, рассматривая их как инструменты.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/ai-glitch/">AI и новички</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-11-22T00:00:00+00:00">
        Nov 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/ai/" rel="tag">ai</a>

</div>


            <div class="entry">
                
                    <p>В Кложурной слаке в канале для офтопа пошла речь о языковых моделях. Приведу
хорошую цитату оттуда:</p>

<blockquote>
  <p>Library suggestions seems to be one of the areas they’re very weak: they
hallucinate a lot about namespaces and functions so the suggested code looks
feasible but won’t run, and it actually leads to beginners then raising issues
against the suggested library that “gpt suggested this code but it doesn’t
work as expected”</p>
</blockquote>

<p>Прямо в точку. У меня было несколько раз, когда человек копировал выхлоп из GPT
и жаловался, что он не работает. На первый взгляд код правильный, а потом
смотришь: здесь нет двоеточия, здесь левый символ, здесь ссылка на неизвестный
неймспейс. Между кодом — повествовательный стиль изложения: вы можете сделать
то, можете это.</p>

<p>Досадно, что каждый раз человек сливается. Начинаешь объяснять, что не так, а в
ответ — тишина. Видимо, человек рассчитывал, что GPT прав, ошибка на моей
стороне и сейчас я быстро поправлю. Но оказывается не так, нужно думать,
разбираться и вообще — все сложно.</p>

<p>Не советую новичкам пользоваться языковыми моделями для кода. Они как волшебное
зеркало — что-то показывают, но откуда оно, какая гарантия и кто несет
ответственность — неизвестно. В точности противоположно тому, что нужно на
старте.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page5" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 6 из 91</span>
        
        <a href="/page7" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
