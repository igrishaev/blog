<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page6/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33533163-2', 'auto');
    ga('send', 'pageview');

</script>

    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/clj-zippers-2/">Зипперы в Clojure (часть 2). Автонавигация</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-19T00:00:00+00:00">
        Jul 19, 2020
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/zippers/" rel="tag">zippers</a>

</div>


            <div class="entry">
                
                    <h2 id="оглавление">Оглавление</h2>

<ul>
  <li><a href="/clj-zippers-1/">Зипперы (часть 1). Азы навигации</a></li>
  <li><a href="/clj-zippers-2/">Зипперы (часть 2). Автонавигация</a></li>
  <li><a href="/clj-zippers-3/">Зипперы (часть 3). XML-зипперы</a></li>
  <li><a href="/clj-zippers-4/">Зипперы (часть 4). Поиск в XML</a></li>
  <li><a href="/clj-zippers-5/">Зипперы (часть 5). Редактирование</a></li>
  <li><a href="/clj-zippers-6/">Зипперы (часть 6). Виртуальные деревья. Обмен валют</a></li>
  <li><a href="/clj-zippers-7/">Зипперы (часть 7). Обход в ширину. Улучшенный обмен валют</a></li>
  <li><a href="/clj-zippers-8/">Зипперы (часть 8). Заключение</a></li>
</ul>

<p>Мы разобрались с тем, как перемещаться по коллекции. Однако у читателя
возникнет вопрос: откуда приходит путь? Как мы узнаем заранее, в каком
направлении двигаться?</p>

<p>Выскажем главный тезис этой главы. <strong>Ручная навигация по данным лишена всякого
смысла.</strong> Если путь известен заранее, вам не нужен зиппер — это лишнее
усложнение.</p>

<p>Дело в том, что Clojure предлагает более простой способ работы с данными,
структура которых известна. Например, если мы точно знаем, что на вход поступил
вектор, второй элемент которого вектор, обратимся к <code class="language-plaintext highlighter-rouge">get-in</code>:</p>

<div class="language-clojure highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="nf">get-in</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span><span class="w">
</span><span class="c1">;; 3</span><span class="w">
</span></code></pre></div></div>


                    <p><a href="/clj-zippers-2/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/clj-zippers-1/">Зипперы в Clojure (часть 1). Азы навигации</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-17T00:00:00+00:00">
        Jul 17, 2020
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/zippers/" rel="tag">zippers</a>

</div>


            <div class="entry">
                
                    <h2 id="оглавление">Оглавление</h2>

<ul>
  <li><a href="/clj-zippers-1/">Зипперы (часть 1). Азы навигации</a></li>
  <li><a href="/clj-zippers-2/">Зипперы (часть 2). Автонавигация</a></li>
  <li><a href="/clj-zippers-3/">Зипперы (часть 3). XML-зипперы</a></li>
  <li><a href="/clj-zippers-4/">Зипперы (часть 4). Поиск в XML</a></li>
  <li><a href="/clj-zippers-5/">Зипперы (часть 5). Редактирование</a></li>
  <li><a href="/clj-zippers-6/">Зипперы (часть 6). Виртуальные деревья. Обмен валют</a></li>
  <li><a href="/clj-zippers-7/">Зипперы (часть 7). Обход в ширину. Улучшенный обмен валют</a></li>
  <li><a href="/clj-zippers-8/">Зипперы (часть 8). Заключение</a></li>
</ul>

<p><em>В этой статье мы познакомимся с зипперами в языке Clojure. Это необычный способ
работы с коллекциями. С помощью зиппера можно обойти и изменить произвольные
данные, а также выполнить в них поиск. Зиппер — мощный инструмент, вложения в
который окупаются со временем. Однако он не так прост, как обычная итерация, и
требует подготовки.</em></p>

<p>Объясним зиппер простыми словами. Это обёртка, которая предлагает универсальные
действия над данными. Перечислим основные из них:</p>

<ul>
  <li>перемещение по вертикали: вниз к потомкам или вверх к родителю;</li>
  <li>перемещение по горизонтали: влево или вправо среди потомков;</li>
  <li>обход всей структуры данных;</li>
  <li>добавление, редактирование и удаление узлов.</li>
</ul>


                    <p><a href="/clj-zippers-1/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/book-mobile/">Книга для читалки и телефона</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-17T00:00:00+00:00">
        Jul 17, 2020
    </time>

    <a href="/tag/book/" rel="tag">book</a>, <a href="/tag/mobile/" rel="tag">mobile</a>

</div>


            <div class="entry">
                
                    
<p>Рад сообщить, что теперь книга поддерживает устройства с небольшими экранами —
читалки и телефоны. Чтобы добыть эту версию книжки, перейдите на ее страницу в
<a href="https://gum.co/ZcEET">Gumroad</a>. Если вы делали предзаказ, введите код, который я сообщил в
письме (а если не сообщил, пинганите). Если вы до этого купили бандл, Gumroad
позволит скачать новую версию бесплатно.</p>

<p>В дополнение к печатной версии и для планшета вы получите PDF-файлы для читалки
и телефона. У них меньший размер страницы и максимально срезаны поля. Версия для
телефона вытянута по вертикали, чтобы уместиться на шестидюймовых
моделях. Впрочем, телефоны сегодня самых разных форматов, и возможно, под ваш
зайдет версия для читалки.</p>


                    <p><a href="/book-mobile/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/book-mailing-1/">Что там с рассылкой — 1</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-15T00:00:00+00:00">
        Jul 15, 2020
    </time>

    <a href="/tag/book/" rel="tag">book</a>

</div>


            <div class="entry">
                
                    <p>Основная часть книг разослана, и некоторые читатели их уже получили. Этот пост
касается случаев, когда вы сделали заказ, но книги нет.</p>

<p><strong>Вы получили письмо с темой “Книга выслана: xxxxxxxx”, но код не отслеживается</strong></p>

<p>Это мой косяк. Дело в в том, что код из заголовка на самом деле не трек-код, а
номер заказа в системе saferoute.ru. Чтобы узнать код службы, которая будет
доставлять книжку, <a href="https://saferoute.ru/#tracking">пройдите по ссылке</a> и введите номер заказа. В
следующем окне вы увидите службу доставки и ее трек номер.</p>

<p>Некоторые агрегаторы вроде gdeposylka.ru по номеру заказа находят конечную
службу и трек-номер, но это работает в половине случаев. Извините, что так
вышло.</p>

<p><strong>Вы из Беларуси, но письма не было</strong></p>

<p>Издательство сообщило, что в системе СДЕК произошел сбой с отправкой в этом
направлении. Сейчас все налажено, в четверг мне скажут треки, и я сообщу вам.</p>

<p><strong>Вы из России, но письма не было</strong></p>

<p>Тут два варианта — либо книг из первого тиража не хватило, либо вы попросили
книгу с подписью. Если первый вариант, ждем неделю, пока напечатают следующий (я
уже заказал). Если второй вариант, то мне пришлось ждать, пока книжка придет от
издательства ко мне. Получил буквально вчера, отправлю на этой неделе, треки
скину.</p>

<p><strong>Вы из-за границы (не Россия, не Беларусь)</strong></p>

<p>Издательство не доставляет за рубеж, это буду делать я. Все аналогично — на этой
неделе начну отправку Почтой России, треки скину. Текущей партии на всех не
хватит, кому-то придется ждать второго тиража.</p>

<p>Надеюсь, все получат свои книги. Если что, пишите, разберемся.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/design-dropbox/">О дизайне и Dropbox</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-07T00:00:00+00:00">
        Jul 7, 2020
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/dropbox/" rel="tag">dropbox</a>

</div>


            <div class="entry">
                
                    <p><a href="/dropbox-ui/">Вчерашний пост о Dropbox</a> был лишь затравкой. Я поработал с новым
клиентом и подкопил интересный материал. Не столько про сам Дропбокс, сколько
про дизайн в целом. Итак, поговорим о дизайне.</p>

<p>Многие из нас рассуждают о дизайне: этот хороший, а тут плохой. У Эпла красиво,
у Андроида страшно. Вопрос, который меня беспокоит: если отбросить привычки и
инфантильные термины вроде “плохо” и “хорошо”, то как можно судить о дизайне?
Мне кажется, я знаю ответ. Назовем удачным тот дизайн, где каждый элемент
<em>приносит пользу</em>.</p>

<p>Заметим, что определение ничего не говорит о цвете кнопки или размере
шрифта. Оно одинаково подходит к сайту, книге или радиоприемнику. Все три
изделия состоят из элементов. В хорошем дизайне каждый элемент отвечает на
вопросы “что ты здесь делаешь” и “какую пользу несешь”.</p>


                    <p><a href="/design-dropbox/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/dropbox-ui/">Интерфейс Dropbox</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-06T00:00:00+00:00">
        Jul 6, 2020
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/dropbox/" rel="tag">dropbox</a>

</div>


            <div class="entry">
                
                    <p>У Никиты в статье <a href="https://tonsky.me/blog/syncthing/">Computers as I used to love
them</a> показана установка Dropbox. Легко
заметить, что некогда удобный софт стал жирным монстром, где вместо одного клика
нужно пять. Жаль, что Dropbox повторил судьбу Evernote и пал жертвой
маркетологов и иже с ими.</p>

<p>Недавно понадобилось кое-что с Дропбокса, и я поставил последний клиент. Прошел
ад с миллионом экранов – это, конечно, жесть. И добавлю один важный факт.</p>

<p>Дело в том, что Dropbox долгое время считали эталоном программы без
интерфейса. В этом был его козырь, с которым он влетел с двух ног. Разве до
Dropbox не было средств синхронизации? Были. Вот только Dropbox упростил процесс
до минимума. Видишь папку? Кидай туда файлы, и они появятся в другом месте. Все
на уровне операционной системы, копировать-вставить, перетащить мышкой. Не надо
ни к чему привыкать. Да, было окошко с настройками, но обычный юзер туда не
лазил — незачем.</p>

<p>Вы будете смеяться, но в каком-то лохматом году я делал обмен репликами в 1C на
базе Дропбокса. Один комп выгружал обновления в папку, второй подхватывал, как
только они там появились. Затем наоборот. Работало!</p>

<p>Очевидно, после ребрендинга в Dropbox взяли курс на уход от файловой
системы. Теперь на любой чих открывается Электрон-приложение, похожее на
очередной Slack или Teams. Это как бэ намек: вот новый гуй, бери, иначе отключим
газ.</p>

<p><img src="https://s3.amazonaws.com/igrishaev.public/1059232/86610024-6c965a00-bfb5-11ea-8080-df0e297a5b4e.png" /></p>

<p>Хорошо это или плохо, судить не нам. Прежняя модель была удобной, но, возможно,
в ней бизнес вышел на плато-фазу, а деньги на шеф-повара нужны. Синхронизация
файлов, в общем-то, вещь простая, и рано или поздно наступает насыщение. Все
довольны, все работает, а поскольку Dropbox — не банк и не мобильный оператор,
предложить ему больше нечего. Даже блокчейн не подключишь и машын
лерниг. Кажется, они делали почтовый клиент, но закрыли его.</p>

<p>Морали нет, просто наблюдение. Больше Dropbox не подходит на роль программы без
интерфейса. Ушла эпоха.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/clj-book-habr/">Анонс книги на Хабре</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-07-01T00:00:00+00:00">
        Jul 1, 2020
    </time>

    <a href="/tag/book/" rel="tag">book</a>

</div>


            <div class="entry">
                
                    <p><a href="https://habr.com/ru/post/508630/">Разместил на Хабре</a> анонс книги. Помогите
вывести новость на главную.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/hardcover/">Она такая твёрдая</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-06-26T00:00:00+00:00">
        Jun 26, 2020
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Такая же будет у вас, <a href="/clj-book-preorder/">если закажете</a>. Ещё не поздно.</p>

<p><img src="https://s3.amazonaws.com/igrishaev.public/1059232/85860614-be75fd80-b7c7-11ea-8553-3bde8d14b576.jpg" /></p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/on-decision-making/">О принятии решений</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-06-24T00:00:00+00:00">
        Jun 24, 2020
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Иногда в жизни приходится делать выбор, а вокруг никого, кто бы мог помочь. Я
имею в виду не выбор между двумя телефонами или машинами. Речь о чем-то таком,
что связано с жизнью в принципе. Мы тратим часы на размышления, нервиничаем,
заедаем стресс. Нерешенный выбор висит как меч над головой.</p>

<p>Я тоже долго страдал от этого, пока не открыл важные вещи. Пишу их даже не для
вас, а чтобы самому потом перечитывать.</p>

<p>Первое – моменты, когда вы не можете принять решение, нужно ценить. Это
означает, вы вышли из зоны комфорта, продвинулись на территорию, где не были
прежде. На самом деле не так часто бывает выбор, когда некому помочь, потому что
сюда не попадают материальные блага. Так что самое лучше – не кусать ногти, а
порадоваться: еще год назад такого выбора не было!</p>

<p>Второе – опыт важнее успеха. Еще раз, только подробнее – опыт, который вы
получите в результате выбора, гораздо ценнее успешного исхода. Предположим, вы
ошиблись, и надо было поступить не так. Из этого “не так” нужно извлечь пользу
– теперь вы знаете, как надо было, а другие не знают. Знание дает вам
преимущество перед другими: можно написать об этом в блоге, выступить на
конференции, а из множества “как” написать книгу.</p>

<p>Третье – свершение выбора важнее его исходов, потому что свершение – это
движение вперед. Даже если вы продвинулись не в том направлении, можно
скорректировать курс. Это лучше, чем бесконечно сидеть на одном месте.</p>

<p>В итоге, если у вас есть выбор, разумно подумать какое-то время, но не
затягивать. В противном случае выбор обернется в муку. Когда помнишь, что
ошибочное решение прибавляет знание, ошибаться не так уж страшно. Все, что не
касается необратимых последствий – жизни и здоровья – не стоит тех сожалений,
что мы так лелеем.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/clj-book-page/">Страница книги</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2020-06-23T00:00:00+00:00">
        Jun 23, 2020
    </time>

    <a href="/tag/book/" rel="tag">book</a>

</div>


            <div class="entry">
                
                    <p>У книги появилась <a href="/clojure-in-prod/">выделенная страница</a>. Всю информацию о ней
– что это такое, где купить, благодарности – буду собирать в одном
месте. Ссылку на нее вы можете шарить в соцсетях и месаджерах. Скоро сделаю
анонс на Хабре.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page5" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 6 из 53</span>
        
        <a href="/page7" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
