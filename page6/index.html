<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page6/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px"><a href="/">Ivan Grishaev's blog</a></p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/open-source/">Open Source</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/coffie-table/">Журнальный столик</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-07-05T00:00:00+00:00">
        Jul 5, 2025
    </time>

    <a href="/tag/table/" rel="tag">table</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>У отелей, гостиниц и съемных квартир есть нечто общее. Точнее, наоборот —
кое-чего не хватает, а именно — письменного стола.</p>

<p>Журнальные столики встречаются во множестве. Это убогие поделия не выше колена,
от которых ноль пользы и максимум вреда. Пользоваться ими как полноценным столом
невозможно. Предполагается, что ты сидишь в кресле, на столике перед тобой —
журналы, напитки и гаджеты. На практике до всего этого нужно тянуться, каждую
вещь держать в руках, чтобы не брать и ставить по многу раз. Журнальный столик
быстро становится пылесборником, а если учесть, что он занимает немало места —
хламом.</p>

<p>Журнальный столик банально опасен. Сотню раз было так, что не видишь его из-за
своего высокого роста и его низкого. В лучшем случае материшься и жмешь
ушибленное место. В худшем легко сыграть в больничку. Дети тоже без конца
нарываются на столики, бьют об них бока и пальцы на ногах. Совсем маленькие
принимают его за батут: залезают и прыгают по стеклу. Чем это может закончится,
ясно всем.</p>

<p>Поэтому когда я заселяюсь в отель или съемную квартиру, отправляю журнальные
столики подальше: в шкаф, чулан, на балкон. Если стекло снимается, прячу его под
кровать.</p>

<p>Удивляет нелепость ситуации: в квартире якобы два стола, но оба они журнальные,
и работать за ними невозможно. Остается работать за кухонным столом, но нужно
убрать посуду, крошки, все жидкости.</p>

<p>Как никто другой я понял коллегу, когда подслушал его разговор с эйчаром. Та
собирала его в командировку и спрашивала пожелания к квартире. Он ответил:
главное, чтобы там был большой письменный стол. Не педерастический журнальный
столик, а нормальный стол здорового человека.</p>

<p>Мысленно обнял его и сказал: чел, ты не один такой, я знаю как оно чувствуется.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/chrome-present/">Презентация в Хроме</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-07-05T00:00:00+00:00">
        Jul 5, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/chrome/" rel="tag">chrome</a>, <a href="/tag/ui/" rel="tag">ui</a>

</div>


            <div class="entry">
                
                    <p>Только что разговаривал по телефону, объяснял, как открыть PDF-презентацию на
компьютере. Ощущения — сплошная гребаная боль.</p>

<p>Во-первых, как бы глупо это ни звучало, на Винде нет встроенной открывашки
PDF. На дворе 2025 год, но для этих целей нам предлагают Хром и Edge. Можно
пинать Мак за что угодно, но только не за качество коробочного софта. Мак
полностью готов к работе: там и мощный PDF-редактор, и почтовый клиент, и что
угодно. А на Винде этого нет.</p>

<p>Ладно, нашли комп с Хромом. Открывают PDF и не понимают, как его презентовать —
ну то есть чтобы по нажатию стрелочек он не скроллился, а листал
страницы. Оказалось, в правом верхнем углу нужно нажать три вертикальные точки,
выпадет меню, там выбрать “Present”. Места в тулбаре — хоть самолет сажай. Но
дизайнеру опять не хватило места, и он спрятал кнопку по выпадашку.</p>

<p>Спрашивается, почему стоматолог должен разгребать это дерьмо? Ставить на комп
Акробаты и Хромы, чтобы открыть формат, которому 30 лет? Почему он должен
обшаривать выпадашки в поисках нужной кнопки?</p>

<p>Частично эта заметка перекликается с прошлой про дизайнеров. Причина в том, что
дизайнер интерфейса — это обезьянка, которая отрабатывает зарплату. Если бы
дизайнер хоть раз что-то презентовал из Хрома, он бы понял, что шариться по
выпадашкам неудобно, а нетехнический человек вообще не поймет, что делать.</p>

<p>Микрософт тоже молодцы: в который раз обновляют “Блокнот”, превращая его черт
знает во что. А как открыть PDF — ставьте Хром.</p>

<p>Все это вроде как незаметно, но проступает, когда проговариваешь
вслух. Натурально, когда говоришь “старт, программы, Хром, перетащи в него файл,
потом правый верхний угол, многоточие, презентовать” — понимаешь, какой бред ты
несешь.</p>

<p>И пока что не видно, чтобы из этого бреда был какой-то выход.</p>

<p><img src="/assets/static/aws/chrome-present/1.jpeg" /></p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/apple-ai-2/">AI и Apple</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-07-05T00:00:00+00:00">
        Jul 5, 2025
    </time>

    <a href="/tag/applie/" rel="tag">applie</a>, <a href="/tag/ai/" rel="tag">ai</a>, <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>В определенном смысле мне жаль компанию Apple. Каждый вшивый блоггер пинает их
за то, что они отстают в гонке ИИ. Гугл в этом плане, наоборот, на коне: пихают
ИИ в каждую выпадашку, в каждую менюшку. У Гугла есть свой браузер, абсолютный
монополист, и сегодня он напичкан ИИ-функциями. Фактически Хром — выставка
достижений Гугла, витрина всех его сервисов.</p>

<p>Мне жаль Apple, потому что ИИ — определенно не их конек, но их вынудили играть
на чужом поле и по чужим правилам. О том, чтобы догнать Гугл, речь уже не идет:
тут хотя бы показать что-нибудь. Но пока что все громкие обещания
отложены. Стоит ли говорить, что в таких условиях выиграть невозможно.</p>

<p>Меня печалит, что лучшие разработчики Эпла работают день и ночь, чтобы выкатить
сырую ИИ-хрень и успокоить инвесторов. Эту хрень я в лучшем случае выключу, либо
научусь ее игнорировать. Эти усилия можно было направить в полезное русло:
стабилизацию софта и его производительность, например. Но об этом сегодня смешно
говорить.</p>

<p>Так, в последнем обновлении Эпл предложил “интеллектуальную” сортировку
писем. Разумеется, я отказался, даже не проверяя, что это. Я работаю с почтой 25
лет и за это время сформировал свои правила. Если письма начнут падать не туда,
где я их ожидаю, это будет катастрофа. И вообще, почту уже некуда развивать: ей
полвека, есть система папок, фильтры, правила. А ведь какой-то бедняга сидел и
программировал этот ИИ-бред. Пил кофе, курил сигареты, трекал часы. Жаль
человека.</p>

<p>На мой взгляд, борьба на рынке ИИ не принесет Эплу пользы. По-хорошему им нужно
ответить чем-то другим, чтобы переломить повестку. Например, выкатить
принципиально новый дизайн, причем не скруглить кнопки и добавить воздуха, а
придумать что-то принципиально иное. Примерно как в прошлом веке придумали
кнопки “копировать” и “вставить”. Это сейчас они в каждом утюге, а тогда стали
революцией. Вот и сейчас нужно что-то такого же масштаба. Это может быть и не
дизайн, а некое переосмысление того, как человек взаимодействует с устройствами
и софтом.</p>

<p>Словом, нужно то, что позволит сказать: ребята, пока вы долбились со своим ИИ,
лучшие умы опять всех опередили. Теперь правильно делать так, а не эдак. Лузеры
будут скулить, но все равно перейдут на нашу сторону. Так делал
Джобс. Справедливости ради, даже с учетом всех искажений продукты у него
выходили что надо.</p>

<p>История знает случаи, когда руководитель не ввязывался в текущую повестку, а
навязывал свою. Например, товарищ Сталин прекрасно знал, что конкурировать с
Америкой в океане он не может, а танки плавать не умеют. Поэтому он сделал
ставку на космос и добился там первенства. Американские космонавты в
обязательном порядке учили русский язык, он играл в космосе такую же роль, как
итальянский — в музыке, а латынь — в медицине. Сейчас это кажется небылицей:
представьте, что в айти международным языком стал русский. А ведь на короткий
период именно так и было.</p>

<p>Мораль тут простая: нельзя играть против конкурента на его поле. Я бы искренне
не хотел, чтобы лучших разработчиков Эпла бросали в ИИ, а остальное делали по
остаточному принципу. Эпл должен навязать что-то свое. Других способов выбраться
из ямы, в которую они себя загнали, я не вижу.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/ai-replacement/">ИИ заменит</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-07-05T00:00:00+00:00">
        Jul 5, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ai/" rel="tag">ai</a>

</div>


            <div class="entry">
                
                    <p>Говорят, что ИИ скоро заменит разработчиков. Похоже, это наконец сбылось —
вместо человека мне отвечает нейросеть.</p>

<p>Вот как это было: с утра падают билды. Причина в том, что определенный образ
качается из Докера слишком часто, и он отвечает с кодом 429: Too many
requests. И сообщенька: мол, убавь пыл, горячий ты наш.</p>

<p>Пишу об этом девопсу: Джон, давай перенесем этот образ из Докера в наш
репозиторий? Потому что иначе ошибка 429, слишком много запросов к Докеру.</p>

<p>Что же ответил Джон? Иван, я посмотрел документацию, код 429 означает слишком
частые обращения. Подожди немного и повтори билд. И заботливая ссылка на сайт
Мозиллы со статьей про HTTP-код 429.</p>

<p>Словом, и не поспоришь — да, заменил. Возразить нечем.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/stereo-images/">Стереокартинки</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>В детстве я любил стереокартинки. У меня был альбом с ними, и я их подолгу
рассматривал. Мне казалось это магией: на плоской бумаге возникала 3D-сцена, и
это было невероятно. Были картинки, где текстура удачно совпадала с моделью, и
от этого становилось еще круче.</p>

<p>Недавно ходили с дочкой в книжный магазин, и я купил набор карточек со
стереокартинками. Теперь сижу и рассматриваю по вечерам. Такая вот простая
радость.</p>

<p>Оказалось, в семье никто кроме меня этого не умеет. Пытаюсь научить жену и
старших детей, но не получается (UPD: получилось). Младшая, которой три с
половиной, посмотрела на карточку и сказала: папа, что ты тут намазал?</p>

<p>Завтра попробую другой подход. А вам вопрос: любите стереокартинки? Умеете их
смотреть?</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/right-oop/">Правильное ООП</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/oop/" rel="tag">oop</a>

</div>


            <div class="entry">
                
                    <p>Словосочетание “правильное ООП” звучит для меня как “коренной москвич”. В
середине прошлого века кому-то было важно, приехал человек из региона или
родился в столице. А сегодня в адрес тех, кто применяет этот тезис, крутят
пальцем у виска.</p>

<p>То же самое я чувствую, когда говорящая голова ездит по городам с лекцией о
“правильном” ООП. Тут можно сказать одно: современное программирование настолько
широко и сложно, что искать в нем “правильное” ООП — то же самое, что искать
“правильное” изложение “Колобка” или “Курочки Рябы”. Все версии правильные —
бери по вкусу.</p>

<p>Этот тезис закрывает любую лекцию по ООП.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/python-format/">Форматирование строк</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/python/" rel="tag">python</a>, <a href="/tag/format/" rel="tag">format</a>

</div>


            <div class="entry">
                
                    <p>Шел 2025 год, а в Питоне делают очередное форматирование строк. На этот раз оно
называется t-строки из-за префикса t. Такие строки по-настоящему всемогущи:
могут делать любые преобразования, ходить по модулям, вызывать такси и
заказывать пиццу. Без шуток, найдется тот, кто напишет на них интерпретатор
Питона.</p>

<p>Может показаться странным, но именно из-за подобных штучек я завязал с
Питоном. Я любил его где-то до версии 2.7, ну и немного третью. Переход на
тройку был тяжелым, но необходимым, и это можно было стерпеть. А потом начались
бесконечные улучшения: новые операторы, синтаксический сахар на каждый чих,
f-строки, t-строки и так далее.</p>

<p>Я понял, что не успеваю за Питоном. Как его ни изучай, энтузиасты навалят новых
PEP-ов. Для конкретного проекта это не страшно, но перейдешь в другой — а там
уже затянули все нововведения, и сиди разбирайся.</p>

<p>Особенно меня коробит форматирование строк. Напомню, что в Питоне, наверное,
десять способов форматировать строки, и число вариантов все растет. Есть процент
с кортежем, есть метод <code class="language-plaintext highlighter-rouge">.format</code>, есть f-строки, <code class="language-plaintext highlighter-rouge">string.Template</code>, сейчас
готовят t-строки. Это только стандартная библиотека, а еще полно сторонних
пакетов.</p>

<p>Крафтить подобные вещи интересно, я не спорю. Но почему не нашлось никого, кто
бы сказал: братцы, мы делаем херню. Плодим одно и то же, засоряем стандартную
библиотеку. Неужели, имея с десяток способов сделать X, нужно писать еще один?
Где был это человек? Или их выгнали?</p>

<p>Мое любимое занятие — форматировать процентом (как в Си) и выкладывать на
ревью. У питонистов начинается пожар: они говорят, что есть f-строки, что
процент использовать не надо, а почему — объяснить не могут. Со стороны кажется,
что у них чешутся внутренности: так странно они себя ведут. Если здесь
уязвимость, покажи, как она работает. Если медленно, сделай замеры. Но нет,
карго культ: мы делаем так, потому что мы так делаем.</p>

<p>Современный Питон переусложнен. Он без конца развивается, и это обратная сторона
популярности. Как писатель, которого вынудили писать одно, хотя душа лежит к
другому. Каждый раз, когда читаю про новый оператор, думаю об одном: боже, как
хорошо, что в Кложе нет новых операторов в каждом релизе. Там все просто: хочешь
оператор — пишешь макрос, выносишь в библиотеку и делаешь анонс в Слаке. Все
довольны и ставят пальчики.</p>

<p>Бесконтрольное развитие языка — тоже плохо. Это трудно заметить в моменте,
потому что эффект проявляет себя десятилетиями. Но нужно держать его в голове.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/pg-json-meetup/">Видео с митапа о Postgres и JSON</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/postgres/" rel="tag">postgres</a>, <a href="/tag/sql/" rel="tag">sql</a>, <a href="/tag/json/" rel="tag">json</a>

</div>


            <div class="entry">
                
                    <p>Подъехала запись, очень оперативно, как раз на выходные.  Сначала болтология
минут на 30, потом техническая демка тоже на 30 минут. Потом вопросы. В сумме
почти два часа.</p>

<iframe width="100%" height="500" src="https://www.youtube.com/embed/l8__4kI4zgU?start=" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/ios-update/">Разрешения</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p><img src="/assets/static/aws/ios-update/1.jpeg" /></p>

<p>Обновил яблочную операционку, и началось: слетели все разрешения. Каждое
приложение при запуске кукарекает: можно ли сканить локальную сеть? Можно ли
смотреть файлы в Downloads? Воткнул флешку — можно ли подключить Kingston
Datatraveler 8Gb? Воткнул микрофон — можно ли подключить микрофон?</p>

<p>Причем это было минорное обновление (последняя правая цифра).</p>

<p>Увы, в 2025 году обновления по-прежнему ломают то, что работало до них. Что у
Микрософта, что у Гугла, что у Эпла. Все одинаково хороши. Или это нарочно?</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/huge-sql/">Большой запрос</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-05-31T00:00:00+00:00">
        May 31, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/sql/" rel="tag">sql</a>, <a href="/tag/postgres/" rel="tag">postgres</a>, <a href="/tag/join/" rel="tag">join</a>

</div>


            <div class="entry">
                
                    <p>Последние дни я безвылазно сижу в PGAdmin: пишу запрос, чтобы построить важный
репорт. В нем уже 470 строк плюс понадобились пять функций для разных
преобразований (например денег, округления дат). Итого 550 строк чистого скуля.</p>

<p>Не знаю, что обо мне скажут коллеги, когда это увидят. Наверное, проклянут и
будут правы. Но дело в том, что у меня началась профдеформация: мне уже легче
писать на SQL, чем на Кложе.</p>

<p>Со временем понимаешь следующий момент. В SQL любое значение — это таблица, а
операторы — различные JOIN-ы: левое, правое, внутреннее или декартово
произведение. Как только пришел к этому, мышление поворачивается под другим
углом.</p>

<p>Скажем, вот список мап в Кложе:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[{:id 1 :name "Ivan"}
 {:id 2 :name "Huan"}
 {:id 3 :name "Juan"}]
</code></pre></div></div>

<p>То же самое в SQL:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>id name
 1 Ivan
 2 Huan
 3 Juan
</code></pre></div></div>

<p>Любая операция над этим списком сводится либо к фильтрации, либо джоину, либо
агрегатной функции. Скажем, фильтрация по ID это обычный <code class="language-plaintext highlighter-rouge">where</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span> <span class="k">where</span> <span class="n">id</span> <span class="o">&gt;</span> <span class="mi">2</span>
</code></pre></div></div>

<p>То же самое, что написать:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(filter #(&gt; % 2) users)
</code></pre></div></div>

<p>Предположим, есть список мап вида “пользователь -&gt; аватар”. В SQL его легко
выразить таблицей:</p>

<div class="language-clojure highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user_id</span><span class="w">    </span><span class="n">photo_url</span><span class="w">
      </span><span class="mi">1</span><span class="w">    </span><span class="n">https</span><span class="no">://test.com/avatar.jpg</span><span class="w">
      </span><span class="mi">3</span><span class="w">    </span><span class="n">https</span><span class="no">://test.com/cat.jpg</span><span class="w">
</span></code></pre></div></div>

<p>А вот их различные объединения: с сохранением левой части (пользователи без
аватары останутся):</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">users</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">photo_url</span>
<span class="k">from</span> <span class="n">users</span> <span class="n">u</span>
<span class="k">left</span> <span class="k">join</span> <span class="n">photos</span> <span class="n">p</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">u</span><span class="p">.</span><span class="n">id</span>

<span class="n">id</span> <span class="n">name</span>   <span class="n">photo_url</span>
 <span class="mi">1</span> <span class="n">Ivan</span>   <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">avatar</span><span class="p">.</span><span class="n">jpg</span>
 <span class="mi">2</span> <span class="n">Huan</span>
 <span class="mi">3</span> <span class="n">Juan</span>   <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">cat</span><span class="p">.</span><span class="n">jpg</span>
</code></pre></div></div>

<p>и без:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">users</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">photo_url</span>
<span class="k">from</span> <span class="n">users</span> <span class="n">u</span>
<span class="k">join</span> <span class="n">photos</span> <span class="n">p</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">u</span><span class="p">.</span><span class="n">id</span>

<span class="n">id</span> <span class="n">name</span>   <span class="n">photo_url</span>
 <span class="mi">1</span> <span class="n">Ivan</span>   <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">avatar</span><span class="p">.</span><span class="n">jpg</span>
 <span class="mi">3</span> <span class="n">Juan</span>   <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">cat</span><span class="p">.</span><span class="n">jpg</span>
</code></pre></div></div>

<p>В общих словах, любой SQL-оператор сводится к джоину. Скажем, новички часто
передают список айдишников с оператором IN:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">where</span> <span class="n">id</span> <span class="k">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">...</span><span class="mi">999</span><span class="p">)</span>
</code></pre></div></div>

<p>И не знают, что гораздо эффективнее выразить то же самое джоином и таблицей с
полем <code class="language-plaintext highlighter-rouge">id</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span> <span class="n">u</span>
<span class="k">join</span> <span class="n">user_ids</span> <span class="k">on</span> <span class="n">u</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">user_ids</span><span class="p">.</span><span class="n">id</span>
</code></pre></div></div>

<p>В SQL даже одно значение является таблицей. Переменная <code class="language-plaintext highlighter-rouge">x=42</code> — это таблица с
колонкой <code class="language-plaintext highlighter-rouge">X</code> и кортежем <code class="language-plaintext highlighter-rouge">(42, )</code>. Примерно как в Матлабе все является матрицей.</p>

<p>Есть расхожее мнение, что джоины тормозят, но вообще говоря это неправда. Джоины
очень эффективны. Почти любой оператор можно ускорить, если свести его к джоину
с другой таблицей. Если связующее поле индексировано, это будет быстро: почти
как выборка. Важно, что выборка проекции двух и более таблиц быстрее, чем две
отдельные выборки и обработка их силами Питона или другого языка.</p>

<p>Мышление таблицами и их проекциями — очень крутая вещь. Не знаю, во что это
выльется, но чувствую себя как десять лет назад, когда ломал мозги об Кложу
после императивного программирования. Волнует и возбуждает.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page5" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 6 из 100</span>
        
        <a href="/page7" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
