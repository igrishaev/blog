<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page19/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/react-meetup/">Реактивный митап</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2019-01-03T00:00:00+00:00">
        Jan 3, 2019
    </time>

    <a href="/tag/software/" rel="tag">software</a>, <a href="/tag/react/" rel="tag">react</a>

</div>


            <div class="entry">
                
                    <p>Провели очередную встречу в клубе <a href="http://deeprefactoring.ru/">Глубокого
Рефакторинга</a>. На этот раз вели базары за Реакт и
мобильную разработку.</p>

<p>React через призму функционального программирования, Антон Чикин:</p>

<iframe width="751" height="422" src="https://www.youtube.com/embed/u_ihJU5LFHY" allow="accelerometer; autoplay; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen=""></iframe>

<p>Мобильная разработка на React Native + ClojureScript, ваш покорный слуга:</p>

<iframe width="751" height="422" src="https://www.youtube.com/embed/8covCTKfN2o" allow="accelerometer; autoplay; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen=""></iframe>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/telegram/181228/">Дамп Телеграма</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-12-28T00:00:00+00:00">
        Dec 28, 2018
    </time>

    <a href="/tag/telegram/" rel="tag">telegram</a>

</div>


            <div class="entry">
                
                    
<p>Обленился, некоторое время писал <a href="https://t.me/igrishaev_blog">в Телеграм</a>. Дублирую наиболее
осмысленные посты.</p>

<hr />

<p>Бывает, вы восхищаетесь чьим-то мастерством и выражаете удивление. Как ты так
научился? А он такой — да фигня, это легко.</p>

<p>Это называется кокетство, легкое заигрываение. Вроде как нельзя согласится и
приходится врать. Такой уж этикет.</p>

<p>Кокетство не отменяет правды. Скорей всего, человек сильно вложился во что-то, и
теперь оно действительно для него легко. Но процесс вкладывания был офигенно
трудным.</p>

<p>Этим объясняются отговорки про талант и наследственность. Они лишь малая часть,
а основное это труд, пока другие расслабляются. Ну и зависть как сайд-эффект,
потому что на старте вы были на равных.</p>

<p>Ничего не бывает легким.</p>

<hr />

<p>Современные дети на голову лучше нас. Во всем.</p>

<p>Они не курят за гаражами. Мальчики не хватают девочек за косички. Они не
потребляют трешак, который наводнил РФ в перестройку. Они умнее, они пользуются
гаджетами с малых лет. Для них миллион кружков и секций для всех возрастов. Им
интересно жить. Для них делают прекрасные познавательные мульты и фильмы о
космосе и природе. Вся детская медия направлена на гуманизм. Это прекрасно.</p>

<p>Поэтому когда я слышу, что дети пошли не те, хочется разбить идиоту лицо.</p>

<hr />

<p>Прихожу я в школу на собрание и слышу все то же говно. МЫ НЕ УСПЕВАЕМ, конец
полугодия, еще не прошли это, ШКОЛЬНАЯ ПРОГРАММА, времени нет, ДЕТИ НЕ ПОНИМАЮТ,
ленивые, ОДНИ ГАДЖЕТЫ, ааааа!</p>

<p>Чем кончаются проекты, где никто ничего не успевает? Плохо они кончаются, все
это знают. Хроническое неуспевание надо лечить на уровне менеджмента и
планирования.</p>

<p>А не стараться все успеть годами!</p>

<p>К сожалению, ученик не может сменить программу обучения, как мы меняем
проект. Остается пожалеть детей, что они по-прежнему учатся по колхозному
легаси. Главное — покрыть программу без контроля за тем, что останется в голове.</p>

<hr />

<p>Столкнулся с тем, что физически не могу смотреть видосы с закадровым
смехом. Противно до тошноты. Мой внутренний смех никогда не совпадает с тем, что
в кадре. Зрительский смех вставляют в самых банальных, плоских моментах, когда я
и не улыбнусь. И никогда там, где действительно смешно. Из-за этого кажется, что
сидишь в окружении дебилов, и весь кайф уходит.</p>

<hr />

<p>В самолете со мной сидела девушка. Волосы цвета моркови, пирсинг, тату. Но
насторожило меня не это.</p>

<p>Девушка изображала иностранку. На вопросы стюардессы отвечала Yes, No и
Sorry. Переписывалась в телефоне на английском. Но беглого взгляда хватило,
чтобы заметить: собеседника зовут Глеб (кириллицей). Очень маловероятно, что
нейтив инглиш спикер забьет в контакты “Глеб”, а не “Gleb”.</p>

<p>Ладно, может, это собеседник так назвался, а мессаджер показывает как есть? Но в
тексте полно ошибок уровня пре-интермедиейт. “I not understand” — путает am и do
(состояние и действие). “He go, she say” (теряет -s/es в глаголах второго лица).</p>

<p>А когда у девушки упал рюкзак, она на чистом русском сказала “ой!”. Не оу, не
ауч, а наш чистый ой.</p>

<p>Зачем это, интересно? И летел-то я провинциальным рейсом из Воронежа в
нерезиновую. Может, это такой способ вжиться в образ, чтобы изучить язык?</p>

<hr />

<p>Просто всякая хрень про Лозанну, Швейцария.</p>

<p>Выключатели делают не снаружи, а внутри. То есть сначала заходишь в темное
помещение, и только потом включаешь свет. Странно. Зато почти каждый выключатель
— розетка. Клево. Выключатели в основном кнопочные.</p>

<p>Поражает устройство улиц. Нет бордюров, все плоское. Там, где нельзя
парковаться, ставят громадные камни. И красиво, и полезно. Пешеходные переходы
совмещают функцию лежачего полицейского.</p>

<p>Все здания построены вровень с землей. Не бывает порогов. И не надо лечить про
сложный рельеф в России! Я в городе на берегу озера, все стоит на спуске. При
этом любая дверь вровень землей.</p>

<p>Опять про о спуск. Если сразу много лестниц, то ставят лифт. Я оценил, когда шел
с сумками из магазина. Лифт нужен всем, независимо от возраста и здоровья.</p>

<p>Каждый, с кем встретишься взглядом, показывает расположение улыбкой или
приветствием. Сели в электричке два негра рядом со мной — хай, бонжур.</p>

<p>В западной части страны все фигачат на французском. При этом пишут на немецком,
потому что он преобладает по стране. Но не разу не слышал здесь
немецкий. Английский знают в достаточной мере все. Люто завидую чувакам, которые
переключаются мгновенно. Со мной по-английски, по телефону по-французски.</p>

<p>Народ ненапряжный, все такое плавное, размеренное. Какая-то утопия. И все очень
дорого.</p>

<hr />

<p>Еще давно прочитал в чьих-то записках эмигранта, что в Швеции нельзя спускать
унитаз ночью — пожалуются на шум. Хоть я и в Швейцарии и за унитаз ничего не
говорят, это похоже на правду. Люди очень ревностно относятся к тишине.</p>

<p>Понятно, я не мог обойти все дома, поэтому сужу по подъезду, где живу. Сразу на
входе написано, что шуметь нельзя. На дверях висят объявления с указанием часов,
когда их ребенок спит. Некоторые семьи просто лепят на двери рисунки детей. Как
я понял, это сигнал. Здесь ребенок, не шуметь.</p>

<p>Климат в Швейцарии мягкий, поэтому стены тонкие. В квартирах слышно все. Звук
телевизора, игры детей. Когда работате душ, кажется, что за окном дождь. В 6
утра слышно, как кто-то крадется в туалет.</p>

<p>Не пойму, откуда в таких условиях берутся дети. Как можно заниматься сексом,
когда все слышно на три этажа? Может, они как подростки следят, пока соседей нет
дома?</p>

<hr />

<p>Отличная цитата:</p>

<blockquote>
  <p>Раньше, когда Россия еще не встала с колен, но при этом у нее была
промышленность, можно было позволить себе проводить суверенную политику в
области добычи нефти.</p>
</blockquote>

<hr />

<p>И еще одна деталь, которая бросается в глаза русскому путешественнику. В Европе
чаще видишь женщин там, где их нет в России. Или тех возрастов, где у нас только
молодые.</p>

<p>Сеогдня, например, видел женщину-рабочую, которая разгружала грузовик. Все
делали краном, труд автоматизирован. Она не таскала мешки на своем горбу. Так
почему бы и нет?</p>

<p>Другой пример — стюардессы. В России стюардессы старше 35 редкость, потому что с
возрастом их увольняют под разными предлогами. Или ждут, пока уйдут в декрет, а
обратно уже не попасть. В сети полно интерьвю с бывшими стюардессами Аэрофлота.</p>

<p>В любом самолете, который летит в Европу, среди экипажа будет женщина старше
сорока. А может и под полтинник, если учесть, как они за собой следят. И это
норм. Нельзя выкидывать человека с работы только потому, что поседели волосы и
стало больше морщин.</p>

<p>Можно смеяться над этим и постить смешные картинки, но факт остается. Россия —
довольно отсталая страна в вопросах возраста и пола.</p>

<hr />

<p>Этот коммент сделал мой день:</p>

<blockquote>
  <p>мой односельчанин купил квадрик за 100 тысич и там камера 4 к﻿</p>
</blockquote>

<p>Здесь прекрасно все от начала до конца. Минимальная емкость, но какой плотный
контекст, понимаете? Каждое слово на вес золота. И односельчанин, и камера, и
орфография, и вообще. Вот она, жизнь. Люблю такое.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/takoe/">Такое</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-12-14T00:00:00+00:00">
        Dec 14, 2018
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/dunno/" rel="tag">dunno</a>

</div>


            <div class="entry">
                
                    <p>В интернете модно говорить “это такое…” с томной затяжкой на конце.</p>

<ul>
  <li>Ездить через всю Москву — это такое…</li>
  <li>Писать под мобилу на Джаваскрипте — это такое…</li>
  <li>Косплеить Соню Блейд без сисек — это такое…</li>
</ul>

<p>Что это, откуда пришло? Такое — что именно? Говно? Ну так договаривай!</p>

<p>Говорить “это такое” — это такое…</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/no-monads/">I will never let monads be in a Clojure project</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-11-29T00:00:00+00:00">
        Nov 29, 2018
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/monads/" rel="tag">monads</a>, <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/haskell/" rel="tag">haskell</a>

</div>


            <div class="entry">
                
                    <p><em>Sounds a bit aggressive, doesn’t it? Well, let me explain. Monads are fine
while you’re playing with them in Haskell. But don’t bring them to Clojure. They
are completely foreign beings to Clojure ecosystem. Besides the technical
issues, there is a problem with sharing monads across the team. Read the
following, and I hope you’ll get into what I’m worried about.</em></p>

<p><strong>Nobody uses monads in libraries</strong></p>

<p>So, why you’d better not to ship monads into Clojure code? First, they are used
quite rarely in production. Let me open my recent project which is just another
two-in-one boring stuff. An HTTP server plus a single page application. I’ve got
plenty of dependencies here in my <code class="language-plaintext highlighter-rouge">project.clj</code> file. There are about 40 of them
just to cover basic stuff. Database, oAuth, UI… I don’t want to dump the whole
list here. Check <a href="https://gist.github.com/igrishaev/a0de14d135924434ae3c243e3d111780">this gist</a> for the reference.</p>

<p>The full tree of dependencies expands into multiple screens. Their children
libraries, and their children, and so forth. There are about 100 packages in
total.</p>

<p>Now guess how many of them use monads? You know that, it’s zero. None of the
libraries needs monads to bear their functionality. I’d like to stress
that. Some of them provide a really tough stuff: database access, template
system, HTTP communication, etc. Yet they work without monadic operations. Why?
Just because Clojure is powerful enough. It brings everything you need for
convenient development. The authors of those libraries didn’t use monads not
because they are not aware of them but because they just don’t need them.</p>

<p>I don’t believe you are experiencing a trouble which is much more serious then
something mentioned above and thus craves for monads. There is definitely a
plain way for doing this.</p>

<p><strong>Railway Programming is a toy</strong></p>

<p>Moving on, most of the people who are using monads told me, they are fascinated
with the idea of <a href="https://fsharpforfunandprofit.com/rop/">Railway Programming</a>. I believe you are aware of this site
and their mental model in general. Several years ago I fell into it completely
thinking I’ve found the ultimate solution. It didn’t work, I regret to say.</p>

<p>The problem with it is, it’s just a mock. A toy model which looks nice on the
screen. At first glance, it reminds a holy grail that you’ve been looking for
years and got it finally. So simple: just cut your code into a set of same
looking chunks and then build a pipeline.</p>

<p><img src="/assets/static/aws/1059232/49207523-36026180-f3c6-11e8-92ae-cbd6a011f728.png" title="rop-pic" /></p>

<p><em>I’ve been praying for that picture for months.</em></p>

<p>Suddenly, it becomes clumsy and tough once you try to fit it into a real
project. You’ve got to write more code. As I mentioned, none of the libraries
really use it. All the functions should be wrapped to return monadic values
rather than plain ones.</p>

<p>The standard <code class="language-plaintext highlighter-rouge">let</code>, <code class="language-plaintext highlighter-rouge">cond</code>, <code class="language-plaintext highlighter-rouge">when</code>, and dozens of useful core functions don’t
work with monadic values. You’ll lose a huge stuff for no reason. Instead,
you’ll have to implement <em>monadic</em> versions of <code class="language-plaintext highlighter-rouge">let</code>, <code class="language-plaintext highlighter-rouge">if</code>, etc. Then test them,
write documentation. Why? It’s clear to me, the more code you’ve brought on
board, the less the project is maintainable.</p>

<p><strong>We are already there</strong></p>

<p>The Railway Programming proposes a happy path where each step leads either to
the next happy step or to the negative outcome. This is fine, but we’ve already
got the same stuff, indeed. These are exceptions. They act the same way.</p>

<p>Take a look at the standard <a href="https://fsharpforfunandprofit.com/posts/recipe-part2/">Railway example</a>. They query the
database, send email, write a file, etc. Surely, each of these steps is
dangerous, whoever argues. But I don’t see a reason for why not to wrap the
whole code with a simple try-catch statement? It acts exactly the same. For
example, when an error occurs on the third step which is sending email, the
entire pipeline terminates so we end up in the catch clause.</p>

<p>Here, we’ve got an exception instance with most of the data we need. What to do
next is up to us. We can log the error and fail silently. Or rise another
exception with a high-detailed message plus the source exception attached for a
cause. That’s is sufficient for maintaining the business logic.</p>

<p>The main reason people turn to monads is, they’ve got lack of knowledge of using
exceptions. There is no common rule for handling exceptions and thus it might be
tricky sometimes. Some of them must be caught right here, others should flow
up. For example, when iterating through the list, I wouldn’t like to stop the
whole program once failing on a certain item. I just log the detailed message
and go on. Or if I found a user doesn’t have enough permission for that
endpoint, I throw an exception so it called by the top-level middleware. It does
know how to turn in into a proper HTTP response.</p>

<p>I know this is just an extended version of the GOTO operator. It looks
completely imperative but I don’t care. This is a business problem, not a
Haskell tutorial.</p>

<p><strong>Monads are built upon strict types</strong></p>

<p>In fact, I don’t see any reason for using monads with a language of dynamic
typing system. Don’t see at all. In Clojure, we’ve got nice collections for
storing either data or a <code class="language-plaintext highlighter-rouge">nil</code> value. Since <code class="language-plaintext highlighter-rouge">nil</code> is treated as an empty
collection and we mostly process collections in Clojure, there is no reason to
worry about whether it was a map or just <code class="language-plaintext highlighter-rouge">nil</code>.</p>

<p>When I doubt if a value I’ve got might be <code class="language-plaintext highlighter-rouge">nil</code>, I just wrap the top-level form
with <code class="language-plaintext highlighter-rouge">(when value ...)</code> which prevents me from dealing with <code class="language-plaintext highlighter-rouge">nil</code>. In addition,
it returns <code class="language-plaintext highlighter-rouge">nil</code> and thus is compatible with threading macros as well.</p>

<p>The very need for monads comes when you’ve got an honest typing system. An
honest system is such a one that doesn’t allow to pass empty values (nil, NULL,
None, etc) for an arbitrary object like one does in Java. When you are out of
this trick, you’ve got to compose a complex type with a bunch of special
operations upon it.</p>

<p>A good example might a language with a strict typing system and algebraic types,
say Scala. They haven’t got a <code class="language-plaintext highlighter-rouge">Nil</code> type at all. You cannot just pass an dummy
value instead of a <code class="language-plaintext highlighter-rouge">DateTime</code> parameter. Instead, there is an <code class="language-plaintext highlighter-rouge">Option&lt;T&gt;</code> type
which is a composition of either an instance of <code class="language-plaintext highlighter-rouge">&lt;T&gt;</code> class or a <code class="language-plaintext highlighter-rouge">None</code>
value. This is only because of their type system’s limitations.</p>

<p>But this is not our case! In Clojure, we are not suffering from such
things. It’s much easier to check the value for its completeness with the
standard <code class="language-plaintext highlighter-rouge">if</code> form rather than wrapping it into a monad. You overcomplicate
things, and that’s the problem.</p>

<p>By the way, talking about complexity. In Clojure, we don’t like complex things,
we’d rather take simple ones. The entire language is about simplicity, you
know. You either have got some data represented with a map or <code class="language-plaintext highlighter-rouge">nil</code>. That is
simple. That is something you can always check within REPL out from your
editor. Instead, a monad is a wrapper what obscures the original value and
forces me to recover it with special macro. That’s too complex.</p>

<p><strong>Leave other languages alone</strong></p>

<p>That situation with monads in Clojure reminds me something from Python. Since it
has <code class="language-plaintext highlighter-rouge">map</code> and <code class="language-plaintext highlighter-rouge">reduce</code> functions as well as flexible syntax, one believes it’s
possible to program with Python in a functional way. The Internet is full of
tutorials about higher order functions, functors and even monads. My shame, I
used to write my own “functional” library for Python with all that stuff. It was
an mess stiched from chunks of Scala and Clojure. I was really proud of it being
sure this is really a great stuff. So do other authors, I suppose.</p>

<p>One minor detail is, nobody uses those “functional” libraries. I’ve seen a lot
of Python code before switching to Clojure. Let me assure you, a functional way
in Python is a myth. There is no a chance to deliver a Django project in
functional terms. Put <code class="language-plaintext highlighter-rouge">map</code> and <code class="language-plaintext highlighter-rouge">reduce</code> here and there, it won’t affect the
whole picture. After all, the very language is completely imperative so you end
up with changing objects through their lifetime. This is not because Python
sucks, no. I love it. It’s just a matter of different design.</p>

<p>Clojure also has got other design. It doesn’t know anything about
monads. Talking in a more broad way, the idea of fetching foreign ideas from
other languages doesn’t work. If a language is entirely imperative, functional
way won’t apply here. When it has got dynamic types, the idea of adding strict
type checks manually neither applies. Otherwise, you get something that we call
Chimera. A strange mix of foreign elements that do not match each other. This is
subject to break.</p>

<p><strong>What would you do with the team?</strong></p>

<p>One other note is, think for a while about not yourself but the whole
team. Look, not everyone is as smart as you. We know you’ve been drilling
Haskell by nights but know what? Nobody cares. You’ve been hired to solve
business problems, not to tickle your arrogance.</p>

<p>With monads, we’ve got to teach the team first. Some of my friends are really
great developers yet they know nothing about monads. I don’t see any reason to
violate their brains. For what? To force them to know monads? They are already
capable of solving any possible business problem. Live them alone.</p>

<p>I’m not against one-man-band use cases when you are the only one person
responsible for everything. Use monads, monoids, do what you want. Yet it’s
still an amateur way. You won’t go far as a single developer.</p>

<p><strong>Wrapping up</strong></p>

<p>Using monads is fine when you’ve got a language which is monad-friendly. They
should be a part of the language’s design. Haskell or Scala would be a great
choice for that.</p>

<p>Railway programming looks fine right until you put that gizmo into a real
project. Dull exceptions would be enough.</p>

<p>Don’t borrow too much from other languages. What has been in Haskell should be
left behind. It’s Clojure time! Shifting your mind between paradigms is really
fun. But not sticking around the only “truthful” way!</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/choice/">Сложный выбор</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-11-27T00:00:00+00:00">
        Nov 27, 2018
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Каждый разработчик сталкивался с этой проблемой. Требуют починить баг или
доработать продукт, но времени на качественное решение нет. Нужно было вчера,
говорит менеджер. Вы перед трудным выбором: делать быстро и некачественно или на
совесть, но долго.</p>

<p>Принять решение не так просто, как кажется. Воткнуть грубое решение и поскорей
закрыть тикет? В отчете больше задач, проблема нейтрализована на ближайшее
время.</p>

<p>Или заморочиться, провести исследование, прочитать книгу? Но менеджер не готов
выделить часы, руководство давит. Мы должны двигаться, несется со всех сторон.</p>

<p>Поработать на выходных? Полно семейных дел, а два часа ничего не решат.</p>

<p>С опытом приходит понимание: позади этого выбора стоит другой, более важный
выбор. Как я реагирую на проблемы? Как быть, когда что-то идет не так? И не
только в работе, но и в жизни?</p>

<p>Только недавно я смог внятно выразить, что думаю по этому поводу.</p>

<p>На мой взгляд, хороший разработчик ценит качество продукта, который создает. Я
заметил: пока проект в тонусе, с ним приятно работать. Даже сложные задачи
приносят удовольствие, если код написан чисто и с пониманием. Модули и функции
сгруппированы удобно. В сложных местах комментарии и док-стринги.</p>

<p>И наоборот: как только проект поплыл, любая его доработка вызывает сперва
раздражение, потом злобу и равнодушие. Поплыл, значит – потерял форму, курс,
наполнился нелепыми решениями.</p>

<p>Пользователи слышат наплевательское отношение к коду. Может показаться, что
сопли на бекенде спрятаны за интерфейсом, но это не так. Кривое поведение
нет-нет, но прорвется сквозь щели. Пользователю покажут идиотскую ошибку,
пришлют “[Object object]” в смс, оборвут сессию в важный момент.</p>

<p>От поспешного решения больше проблем, чем пользы. Да, какую-то дырку вы
заткнули. Это прекрасно смотрится в отчетности. Повышает репутацию в команде:
выручил, спас проект. Но это только видимая часть.</p>

<p>Невидимая состоит в том, что проект потихоньку поплыл. До катастрофы еще далеко,
никто не заметит. Прямо сейчас ничего не случится. Проблемы встанут во весь рост
потом. Вот хотя бы малая их часть.</p>

<p>1) Это <strong>ухудшает код</strong>, а плохой код значит плохой продукт. Код – это материал
разработчика. За буквами на экране стоит его архитектура, ментальная модель. Ее
нельзя ломать. Код подобен башне из кубиков. По мере роста она становится
нестабильной. Башня не монолит, а набор блоков. Даже если класть кубики с
хирургической точностью, она все равно упадет. Вопрос в том, успеет ли она
подняться на нужную высоту. Нельзя вносить помехи в и без того хрупкую сущность.</p>

<p>2) Вы <strong>учите плохому новичков</strong>. К вам приходят молодые ребята, они чисты и
впитывают все, что видят в проекте. Нельзя поощрять плохие практики, это дурно и
с практической, и моральной стороны. Новички утащат костыли в соседний проект,
потом в другой отдел. Плохая практика приживется в компании. Со временем она
укрепится чужим авторитетом. На вопрос “почему так?” вам ответят “так писал сам
Василий”. С полной уверенностью, что это исчерпывающий ответ.</p>

<p>3) Вы <strong>заметаете проблемы под ковер</strong>. Грубое решение все равно придется
исправлять. Часто об этом не ставят в известность менеджеров и старших
разработчиков. Иногда якобы по уважительной причине – они были в отпуске или
болели. А выпиливать костыль еще труднее, чем добавить, поэтому легче махнуть
рукой.</p>

<p>4) <strong>Замедление проекта</strong>. Проблему легче решить, когда в голове полный контекст
о ней. Будет трудно вернуться к багу, который мигнул год назад. Разработчик,
который знал все о нем, ушел. Комментарии в задаче скудные, воспроизвести не
получается. Теперь, чтобы вновь наполнить голову контекстом, потребуется больше
времени, чем когда проблема стояла в полный рост. Но никто не хочет этого
делать. Задачу закрывают. Может, только каждый тысячный пользователь ловит этот
баг, но им лень писать разработчикам. Сигнал не доходит до команды, всем
наплевать.</p>

<p>5) <strong>Обман самого себя</strong>. Почему-то считают, что сейчас времени нет, но потом
будет обязательно. Это доводит меня до белого каления. Почему вы решили, что
потом время будет? Откуда оно возьмется?</p>

<p>Практика показывает, что если времени нет сейчас, то его не будет и через месяц,
и через год. По крайне мере до тех пор, пока не изменится планирование.</p>

<p>6) <strong>Менеджмент не позволит</strong>. Если в проекте хоть как-то считают часы, то
починить последствия вам не дадут. Проектному менеджеру платят за нововведения и
продвижение продукта, но никогда — за оптимизации. Менеджер не лазит в код, он
оценивает глазами и метриками. Если бага не видно, значит, его нет. И плевать,
что разработчик патчит классы в рантайме.</p>

<p>Опытный менеджер не выделит часы на технические доработки. Он будет тянуть до
последнего. В следующем полугодии будет вагон времени на доработки,
честно-честно. Нет, сразу после Нового года. Нет, после майских. Нет, в конце
лета. Ребята, релиз на носу, какие доработки?</p>

<p>Потом означает никогда.</p>

<p>Эта проблема справедлива даже для Гугла. Недавно они обновили почту, и по всему
миру люди взвыли от тормозов. На что сотрудники Гугла, бывшие и анонимные,
ответили. В компании не поощряется оптимизация кода, который уже работает. На
результаты такой работы не смотрят при повышении. Там считают фичи, а не число
запросов на сервер. Вот и объяснение тому, что почта тормозит.</p>

<p>Мы выяснили, что решение на скорую это отстой. И все же, как поступить при
условии, когда вы линейный разработчик? Когда давит руководство, нет связей и
возможности на что-то повлиять?</p>

<p>Я вижу две стратегии: краткосрочную и долгосрочную.</p>

<p><strong>Краткосрочная стратегия</strong> — это когда вы признаетесь, что не можете решить
проблему на должном уровне. Признайтесь прежде всего самому себе. После этого
приступайте к сбору данных.</p>

<p>Цель краткосрочной стратегии в том, чтобы найти наименее болезненное
решение. Акцент на том, что такое решение будет легче всего исправить. Мы
оставляем задел на то, чтобы с наименьшими проблемами выкинуть этот код. Он
должен быть написан с пониманием, его удалят. А не с мантрой “я же писал в два
ночи, страдал, не трожьте, сволочи!!1”.</p>

<p>Бывали случаи, что краткосрочное решение оставалось надолго, поскольку выдавало
достойный результат. Так бывает, когда разработчик на совесть подошел к
проблеме, или ему повезло. Но вряд ли это ваш случай.</p>

<p>Чтобы найти достойное решение, обратитесь за помощью к людям. Важно грамотно
составить вопрос: в чем проблема, как вы пытаетесь ее решить, что вы пытались
сделать. Сообщите полный контекст, чтобы пресечь посторонние обсуждения и срач.</p>

<p>Скорее всего, опытные разработчики посоветуют вам как раз то, что вы не в силах
обеспечить. Важно это оговорить: чуваки, меня не хватит на такой
подход. Посоветуйте что-то полегче, а то решение я буду держать в уме.</p>

<p>Когда мне срочно нужна помощь, я пишу вопрос в черновике. Добавляю ссылки, куски
кода, стараюсь предупредить очевидные вещи. Например, эту штуку я сделал именно
так, потому что. Или этот метод не подошел из-за бага. Это здорово экономит
время тех, кто отвечает. Обсуждение не размазывается по второстепенным темам.</p>

<p>Потом я раскидываю вопрос по нескольким чатам: рабочий, нерабочий, профильный
канал в Телеграме, Слака. На грамотно составленный вопрос отвечают, как правило,
за 5-10 минут.</p>

<p>Некоторые разработчики ищут решение молча, в муках, по ночам. Для меня это
признак инфантильности и не профессионализма. Здесь кроется обман и лень, провал
в навыках коммуникации.</p>

<p>Это была краткосрочная стратегия. Ее недостаток в том, что решение все же может
оказаться недостаточно хорошим. Как мы помним, слабые решения — лишний груз в
проекте. Это тот случай, когда остается признать – мы оказались бессильны перед
задачей. Поможет <strong>долгосрочная стратегия</strong>.</p>

<p>Долгосрочная состоит в том, чтобы научиться делать <em>и быстро, и качественно
одновременно</em>. Это совершенно другая планка. Если краткосрочная стратегия
обусловлена соглашениями в команде, то долгосрочная – это скорее
внутреннее. Это про личный рост и путь.</p>

<p>Следует запомнить проблемный случай и по возможности его разобрать. Не
обязательно писать код на чистовик. Просто вспомнить проблему: каков был
контекст, что сделали и как надо было сделать. Если позволяет время, накидать
черновик хорошего решения. Почитать больше о предмете.</p>

<p>В школе это называется работа над ошибками. Делайте ее хотя бы мысленно.</p>

<p>Не позволяйте себе больше одного костыля на проблему. Это должно стать
мантрой. Если вы встретили проблему в первый раз, решить ее костылем не так уж
постыдно. Может быть, все будет не так плохо.</p>

<p>Но во второй раз пихать костыль нельзя. Долгосрочная стратегия о том, чтобы не
прощать костылей. Его можно ставить только один раз. Лепить его повторно в
соседний модуль, копировать по проектам — недостойное поведение.</p>

<p>На <strong>верхнем уровне</strong> вырабатывается нетерпимость к плохой работе. Стратегии
становятся неважны. Просто плохая работа не принимается ни под каким
видом. Неважно: мало ли времени, зол ли заказчик или что-то другое. Мы так не
работаем, точка. Давайте что-то менять: точнее планировать, обучать сотрудников,
проводить семинары с разбором ошибок, да что угодно. Но никогда – гнать
халтуру, обещая исправить ее потом.</p>

<p>Что в итоге? Вставлять костыли — можно. Костыль оправдан, если разработчик
<em>действительно</em> обращался за помощью, и <em>действительно</em> не нашлось достойного
решения. Вставлять второй такой же костыль — запрещено. Сама потребность в этом
говорит, что пора нанимать людей или выделить время на обучение. Разносить
костыли по проектам — недостойно.</p>

<p>Я хочу, чтобы в следующий раз вы, вставляя костыль в код, сначала
подумали. Действительно ли я решаю проблему? Какие будут последствия и кто их
решит? И когда?</p>

<p>Что бы сделал более опытный разработчик? Может быть, трагедии не будет, если
потратить день и сделать все по уму?</p>

<p>Хотя бы один такой вопрос. Тогда статья написана не зря.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/altes/">История одного провала</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-10-28T00:00:00+00:00">
        Oct 28, 2018
    </time>

    <a href="/tag/altes/" rel="tag">altes</a>, <a href="/tag/work/" rel="tag">work</a>

</div>


            <div class="entry">
                
                    <p>Самый дурацкий вопрос на собеседованиях — расскажите о вашей неудаче. What was
your biggest failure. Никчемней этого вопроса ничего не может быть. Для меня это
своего рода маркер. Нормальный человек не станет такое спрашивать. Это либо
глупость, либо дурь в голове.</p>

<p>Вопрос нарушает личные границы человека. Возможно, у меня были неудачи в работе,
и может даже серьезные. Но с чего вы взяли, что я должен об этом рассказывать?
Мы же не знакомы. Может быть, через год на корпоративной пьянке я и сам это
расскажу, но сейчас, незнакомому человеку… серьезно?</p>

<p>Это как при знакомстве с девушкой спросить: слушай, а расскажи-ка мне о своих
самых неудачных отношениях?</p>

<p>— Больной ублюдок.</p>

<p>Я искренне не понимаю, зачем это спрашивают. Что хотят услышать? Очевидно же, к
этому вопросу готовятся. У каждого девелопера заготовлена сказочка о том, как он
уронил прод, но потом все поднял, и этого довольно. Обязательно должен быть
хеппи-энд.</p>

<p>О настоящих неудачах никто не расскажет. Под настоящим провалом я имею в виду не
падение прода (ныне его роняют все кому ни лень), а реальные днищенские
провалы. Точки невозврата в отношениях. Нарушенные договоренности. Внезапный
уход в тень. Грубость в переписке.</p>

<p>Я работал с некоторыми разработчиками и знаю: этого, например, выперли из фирмы
за банальное хамство. Другой ни хера не делал и его тоже выперли. Это и есть их
the biggest failure. При устройстве в очередной стартап оба навешают, что один
раз сломали миграции, но потом починили, и ладушки.</p>

<p>Лет пять назад я работал в условной фирме Art of Data, и там были подготовки к
собеседованиям. Меня не просто долбили этим вопросом, а натурально ЕБЛИ: какой у
тебя был провал, каковы твои слабости. И когда я отвечал, что ничего такого не
было, это никого не устраивало. Нет, должен быть провал! Не бывает так, чтобы не
было!</p>

<p>Все это протекало с откровенным троллингом на фоне моего неуверенного
английского. Что я мог тогда возразить?</p>

<p>Я никогда не мог вспомнить за собой откровенного провала. Не потому что память
короткая, а потому что всегда относился к работе ответственно. Не кидал, не
пропадал с деньгами, всех обо всем уведомлял. Чувствовал приближение пиздеца
заранее и все исправлял. Уходил достойно, приводил замену.</p>

<p>То же самое с технической частью: проды не ронял, миграции проверял. Так что мне
правда нечего ответить на вопрос про the biggest failure, уж извините.</p>

<p>Но как-то раз, гуляя по парку, я стал перебирать в уме прежние места работы,
проекты и задумался. Все же, был один провал, причем такой силы, что запомнилось
навсегда. Случилось это не в прошлом году, и не пять, а пятнадцать лет назад. В
Чите, на самой первой работе. Это совершенно не связано с программированием и
требует много времени, чтобы объяснить.</p>

<p>Нечего и думать о том, чтобы рассказывать этот случай на собеседованиях. Но
поскольку у нас тут не собес, а уютный бложик, я вам все расскажу в деталях.</p>

<p>Итак, это случилось в Чите, где я родился и вырос. Мне было 17 или около того, и
я страстно хотел работать. Я уже поступил в институт на очный факультет и тратил
первую половину дня на учебу. Во вторую половину хотелось где-то работать, а на
домашнее задание я плевал. Когда спишу, когда ночью сделаю, когда и не спросят.</p>

<p>До этого я не раз пытался устроиться админом в интернет-кафе, где постоянно
ошивался с друзьями. Никуда меня не взяли, так как думали, что моя цель —
неограниченный трафик, хотя на самом деле это было не так.</p>

<p>Параллельно я занимался 3Д-Максом. Случилось так, что мне попалась книжка по
третьей версии Макса, и я зависал в нем часами, надувая сферы и бублики. Один
знакомый узнал об этом и пригласил в рекламный отдел на местный
телеканал. Будешь фигачить рекламу. Я без раздумий согласился: мне было все
равно, где работать, а тут что-то связанное с компами и ЗД.</p>

<p>Региональный телеканал — это вещь в себе, отдельный мир. Балаган, где не
прекращается возня. Все действие замкнуто на себе. Актеры сами же себе зрители и
критики. После записи вечернего эфира все едут домой и сами же его смотрят, а
утром обсуждают.</p>

<p>Я никогда не понимал, как можно в здравом уме смотреть местный эфир. Он
настолько убог, что очевидно даже детям. Местное телевидение смотрят только
пенсионеры и рекламодатели, а еще мэр.</p>

<p>У местного канала только две функции: реклама и показ мэра. Если с рекламой все
понятно — у директора каждый год новый Лексус — то с мэром еще круче: за каждый
его показ по телевизору взлетаешь вверх как на ракете. Если добавить членство в
Единой России, получается декартово произведение денег и власти, и директор
становится полубогом. Точнее, божком.</p>

<p>Ничего этого я тогда не знал, да и не хотел знать.</p>

<p>Рекламному отделу меня представили как гуру 3Д-Макса, но это их мало
волновало. Они искали ответственного человека под тяжелую задачу, о которой я и
не подозревал. Мои ответы их удовлетворили, и вот она, моя первая работа —
инженер рекламного отдела.</p>

<p>Никакого 3Д-Макса мне сначала не дали. Это потом я что-то фигачил Максе и After
Affects, но первые три года провел за сборкой рекламы. Это было похоже на
сидение у параши на зоне. Пришел новый человек в отдел — садят его за рекламу, а
прежний вздыхает полной грудью. И так пока не возьмут еще одного. В моем случае
штат оказался укомплектован на несколько лет вперед, поэтому я собирал рекламу
дольше других.</p>

<p>Выглядит это так. На каждый день составляется список роликов, которые будут в
эфире. В отдел приходит девушка с БЛОКНОТИКОМ. В блокнотике написаны ролики. Я
открываю Adobe Premiere, программу видеомонтажа. По тайм-линии разбросаны сотни
роликов, когда-либо бывших в эфире. Моя задача — собрать несколько блоков их
этих роликов и записать их на ленту.</p>

<p>Сделать это не так просто, как кажется. На блоки действуют ограничения. Должно
быть пять одноминутных блоков, три двухминутных и два трехминутных,
например. Отклонение по времени — максимум плюс-минус пять секунд, иначе не
поместится в региональное окно, которое выделяет Москва.</p>

<p>Ролики должны быть распределены равномерно, чтобы каждый клиент увидел свой
ролик не менее N раз.</p>

<p>Для определенного ролика клиент может купить бонус, например, всегда первый в
блоке. Тогда вероятность, что его увидят, гораздо выше. Ролик может быть строго
в каждом блоке, но тогда он не первый. Ролик может быть строго не
последним. Наконец, бывало так, что никаких услуг клиент не оплачивал, но стояла
пометка “этот почаще”.</p>

<p>Очевидно, это была классическая комбинаторная задача, с которой бы справился
студент старших курсов. Нужно было написать программу, которая принимает на вход
ролики и их характеристики — хронометраж и бонусы — и выдает комбинации блоков,
а заодно прогоняет тесты. Подошел бы, например, генетический алгоритм или метод
спуска. Но разве я знал об этом тогда?</p>

<p>В те годы все было автоматизировано чуть менее, чем никак. В соседнем отделе
работал парень, который тратил по два часа в день на тупейшее занятие. Он
открывал Ворд-файл с программой телепередач, присланной из Москвы, и заменял
московское время на местное с разницей в шесть часов. Например, исправлял 15:45
на 21:45. Как-то он признался мне, что мечтает о программе, которая могла бы это
делать автоматом, а он бы дольше тупил в интернете.</p>

<p>Ну так вот, собирал я рекламу. Занятие было монотонное, тупое и требовало
концентрации и внимания. Сейчас я понимаю, что это было физически трудно для
человека моего возраста. В семнадцать лет мозг еще не настолько развит, чтобы
удерживать уйму факторов в уме. Поэтому я регулярно косячил и получал люлей. То
не поставлю ролик первым в блок, хотя клиент оплатил. Или один раз пропущу
ролик, который должен быть везде.</p>

<p>Однажды, чтобы упростить себе жизнь, схитрил. Если ролик в каждом блоке, я
ставил его первым, чтобы не забыть. За что опять получил, ведь по сути это была
халявная услуга “первый в блоке”.</p>

<p>Бывали клиенты-маньяки: они буквально ВЕСЬ ДЕНЬ смотрели эфир и записывали на
бумажку: какая реклама шла, во сколько и в каком порядке. Потом ехали в офис и
устраивали скандал.</p>

<p>Бывали и косяки на выдаче. Это место на телебашне, где специально обученный
человек гоняет местный эфир с кассет. Бывало, он путал кассеты, пускал вчерашний
эфир, но пока это выяснялось, люлей все равно успевал отхватить я.</p>

<p>Хотя именно реклама обеспечивала весь телеканал, ее сборку доверяли
семнадцатилетнему пацану. Сегодня это кажется маразмом, но так оно и
было. Реклама — это все для местного телевидения. Машины директоров,
корпоративы, оборудование — все это за счет рекламы. Конечно, канал делает и
не рекламный контент, например, новости, развлекуху, клипы. Но их качество такое
убогое, что смотреть можно только под наркотой. Не реклама разбавляет контент, а
контент хоть как-то разбавляет рекламу.</p>

<p>Колхозность местного телевидения невозможно описать. Однажды нашего водителя
подписали сниматься в рекламе зимних шапок. А он струхнул и в последний момент
уехал. Велели мне. Снялся. Просто стыд. Сюжет в том, что как будто у меня нет
женщины, а после покупки шапки их стало две. Типа, кто купит шапку, тому бабы
дадут.</p>

<p>В институте десять человек сказали, что видели меня по телевизору. Я был поражен
— при каких обстоятельствах вы вообще смотрели местный эфир?</p>

<p>Как-то раз был особый день. Праздник День учителя, и вдобавок выпала местная
памятная дата. Мэр объехал все школы, его снимали со всем кем только можно. Весь
вечерний эфир он должен быть в телеящике. Мэр испытывал прямо щенячий восторг,
когда лицезрел себя в эфире.</p>

<p>Итак, собирают праздничный вечерний эфир с мэром. Тут нужно оговориться, что
весь контент на телеканале раздают на лентах. Ни за какие флешки или файлы там
ничего не знают. Не потому что это колхоз, а наоборот. Видео оптимальней всего
хранить на кассетах.</p>

<p>Минута видео в телевизионном DV-качестве занимает один гигабайт. То есть час —
60 гигабайт. На какой-нибудь клип могут наснимать три часа, а на этом компе уже
куча других проектов. Жесткие диски не долговечны. Малейший дефект, и все
гигабайты пропадут. Восстановить их можно будет только в мастерской, и то не
всегда. А лента может осыпаться где-то на середине, на этом месте появятся
артефакты-кубики, но все остальное не пострадает. Я всецело за ленточное
хранение.</p>

<p>Так вот, вечер, из кабинета в кабинет передают кассету, на которую сгоняют
вечерний эфир. В основном новостные сюжеты, снятые утром и смонтированные
днем. Потом студия — ведущая, анонсы, спорт, погода и всякий шлак вроде
спонсоров. Потом реклама. Много рекламы.</p>

<p>Дают мне ленту, я ее вставляю в DV-Cam — такой цифровой проигрыватель,
подсоединенный к компу — и начинаю гнать рекламу. А коллеги по кабинету уже
закончили и играют в Контер-Страйк 1.6. Кричат, убивают, азарт зашкаливает. У
меня аж подгорает, потому что я играл лучше всех, и не терпится к ним
присоединиться. Обычно мы играли так: я против всех остальных. Они толпой вместе
ходят, я вылечу, троих убью, сам помру, но денег на следующий раунд заработаю.</p>

<p>Наконец, записал рекламу, отдал ленту главному режиссеру и скорей в Контру всех
наяривать. Через пять минут заходит режиссер — а где эфир? Сплошная
реклама. Может, смотал не туда? Пошли осматривать ленту. Кончается реклама,
видно, как мэр несет пургу. Это финальные кадры последнего сюжета.</p>

<p>Я затер рекламой все под ноль.</p>

<p>Немая сцена, как у Гоголя. Потом начинается жопа. Все разъехались, пятница
же. Кабинеты режиссеров закрыты. Где у них рабочие кассеты, с которых они
сгоняли — хер поймешь. Народ не берет телефон. Ведущая уехала и уже выпила.</p>

<p>Я испортил работу двадцати человек за весь рабочий день. И ничего не могу
сделать: я ведь не оператор, не режиссер, не ведущий.</p>

<p>Начинаются звонки замдиректору, потом директору, крики, черт знает что. Через
час мэр врубит телек, а показывать нечего. Звонят с телебашни, у них тоже
подгорает, потому что ставить нечего.</p>

<p>Я смутно помню, чем все закончилось, настолько меня накрыло от масштаба
косяка. Вроде бы нашли журналистку, подававшую надежды стать ведущей, и записали
ее. Открыли “консервы” — так называют материал, который смонтировали, но оставили
на будущее. Подняли какие-то архивы с мэром, слепили из говна конфету и на такси
отвезли не телебашню. Утром отбрехались перед директрисой, получили выговор.</p>

<p>С тех пор я всегда проверял, куда смотана лента, перед тем как писать на нее.</p>

<p>Это и был the biggest failure. Как я его исправил? Никак! И это самое
худшее. Коллеги, конечно, сохранили лицо и сработали дружно. Сделали скидку на
неопытность и возраст, но глубоко внутри, наверное, кипели. Пятница, вечер,
праздник, мэр — и так обосраться!</p>

<p>С телеканала меня не уволили. Я отработал там четыре года и ушел сам. Много чего
там случилось, что ни день — то приключение. Бывало всякое, и хорошее, и
плохое. Но даже воспоминания о плохом приносят приятные чувства.</p>

<p>Там работали настоящие профессионалы, фанатики. Все были гораздо старше меня,
взрослые люди с детьми, были и семейные пары. Я наслаждался их обществом. В плане
взросления один год в таком коллективе шел за три. Если не считать тот случай с
затиранием эфира, мне никто не делал скидок на молодость. Я работал наравне со
всеми, забивал на институт и даже ночевал там, когда горели проекты.</p>

<p>Славное было время. Мне очень повезло повариться на этой кухне. После
регионального телеканала я уже ничего не боялся.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/bullet/">Авто-буллиты</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-10-11T00:00:00+00:00">
        Oct 11, 2018
    </time>

    <a href="/tag/hacks/" rel="tag">hacks</a>

</div>


            <div class="entry">
                
                    <p>Не хватает слов чтобы передать, как меня бесят автоматические списки. Печатаешь
текст, все хорошо, но вот добрался до списка. Набираешь цифру, точку или скобку,
и раз — происходит куча действий, о которых я не просил.</p>

<p>А именно: блок уезжает вправо, рисунок текста становится уродским. Место между
краем страницы и буллитом заполняется табами, невидимыми растяжками и прочим
хламом. Если скопировать такой текст в обычный редактор, придется вычищать это
говно. Наконец, блок становится уже не просто текстом, а некой сущностью со
своим поведением и особенностями.</p>

<p>Конечно, и в Ворде, и в Гугл-доках есть настройки, чтобы отключить
автоформатирование списков, но у меня никогда не было сил их найти. Если в Ворде
еще можно один раз настроить и не вставать, то в Гугле настройки привязаны к
учетной записи, а я их переключаю по пять раз на дню — личный, рабочий, другой
рабочий и так далее.</p>

<p>Поэтому я придумал обратный буллит — не цифра-скобка, а скобка-цифра, вот так:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(1 подготовить документы
(2 создать учетку
(3 написать в блог
</code></pre></div></div>

<p>Аналогично с точкой:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.1 подготовить документы
.2 создать учетку
.3 написать в блог
</code></pre></div></div>

<p>Всякие ворды-гуглы не парсят такую конструкцию и не парят мозг. Если что,
переставить цифру и символ можно заменой по регулярке в любом редакторе.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/npdp/">Новые правила деловой переписки</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-10-10T00:00:00+00:00">
        Oct 10, 2018
    </time>

    <a href="/tag/books/" rel="tag">books</a>

</div>


            <div class="entry">
                
                    <p><img src="/assets/static/bookshelf/dp.jpg" alt="" /></p>

<p>Прочитал “Новые правила деловой переписки” Ильяхова и Сарычевой. Это продолжение
их первой книги “Пиши, сокращай”. На этот раз авторы пишут о том, как составлять
и отвечать на письма.</p>

<p>Я считаю, книга подойдет всем без исключения, потому что правила справедливы не
только для электронной почты. Бывает, мы переписываемся с менеджерами продаж в
Вайбере или коллегами в Телеграме. В электронных письмах мы пишем больше текста,
но суть от этого не меняется.</p>

<p>Центральная тема книги — уважение к адресату и забота о нем. Читатель чувствует
уважение, если тон письма спокойный, вы не давите, не требуете скорейшего
ответа, не пытаетесь манипулировать или скрыть проблему. Вы признаете, что
получатель все понимает и имеет право на собственное решение.</p>

<p>Проблема в том, что многие ребята уверены: если писать “вы” с большой буквы,
лепить “с уважением” и “заранее благодарю”, то уважение получится само
собой. Увы, не получится. Сейчас так пишут все кому не лень — секретарши,
сотрудники поддержки, менеджеры низшего звена. Эти приемчики превратились в
шелуху, шум, который мы автоматически отсекаем.</p>

<p>В самом деле, неужели кто-то обращает внимание, было ли в конце письма “с
уважением” и “вы” с прописной? Читая письмо, адресат интересуется только одним —
решили его проблему или нет. Он и не заметит этих приемчиков, потому что в день
получает по десять писем, усыпанных “уважительными” эпитетами. А вот общий тон
письма, его структуру, отношение автора он почувствует и запомнит навсегда.</p>

<p>Забота о читателе состоит в том, чтобы помочь ему ответить. Наверное, такое с
вами случалось: приходит письмо, задача в целом ясна. Но чтобы ответить, нужно
скачать файлы, слазить в какой-то ресурс, скомпоновать ответ. А в письме вообще
пять вопросов по разным темам. Так и хочется спрятать письмо куда подальше, а при
встрече с коллегой как-то отбрехаться.</p>

<p>Вот что нужно сделать, чтобы получатель почувствовал заботу.</p>

<p><strong>Четко донести мысль.</strong> Письмо не должно быть потоком сознания с финалом “ну ты
разберись как-то теперь”. Должны быть четкие вопросы. Ответ на такой вопрос
подразумевает дату, человека или документ.</p>

<p>Вопросы в письме должны быть <strong>на одну тему.</strong> Если у вас сразу два вопроса на
разные темы, например, обсуждение задачи и проведение корпоратива, нужно послать
два письма.</p>

<p>Приложите в письмо <strong>сразу все файлы</strong>, которые понадобятся адресату для
ответа. У файлов должно быть понятное имя. Картинки должны быть в письме, а не в
архиве. Используйте простой текст, не задавайте размер и цвет
шрифта. Архивировать нужно только очень большие файлы и то при условии, что они
хорошо сжимаются. Например, сжимать видео или картинки нет смысла, потому что
они так уже сжаты. К каждой ссылке добавить описание — что это за файл, какую
информацию из него можно извлечь.</p>

<p>Представьте, что адресат открывает письмо <strong>на телефоне</strong>, например, по дороге
на работу в метро. Что он увидит? Сможет ли просмотреть картинки? Что если
нужный текст зашит в Вордовском файле, который нельзя открыть на телефоне?
Представьте, как будет круто, если уже по пути он поймет задачу и зайдет в
кабинет с готовым решением в голове.</p>

<p>Это были уважение и забота. Но главная заслуга книги в том, что она учит как
снизить градус ненависти в переписке.</p>

<p>У меня было такое сотни раз, да и у вас тоже. Отправляешь код на ревью, в ответ
прилетает сотня комментариев. Все они преисполнены “уважения”: гротескно
вежливы, слащавы, со смайликами на конце. Но почему-то хочется разбить автору
лицо. Цедишь сквозь зубы “сука ты пидорас” и отвечаешь в том же духе: на каждый
его комент — твой комент. Такой же вежливый, со смайликом, конечно-конечно, но
переделывать я не буду. Он, подумав то же самое, отвечает опять и так без
конца. Утром вы встречаетесь на стендапе, жмете руки, расходитесь по комнатам и
все повторяется.</p>

<p>Книга начинается с такой же ситуации. Описан пример, когда менеджер забыл дать
поручение партнерам, но теперь пытается выставить ситуацию так, словно это они
забыли, а он их вежливо пинает. Получается цепочка писем, одно токсичней
другого. Финал — чума на оба дома и оплеухи от директоров.</p>

<p>Всего этого можно было избежать. Как именно — читайте “Новые правила деловой
переписки”.</p>

<p>Думаю, те, кто регулярно пишет, наверняка сами додумались до этих правил,
интуитивно вышли на них. Но книга — это такой универсальный
обобщитель. Прочитайте, обязательно найдете что-то полезное.</p>

<hr />

<p>См. эту и другие книги в разделе <a href="/bookshelf">“книжная полка”</a>.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/etaoin-shrdlu-novel/">Этаоин Шрдлу</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-10-02T00:00:00+00:00">
        Oct 2, 2018
    </time>

    <a href="/tag/books/" rel="tag">books</a>

</div>


            <div class="entry">
                
                    
<p>В детстве у меня был сборник фантастических рассказов. Я до сих пор помню многие
из них: названия, героев, сюжеты. Например, там я впервые прочитал культовый
киберпанковый рассказ <a href="http://lib.ru/INOFANT/WARLI/enter.txt">“Нажмите ввод”</a> и прямо офигел с него. Но
сейчас хочу рассказать про другой, не менее крутой рассказ. Это <a href="http://lib.ru/INOFANT/BRAUN_F/etaoin.txt">“Этаоин
Шрдлу”</a>.</p>

<p>Уже по названию понятно, что интересно, правда же? Это о том, как в редакцию
богом забытого городка явился подозрительный гражданин. Он арендовал печатный
станок — линотип — чтобы отпечатать секретный текст. Затем посетитель исчез,
оставив письмо. В нем он туманно сообщил, что текст был формулой для оживления
машин, и что станок может начать вести себя странно.</p>

<p>А вскоре машина ожила. Сначала она печатала ахинею, а потом стала требовать,
чтобы на ней печатали. В ней появились зачатки разума и характера. Она
переоборудовала сама себя и стала требовать работу — непрерывно печатать книги.</p>

<p>Она назвала себя Этаоин Шрдлу, потому что это было первое, что отпечатал хозяин
после оживления станка. На типографской клавиатуре эти два слова складывались в
ряд.</p>

<p>Поначалу хозяин радовался и рубил бабло, потому что машина работала как вся
городская типография. Но потом понял, что стал рабом станка, весь он требовал
обслуживания, подачи металла. И ведь не пойдешь в полицию — примут за
сумасшедшего или отберут машину. Тут он и обратился к своему корешу.</p>

<p>А кореш смекнул, что машина слепо верит в то, что набирает. Например, отпечатали
на ней трудовой кодекс — она потребовала строгий график с перерывами и
выходными. Но не надолго — отпечатали любовный роман, и потребовала второй
линотип. Тогда кореш отпечатал на ней десять томов буддизма. Станок проникся,
впал в нирвану и на все забил. Приятели раскрутили его до последнего болта и
закопали.</p>

<p><img src="/assets/static/aws/1059232/46335398-f589a000-c62f-11e8-880c-ac78aad690e1.jpg" /></p>

<p>Все это я пишу к тому, что некоторые ребята напоминают Этаоинов — слепо верят в
то, что читают.</p>

<p>Начали учить Хаскелл — теперь ООП говно, чистые функции спасут мир. Читать
файл только из монады. На каждую сущность — алгебраический тип. Чем это лучше
идеи, что на каждую сущность по классу? Класс коннектор, класс коннекшен, класс
эксепшен. Да то же самое.</p>

<p>Сели за машин-лернинг — теперь везде у них ML. Верстка нейросетью по
картинке. Плевать, что на выходе говно, зато нейросеть. Программировать тоже
будут сети. Сумасшедшие прогнозы, что таксистов и охранников отправят на
биомассу, а нас, ИЛИТУ, будут обслуживать роботы.</p>

<p>Или биткоины. Тут я воздержусь от комментариев, потому что ничего приличного
сказать не могу.</p>

<p>Не надо так. Все прочитанное нужно проверять практикой. Тогда выяснится, что
Хаскелл вымораживает мозг хуже Джаваскрипта. Что простейший классификатор по
Байесу или Фишеру работает лучше, чем нейросеть. Что база Биткоина требует 180
гигабайт и 3 дня на выкачивание, и если хранить кошелек на удаленном сервере, то
это ничем не отличается от Вебмани. Еще на них ничего не купишь.</p>

<p>Критичнее надо, критичнее. И побольше практики.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/user-agent/">User-Agent parser for Clojure</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2018-09-29T00:00:00+00:00">
        Sep 29, 2018
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    
<p>Today, I detached another chunk of my codebase into a <a href="https://github.com/igrishaev/user-agent">separate library</a>. This time, it is for parsing User-Agent headers with Clojure. For a long time, I’ve been copying it from project to project, but now I decided to keep it aside from the code because it is not connected to the business logic. All the technical stuff that is not related to the very problem we are trying to solve should be kept as a separate library, I believe. The main code is all about the business problem.</p>

<p>The library ships only one function, which is <code class="language-plaintext highlighter-rouge">parse</code>. It takes a string and returns a detailed map with information about the browser’s type, its version, manufacturer, operating system, etc. The library relies on good old Java <a href="http://uadetector.sourceforge.net/">UA Detector</a> with the latest set of patterns. I know, there are already some solutions for that. But they either do not provide full information about a user or maintainers do not accept pull requests.</p>

<p>Add it to your project:</p>

<div class="language-clojure highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">:dependencies</span><span class="w"> </span><span class="p">[[</span><span class="n">user-agent</span><span class="w"> </span><span class="s">"0.1.0-SNAPSHOT"</span><span class="p">]]</span><span class="w">
</span></code></pre></div></div>

<p>Usage:</p>

<div class="language-clojure highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">some.ns</span><span class="w">
  </span><span class="p">(</span><span class="no">:require</span><span class="w"> </span><span class="p">[</span><span class="n">user-agent</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">ua</span><span class="p">]))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">ua-sample</span><span class="w">
  </span><span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ua/parse</span><span class="w"> </span><span class="n">ua-sample</span><span class="p">)</span><span class="w">

</span><span class="p">{</span><span class="no">:producer</span><span class="w"> </span><span class="s">"Google Inc."</span><span class="w">
 </span><span class="no">:family</span><span class="w"> </span><span class="no">:CHROME</span><span class="w">
 </span><span class="no">:name</span><span class="w"> </span><span class="s">"Chrome"</span><span class="w">
 </span><span class="no">:type</span><span class="w"> </span><span class="no">:BROWSER</span><span class="w">
 </span><span class="no">:icon</span><span class="w"> </span><span class="s">"chrome.png"</span><span class="w">
 </span><span class="no">:producer-url</span><span class="w"> </span><span class="s">"http://www.google.com/"</span><span class="w">
 </span><span class="no">:url</span><span class="w"> </span><span class="s">"http://www.google.com/chrome"</span><span class="w">
 </span><span class="no">:device</span><span class="w"> </span><span class="p">{</span><span class="no">:category</span><span class="w"> </span><span class="no">:PERSONAL_COMPUTER</span><span class="w">
          </span><span class="no">:name</span><span class="w"> </span><span class="s">"Personal computer"</span><span class="p">}</span><span class="w">
 </span><span class="no">:os</span><span class="w">
 </span><span class="p">{</span><span class="no">:family</span><span class="w"> </span><span class="no">:OS_X</span><span class="w">
  </span><span class="no">:family-name</span><span class="w"> </span><span class="s">"OS X"</span><span class="w">
  </span><span class="no">:name</span><span class="w"> </span><span class="s">"OS X"</span><span class="w">
  </span><span class="no">:producer</span><span class="w"> </span><span class="s">"Apple Computer, Inc."</span><span class="w">
  </span><span class="no">:producer-url</span><span class="w"> </span><span class="s">"http://www.apple.com/"</span><span class="w">
  </span><span class="no">:url</span><span class="w"> </span><span class="s">"http://en.wikipedia.org/wiki/Mac_OS_X"</span><span class="w">
  </span><span class="no">:version</span><span class="w">
  </span><span class="p">{</span><span class="no">:bug-fix</span><span class="w"> </span><span class="s">"6"</span><span class="w">
   </span><span class="no">:extension</span><span class="w"> </span><span class="s">""</span><span class="w">
   </span><span class="no">:groups</span><span class="w"> </span><span class="p">[</span><span class="s">"10"</span><span class="w"> </span><span class="s">"11"</span><span class="w"> </span><span class="s">"6"</span><span class="p">]</span><span class="w">
   </span><span class="no">:major</span><span class="w"> </span><span class="s">"10"</span><span class="w">
   </span><span class="no">:minor</span><span class="w"> </span><span class="s">"11"</span><span class="w">
   </span><span class="no">:version</span><span class="w"> </span><span class="s">"10.11.6"</span><span class="p">}}</span><span class="w">
 </span><span class="no">:type-name</span><span class="w"> </span><span class="s">"Browser"</span><span class="w">
 </span><span class="no">:version</span><span class="w">
 </span><span class="p">{</span><span class="no">:bug-fix</span><span class="w"> </span><span class="s">"3396"</span><span class="w">
  </span><span class="no">:extension</span><span class="w"> </span><span class="s">""</span><span class="w">
  </span><span class="no">:groups</span><span class="w"> </span><span class="p">[</span><span class="s">"67"</span><span class="w"> </span><span class="s">"0"</span><span class="w"> </span><span class="s">"3396"</span><span class="w"> </span><span class="s">"99"</span><span class="p">]</span><span class="w">
  </span><span class="no">:major</span><span class="w"> </span><span class="s">"67"</span><span class="w">
  </span><span class="no">:minor</span><span class="w"> </span><span class="s">"0"</span><span class="w">
  </span><span class="no">:version</span><span class="w"> </span><span class="s">"67.0.3396.99"</span><span class="p">}}</span><span class="w">
</span></code></pre></div></div>

<p>It supports plenty of desktop and mobile browsers as well as unusual ones like bots, crawlers or TVs. Hope you’ll enjoy it, your suggestions and PR’s are welcome.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page18" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 19 из 60</span>
        
        <a href="/page20" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
