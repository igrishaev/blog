<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page19/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/pascal-exercises/">Задачник по Паскалю</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-05-15T00:00:00+00:00">
        May 15, 2023
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/pascal/" rel="tag">pascal</a>

</div>


            <div class="entry">
                
                    <p>В сотый раз повторяется одно и то же. Человек учит язык — неважно Питон, Кложу,
что угодно — и спрашивает: посоветуйте задачки. Ему кидают ссылки на Exercism,
Project Euler и похожие сайты. Мой ответ не меняется годами: покупаешь задачник
по Турбо-Паскалю за 300 рублей и решаешь на своей Кложе, Питоне или PHP. Или
просто качаешь из интернета первый попавшийся.</p>

<p>Думаете, кто-то так делает? Конечно, нет. Мало того, поднимается драма: как так,
у нас современные языки, а ты со своим Паскалем! Оставь дерьмо мамонта в покое.</p>

<p>Сколько себя помню, всегда поражала эта избирательность. Эти задачи буду решать,
а эти не буду. Эти современные и хорошие, а эти старые. Иной раз мне доказывают,
мол, концепции Паскаля плохо ложатся на Кложу, поэтому решать их неудобно.</p>

<p>Я аж представил себе. Начальство: Иван, вот тебе задача, надо сделать то и
это. А я такой: ребята, она плохо ложится на концепцию языка, не буду делать. А
они: конечно, дорогой, вот задача получше, а эту делать не будем. Исправим,
чтобы ложилась.</p>

<p>Думаю, ясно, что решать надо все задачи. В том числе те, что в старых
учебниках. А почему именно из учебников, тому следуют пункты.</p>

<ul>
  <li>
    <p>Сразу много задач. Купив сборник, вы получите не две-три интересных задачки, а
две-три сотни.</p>
  </li>
  <li>
    <p>Если это толковый сборник, задачи в нем собраны по разделам: арифметика,
циклы, массивы, связные списки, файлы, графика и так далее. В каждом разделе
задачи идут по нарастанию сложности. Это позволит набить руку в той теме, где
вы плаваете.</p>
  </li>
  <li>
    <p>Поскольку задачи составлены для школьников и студентов, они перекликаются с
учебной программой. Решая задачи, вы заодно ее подтяните.</p>
  </li>
</ul>

<p>Примеры задач, которые можно сделать на любом языке:</p>

<ul>
  <li>
    <p>квадратное уравнение. По коэффициентам a, b, c найти корни или сообщить, что
их нет.</p>
  </li>
  <li>
    <p>игра “угадай число”. Компьютер загадывает число от 0 до 100, ваша задача —
угадать его. На ваши попытки компьютер отвечает “нет, больше”, “нет, меньше”
или “угадал”.</p>
  </li>
  <li>
    <p>пересечение прямоугольников, точки и окружности по их координатам</p>
  </li>
  <li>
    <p>задачи на массивы и связные списки, чтобы лучше понимать коллекции</p>
  </li>
  <li>
    <p>графики, исследование функций.</p>
  </li>
  <li>
    <p>запись данных о сотруднике в файл и их чтение.</p>
  </li>
</ul>

<p>Что из этого плохо ложится на современный язык? Может, за “не хочу” стоит “не
могу” или “лень вспоминать”?</p>

<p>Какой смысл открывать условный Exercism, регистрироваться, подтверждать почту,
отписываться от рассылки? Чтобы что? Я уже накидал задач на неделю, сиди
решай. В учебнике их на год. Что ты хочешь найти? Чего не хватает?</p>

<p>Наконец, еще один пункт в пользу сборника задач — это работа с книгой. Не знаю
как это работает, но бумажная книга эффективней, чем тупление в монитор. Для
меня это совершенно очевидно. Скорей всего, включается другой отдел мозга, но
объяснение не так важно.</p>

<p>Изучать язык тяжело. Красивые сайты пытаются это скрыть или развлечь
пользователя, потому что их цель — донаты и показ рекламы. У задачника этой цели
нет. Это более хардкорный вариант, но тем он и лучше.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/msg-call/">Звонки в мессаджерах</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-05-09T00:00:00+00:00">
        May 9, 2023
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/mobile/" rel="tag">mobile</a>, <a href="/tag/telegram/" rel="tag">telegram</a>

</div>


            <div class="entry">
                
                    <p>Совет — чтобы не бесить людей, звоните на обычный мобильный. Не в Телеграм, не в
Ватсап и не Вайбер. Мало что раздражает так сильно, как звонки в какой-то
программе.</p>

<p>Только что звонил родственник в Телеграме. Это просто п..здец, простите. У меня
три устройства: телефон, ноут, комп. Все три одновременно завыли, на каждом
распахнулось окно. Ощущение, что воздушная тревога. Через две секунды вызов на
телефоне пропал, но продолжился на ноуте. Что происходит?</p>

<p>То же самое с Ватсапом. Сидишь, быдлокодишь под музыку, весь в себе. Внезапно
подскакиваешь от звонка и окна на весь экран. Просто издевательство.</p>

<p>Даже если не обращать на это внимание, есть важный момент. У звонков в Телеграме
и иже с ним ужасное качество. Звук пропадает, сыпется, словом — гораздо хуже
мобильной связи.</p>

<p>Причина в том, как устроены звонки в приложениях. Каждое из них звонит на
местный номер. Там сервер, который заворачивает звук в трафик и шлет куда-то
далеко. Оттуда он направляется в страну получателя, и ему звонят с местного
номера. Получается звонок с местного на местный с целой пропастью
посередине. Даже если собеседники в одном здании, маршрут выходит изрядный.</p>

<p>Конечно, при звонке из России в условную Турцию вариантов не остается — не
платить же опсосу по 70 рублей за минуту. Здесь Телеграм и Ватсап выручают. Но
удивляют нищеброды-соседи или знакомые из твоего города, которые упорно звонят
из приложения. Зачем? Чтобы сэкономить пять минут? Они везде идут пакетами, что
там экономить? Хуже пенсионеров, честное слово.</p>

<p>Раздражает еще то, что на Айфоне последние номера хранятся с учетом
приложения. Например, когда мне звонят с Ватсапа, я сбрасываю и перезваниваю с
мобильного. Но если нажать на последний вызов, выскочит проклятый
Ватсап. Приходится заходить в контакт и жать на тот же номер с мобильным типом.</p>

<p>Раз и навсегда: для связи внутри страны — только мобильная связь. Мессенджеры —
если вы в разных странах или важна приватность, причем по обоюдному согласию. В
остальном звонить из приложения — днище и зашквар. Объясните, пожалуйста, тем,
кто этого не понимает.</p>

<p>PS: в Телеграме можно запретить входящие звонки всем или с учетом контактов. В
других программах, кажется, это невозможно.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/pg-lib/">PG: Postgres-related libraries for Clojure</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-05-06T00:00:00+00:00">
        May 6, 2023
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/postgres/" rel="tag">postgres</a>

</div>


            <div class="entry">
                
                    
<p>The <a href="https://github.com/igrishaev/pg">PG project</a> holds a set of packages related to PostgreSQL. This is a
breakdown of my unsuccessful attempt to write a PostgreSQL client in pure
Clojure (stored in the <code class="language-plaintext highlighter-rouge">_</code> directory). Although I didn’t achieve the goal, some
parts of the code are now shipped as separated packages and might be useful for
someone.</p>

<p>At the moment, the most interesting modules are <code class="language-plaintext highlighter-rouge">pg-copy</code> and <code class="language-plaintext highlighter-rouge">pg-copy-jdbc</code>
that <code class="language-plaintext highlighter-rouge">COPY</code> the data using the binary Postgres format which is faster than CSV.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<h2>

    

</h2>

<ul id="toc-item-pg-lib-en">
  <li><a href="#table-of-contents" id="toc-item-pg-lib-en-table-of-contents">Table of Contents</a>    <ul>
      <li><a href="#pg-common" id="toc-item-pg-lib-en-pg-common">pg-common</a>        <ul>
          <li><a href="#installation" id="toc-item-pg-lib-en-installation">Installation</a></li>
          <li><a href="#usage" id="toc-item-pg-lib-en-usage">Usage</a></li>
        </ul>
      </li>
      <li><a href="#pg-encode" id="toc-item-pg-lib-en-pg-encode">pg-encode</a>        <ul>
          <li><a href="#installation-1" id="toc-item-pg-lib-en-installation-1">Installation</a></li>
          <li><a href="#usage-1" id="toc-item-pg-lib-en-usage-1">Usage</a></li>
          <li><a href="#type-specific-encoding" id="toc-item-pg-lib-en-type-specific-encoding">Type-specific encoding</a></li>
          <li><a href="#table-of-supported-types-and-oids" id="toc-item-pg-lib-en-table-of-supported-types-and-oids">Table of supported types and OIDs</a></li>
          <li><a href="#extending-the-encoding-rules" id="toc-item-pg-lib-en-extending-the-encoding-rules">Extending the encoding rules</a></li>
          <li><a href="#default-oids" id="toc-item-pg-lib-en-default-oids">Default OIDs</a></li>
        </ul>
      </li>
      <li><a href="#pg-joda-time" id="toc-item-pg-lib-en-pg-joda-time">pg-joda-time</a>        <ul>
          <li><a href="#installation-2" id="toc-item-pg-lib-en-installation-2">Installation</a></li>
          <li><a href="#usage-2" id="toc-item-pg-lib-en-usage-2">Usage</a></li>
          <li><a href="#table-of-types-and-oids" id="toc-item-pg-lib-en-table-of-types-and-oids">Table of Types and OIDs</a></li>
        </ul>
      </li>
      <li><a href="#pg-copy" id="toc-item-pg-lib-en-pg-copy">pg-copy</a>        <ul>
          <li><a href="#installation-3" id="toc-item-pg-lib-en-installation-3">Installation</a></li>
          <li><a href="#usage-3" id="toc-item-pg-lib-en-usage-3">Usage</a></li>
          <li><a href="#oid-hints" id="toc-item-pg-lib-en-oid-hints">OID hints</a></li>
          <li><a href="#hints-in-metadata" id="toc-item-pg-lib-en-hints-in-metadata">Hints in metadata</a></li>
          <li><a href="#working-with-maps" id="toc-item-pg-lib-en-working-with-maps">Working with maps</a></li>
          <li><a href="#other-functions" id="toc-item-pg-lib-en-other-functions">Other functions</a></li>
        </ul>
      </li>
      <li><a href="#pg-copy-jdbc" id="toc-item-pg-lib-en-pg-copy-jdbc">pg-copy-jdbc</a>        <ul>
          <li><a href="#installation-4" id="toc-item-pg-lib-en-installation-4">Installation</a></li>
          <li><a href="#usage-4" id="toc-item-pg-lib-en-usage-4">Usage</a></li>
          <li><a href="#parallel-copy" id="toc-item-pg-lib-en-parallel-copy">Parallel COPY</a></li>
          <li><a href="#measurements" id="toc-item-pg-lib-en-measurements">Measurements</a>            <ul>
              <li><a href="#plain-copy" id="toc-item-pg-lib-en-plain-copy">Plain COPY</a></li>
              <li><a href="#parallel-copy-1" id="toc-item-pg-lib-en-parallel-copy-1">Parallel COPY</a></li>
              <li><a href="#summary" id="toc-item-pg-lib-en-summary">Summary</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


                    <p><a href="/en/pg-lib/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/own/">Свое</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-05-02T00:00:00+00:00">
        May 2, 2023
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>Иногда в фирме пишут велосипеды даже с учетом того, что есть открытые
библиотеки. Раньше я по-разному к этому относился, а теперь пришел к
компромиссу.</p>

<p>С одной стороны, кустарные поделки напрягают меня как разработчика. Устраиваясь
в фирму, меньше всего хочется встретить свою ORM, свой роутинг или шаблонную
систему. Обычно это глючный код, написанный по принципу “потому что
можем”. Хочется работать с популярными библиотеками, у которых документация,
сообщество, канал в Слаке.</p>

<p>С другой стороны, свои решения продвигают фирму на рынке и в сообществе. Это
привлекает разработчиков, служит рекламой, упрощает найм. В вакансиях можно
указать, что задание должно быть сделано именно на этих библиотеках, потому что
на них построены решения фирмы.</p>

<p>Правда, чтобы это работало, фирма должна как можно раньше выкладывать свои
решения в open source. Это то же самое, что с ребенком: если вечно держать его
взаперти, будет вред. Библиотека должна быть на Гитхабе, должно быть сообщество,
словом — фирма должна как можно сильнее пиарить свой код, чтобы считаться
центром идей в своей области. И программисты будут в нее стремиться.</p>

<p>Удивляет порой, что у фирмы есть неплохие решения, но они киснут в приватных
репозиториях — без документации, без развития. Что бы не выложить их в паблик? Я
вообще не припомню кода, который нельзя было бы опубликовать именно по причине
кражи бизнеса. За любым кодом стоит понимание его командой и видение
будущего. Скачав исходники Яндекса вы не сделаете новый Яндекс. Единственное
опасение — это ошибки и низкий уровень кода, за который стыдно. Именно это и
лечит open source: его код сразу готов к жизненным трудностям.</p>

<p>Бесит, когда делаешь тестовое задание на популярных библиотеках, а в команде
говорят: забудь, чему тебя учили, у нас своя атмосфера. Ребят: свою атмосферу
нужно проталкивать вовне! Задавать стандарты, вовлекать людей, а не держать в
тайне от мира. Вы что-то скрываете, а скрывать нечего.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/prog-level/">Уровень</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-04-30T00:00:00+00:00">
        Apr 30, 2023
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>Пока мир сходит с ума по искусственному интеллекту, всплакну о низком уровне
разработчиков. Подкатило, нужно выплеснуть.</p>

<p>Ситуация: разработчик пишет функцию <code class="language-plaintext highlighter-rouge">get-by-id</code>, чтобы достать сущность из
базы. Не моргнув глазом, он передает ее в <code class="language-plaintext highlighter-rouge">map</code> на пять тысяч элементов. Это, на
минутку, один запрос, а запросов может десятки в секунду. Подобные вещи
приходится ловить в code review и объяснять, что один запрос лучше, чем пять
тысяч.</p>

<p>Идет 2023 год, а программисты пишут SQL конкатенацией строк. В порядке вещей код
на два экрана с <code class="language-plaintext highlighter-rouge">format</code>, <code class="language-plaintext highlighter-rouge">str</code> и <code class="language-plaintext highlighter-rouge">join</code>, который ни понять, ни
отладить. Полученный запрос уходит в базу, и дай бог, чтобы оно работало. Если
передать nil или пустой список, получим битый SQL, потому что автор этого не
предусмотрел. И конечно, инъекции во все поля.</p>

<p>Почему-то программисты не могут записать и получить данные из базы. Им нужна
ORM, и чтобы она сразу мапилась на REST. Получается километр глючного кода без
документации и поддержки. Автор ORM отлынивает от задач под видом ее
доработки. Часть команды уходит в партизаны: работают с базой через SELECT и
UPDATE в обход ORM. Так спокойней, главное чтобы автор ORM не зашел в
пулл-реквест.</p>

<p>Разработчики игнорируют линтеры. Проект уже не раз сменил команду, люди пишут в
разных редакторах, и ни у кого он толком не настроен. Кривые отступы, экраны
закомментированного кода, неиспользуемые импорты и переменные. Это в порядке
вещей.</p>

<p>Программисты не доводят дело до конца, хотя в бóльшей степени это упрек
руководству. Например, у кого-то задача, чтобы была документация
Swagger. Человек пишет генератор json-файла, покрывает тестами, все
готово. Осталось захостить, чтобы документацию увидели клиенты. Но прилетает
горящая задача или девопс-инженер уходит в отпуск. В итоге документация есть, но
ее никто не видит. Задача не достигнута, время потрачено зря, но это никого не
смущает. Недостигнутые цели я вижу постоянно.</p>

<p>Сюда же относятся висящие пул-реквесты. Открываешь борду и видишь у кого пять, а
у кого семь пул-реквестов. Зачем программист писал код, если его не принимают?
Если бы он смотрел Ютуб, эффект был бы тот же. Почти во всех системах можно
задать auto-expire, не говоря уж о ботах, которых полно.</p>

<p>Беда с локальным окружением. Программисту лень потратить день на
<code class="language-plaintext highlighter-rouge">docker-compose.yaml</code>, чтобы сервисы работали локально. Приходится объяснять,
что локальный ресурс лучше стейджинга где-то в Амазоне.</p>

<p>Иной программист генерит айдишники для базы вручную. Берет рандом от 0 до 9999 и
густо перчит номером треда, числом миллисекунд и фазой Луны. И это работает в
проде.</p>

<p>Программисты любят кокетничать, что уперлись в базу: терабайты данных, не
вывозит нагрузку, все дела. При этом в базу уходят кривейшие запросы, а сама она
превратилась в свалку, потому что там хранят кэш, логи S3 и черт знает что.</p>

<p>У программистов туго с отладкой. Под отладкой я имею в виду остановку кода на
середине, чтобы выяснить локальные переменные. Это могут единицы. Остальные либо
ставят принты и мотают экраны логов, либо вообще сдаются. Иные заявляют, что в
божественной Кложе отладчик не нужен. Это вообще за гранью.</p>

<p>И наконец, главное: карго-культ. Так писали до нас, так пишем и мы. Кривой
нейминг? Дурацкая организация кода? Ничего, консистенси важнее. И хотя прошлый
разраб видел Кложу второй раз в жизни, все следуют его бредовым начинаниям.</p>

<p>Все это я видел даже когда писал на Дельфи и 1С до прихода в промышленную
разработку. Меняются лица, а косяки остаются с нами. Конечно, я их тоже
совершал, но будучи записанными, они переживаются легче.</p>

<p>Все, отпустило, работаем дальше.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/gpt-help/">Помощь Chat GPT</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-04-18T00:00:00+00:00">
        Apr 18, 2023
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ai/" rel="tag">ai</a>, <a href="/tag/chat-gpt/" rel="tag">chat-gpt</a>, <a href="/tag/latex/" rel="tag">latex</a>

</div>


            <div class="entry">
                
                    <p>Сегодня я столкнулся с “помощью” Chat GPT, а точнее — его необдуманным применением.</p>

<p>Я немного занимаюсь Латехом, и когда верстал книгу, решал массу технических вопросов. Что-то вышло изящно, а что-то нет: работает, но коробит душу. Хочу закрыть эти недостатки в будущем.</p>

<p>Добрые люди подсказали группу в Телеграме, где тусят любители Латеха. Зашел туда и задал наболевший вопрос про жирный шрифт в minted. Через какое-то время один пользователь (судя по био, женщина), скинула ответ с примером на Латехе. Я горячо поблагодарил и побежал пробовать.</p>

<p>Запускаю — ошибка, что нет такого-то свойства. Ладно, думаю, устарели пакеты. Обновил все под чистую. Запускаю — то же самое. Что же это за свойство? Полез в документацию пакета, а там его вообще нет. Пакет ничего не знает об этом свойстве.</p>

<p>Посмотрел на ответ свежим взглядом и понял — это Chat GPT (вчера вечером мозги были уже не те). Во-первых, в нем повествовательный стиль: “обратите внимание”, “вы можете” и так далее. От первого лица в Телеграме так не пишут. Во-вторых, в копипасте я нашел артефакты, свойственные интерфейсу Chat GPT. В частности, название языка перед участком кода (python, latex). Их всегда забывают вычистить при копировании ответа целиком.</p>

<p>Что тут можно сказать? История не нова. Помните сервисы вопросов и ответов на Яндексе и Мейл.ру? Раньше домохозяйки копировали с Википедии. Теперь то же самое, только научились пользоваться Chat GPT. Понимаю, почему на StackOverflow запретили им пользоваться — можно засрать сервис нерабочим кодом без какой-либо ответственности.</p>

<p>Лишний раз убеждаюсь в том, <a href="/ai/">о чем писал недавно</a>. Chat GPT — это никакой не интеллект. Это языковая модель, которая производит текст, максимально близкий к вопросу. Ей неважно, работает код или нет, у нее другие метрики. А мне, наоборот, важно. Мне платят за код, который не только <strong>выглядит</strong> хорошо, но и <strong>работает</strong> хорошо. Единственный способ проверить код — запустить его и предъявить результат работы. Этого Chat GPT не может, и поэтому мне с ним не по пути.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/dropdowns/">Выпадашки</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-04-10T00:00:00+00:00">
        Apr 10, 2023
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/dropdown/" rel="tag">dropdown</a>

</div>


            <div class="entry">
                
                    <p>Бич современного интерфейса — это выпадающие элементы, которые я называю “выпадашками”. Часто упоминаю их, когда пишу об интерфейсе, и вот пора сделать отдельный пост.</p>

<p>Я не люблю выпадашки по одной причине: почти всегда в интерфейсе хватает места, чтобы уместить скрытые элементы. Непонятно почему дизайнер прячет их от меня, оставляя три точки или гамбургер. Приходится кликать, чтобы узнать, что под ними.</p>

<p>Типичный пример — форма комментариев на Хабре. Действие “Ответить” выражено текстом, к этому вопросов нет. Затем идет иконка закладки. Далее выпадашка, под которой ссылка, редактирование и жалоба. Зачем было их прятать? Места хватит и для иконок, и для текстовых ссылок.</p>

<p><img src="/assets/static/aws/dropdown/1.png" /></p>

<p>Пользуясь случаем, замечу, что у выпадашки адская разреженность. Ее можно было сжать в два раза без какого-либо ущерба.</p>

<p>Другой пример — форма закладок на том же Хабре. Закладки бывают двух типов: статьи и комментарии. Почему переключалка сделана в виде выпадашки? Что мешало расположить элементы по горизонтали: Статьи / Комментарии?</p>

<p><img src="/assets/static/aws/dropdown/2.png" /></p>

<p>Выпадашки пришли к нам с мобильных устройств. Там мало места, поэтому приходится что-то прятать. Но почему пользователь десктопа должен страдать? Кому-то лень добавить проверку на разрешение или прописать стиль. В итоге на мониторе места столько, что влезет несколько страниц книги, но кнопки спрятаны под выпадашку.</p>

<p>Впрочем, и на Айпаде я видал интерфейсы, когда на весь экран пустота и в правом верхнем углу жалкое многоточие.</p>

<p>Из недавнего: в англоязычной Википедии обновился интерфейс. Конечно, самое нужное убрали под выпадашку. Если раньше на язык достаточно было кликнуть, то теперь он заботливо спрятан в выпадающее меню.</p>

<p><img src="/assets/static/aws/dropdown/3.png" /></p>

<p>Выпадашки ради выпадашек. У меня есть инструмент — значит, воспользуюсь, неважно нужен он или нет. К сожалению, сегодня для выпадашки даже не нужен Джаваскрипт, хватает обычного CSS, и это только усугубляет положение.</p>

<p>С ростом экрана дизайнер не знает, как им воспользоваться. Поэтому искусственно раздувает интерфейс: больше отступы, крупнее иконки, половину кнопок под выпадашку. Скрытая профессиональная импотенция.</p>

<p>Обычно желаешь таким дизайнерам всяческих наказаний, но сейчас у меня хорошее настроение, и хотелось бы закончить на позитивной ноте. Если вы дизайнер интерфейсов и часто пользуетесь выпадашкой — займитесь  физическим и печатным дизайном. У предметов и бумаги почти не бывает выпадающих элементов, а если они и есть, то их тяжело и дорого делать: во-первых, дольше процесс, а во-вторых, оторвутся на раз-два.</p>

<p>Со временем придет ясность, что все элементы можно расположить, не пряча один под другой. Но это требует усилий над собой.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/en/lambda/">Clojure + GraalVM framework for AWS Lambda</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-04-07T00:00:00+00:00">
        Apr 7, 2023
    </time>

    <a href="/tag/clojure/" rel="tag">clojure</a>, <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/aws/" rel="tag">aws</a>, <a href="/tag/lambda/" rel="tag">lambda</a>, <a href="/tag/graalvm/" rel="tag">graalvm</a>

</div>


            <div class="entry">
                
                    
<p><a href="https://github.com/igrishaev/lambda">Lambda</a> is a small framework to run AWS Lambdas compiled with Native Image.</p>

<h3 id="motivation--benefits">Motivation &amp; Benefits</h3>

<p>There are a lot of Lambda Clojure libraries so far: a <a href="https://clojars.org/search?q=lambda">quick search</a> on
Clojars gives several screens of them. What is the point of making a new one?
Well, because none of the existing libraries covers my requirements, namely:</p>

<ul>
  <li>I want a framework free from any Java SDK, but pure Clojure only.</li>
  <li>I want it to compile into a single binary file so no environment is needed.</li>
  <li>The deployment process must be extremely simple.</li>
</ul>

<p>As the result, <em>this</em> framework:</p>

<ul>
  <li>Depends only on Http Kit and Cheshire to interact with AWS;</li>
  <li>Provides an endless loop that consumes events from AWS and handles them. You
only submit a function that processes an event.</li>
  <li>Provides a Ring middleware that turns HTTP events into a Ring handler. Thus,
you can easily serve HTTP requests with Ring stack.</li>
  <li>Has a built-in logging facility.</li>
  <li>Provides a bunch of Make commands to build a zipped bootstrap file.</li>
</ul>

<h3 id="installation">Installation</h3>

<p>Leiningen/Boot:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[com.github.igrishaev/lambda "0.1.1"]
</code></pre></div></div>

<p>Clojure CLI/deps.edn:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com.github.igrishaev/lambda {:mvn/version "0.1.1"}
</code></pre></div></div>


                    <p><a href="/en/lambda/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/ai/">Заменят ли ИИ разработчиков и почему? Если да, то на каких задачах?</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-04-04T00:00:00+00:00">
        Apr 4, 2023
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/ai/" rel="tag">ai</a>

</div>


            <div class="entry">
                
                    <p><em>Меня попросили ответить на вопросы из заголовка. Думал, будет абзац, но как обычно вышла простыня. Впрочем, мысли об ИИ были уже давно, и это отличный повод собрать их в статью.</em></p>

<p>Что ж, если коротко, то нет: ИИ, который у нас сегодня, не заменит программистов. Волноваться незачем, продолжайте работу. Если вы учитесь на программиста и испытываете тревогу, успокойтесь и продолжайте. Никакие чаты и боты программистам не угрожают. А также журналистам, учителям и вообще — любым профессионалам своего дела.</p>

<p>Да, про ИИ говорят и пишут из каждого утюга. Но важно знать, что информационная волна всегда сильнее повода, который ее вызвал. Изданиям нужен трафик, а люди склонны экстраполировать: если сегодня бот написал Тетрис, то через год он сделает Киберпанк. Увы, это не так.</p>

<p>Причина моего скепсиса в том, что все помощники и боты слабы в деталях. У меня есть колонка Яндекса, она прекрасно играет музыку и говорит погоду. Но ее крайне легко ввести в ступор. Например, играет песня, и я хочу послушать альбом, которому она принадлежит (пусть даже первый, если их несколько). Однако этой функции не предусмотрено: какую бы фразу я ни высказал — перейди к альбому, включи альбом, из какого это альбома, — Алиса не понимает. Хотя в мобильном приложении это одна кнопка “show album”.</p>


                    <p><a href="/ai/">Read more &rarr;</a></p>
                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/the-same/">Такой же</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-03-27T00:00:00+00:00">
        Mar 27, 2023
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Наверное, вы слышали вопрос о корабле, заданный еще до нашей эры. Если постепенно заменить в корабле все детали, будет ли это тот самый корабль?</p>

<p>Проблема в том, что на вопрос отвечают, не разобравшись с определениями. Если не договориться, что значит “тот же самый”, можно спорить весь день, имея в виду не то, о чем думает оппонент.</p>

<p>В программировании эта проблема известна: равенство не означает “то же самость”. В современных языках есть отдельные операторы для сравнения указателей и сравнения значений. Хорошие языки пытаются избежать путаницы и сводят две эти вещи к одной. Например, если коллекции неизменяемы, то их можно сравнить в лоб, не заботясь о ссылках. Кроме того, хеш неизменяемой коллекции рассчитывается один раз при создании. Из-за этого сравнение не делает полный обход, а сводится к равенству двух чисел.</p>

<p>Еще один довод в адрес “то же самости” — это мы сами. Тело человека обновляется постоянно. Скелет меняется за три года, а у кожи, волос и ногтей срок исчисляется днями. Жидкости поступают и выходят.</p>

<p>Мы сегодня и мы три года назад — это разный набор атомов. Тот человек, что изображен в паспорте, уже сотни раз обновил каждую клетку организма. Однако ни у кого нет сомнений, что человек в паспорте и вы — один и тот же. Просто потому что так удобней.</p>

<p>Поэтому и корабль, в котором обновили все доски, тот же самый. Если, конечно, понимать под “тем же самым” то, что удобно большинству.</p>

<p>Забавный эпиграф к библиотеке re-frame8:</p>

<blockquote>
  <p>This, milord, is my family’s axe. We have owned it for almost nine hundred years, see. Of course, sometimes it needed a new blade. And sometimes it has required a new handle, new designs on the metalwork, a little refreshing of the ornamentation … but is this not the nine hundred-year-old axe of my family? And because it has changed gently over time, it is still a pretty good axe, y’know. Pretty good.</p>
</blockquote>

<p>Вкратце: господин, этот топор служит нашей семье девять столетий. Иногда ему меняли рукоять, а иногда клинок. Но поскольку это делали постепенно, это все тот же топор.</p>

<p>В этом и проявляется забавное свойство “той  же самости”: если ее размазать по времени, предмет будет тем же самым (менять ручку и клинок раз в сто лет). Если потерять топор и заказать новый, это будет другой топор.</p>

<p>Принцип плавных изменений очень полезен. Например, ничто не бесит так сильно, как внезапное обновление интерфейса. Хорошо, когда его плавно меняют в нужном русле.</p>

<p>Команда может саботировать новые правила, если их слишком много. Внедряйте по одному с интервалом в месяц.</p>

<p>Добавить линтер в огромную кодовую базу кому-то покажется невозможным. А нужно всего ничего: задать список путей, которые подвергаются линтингу, и плавно его наращивать.</p>

<p>В завершение — пазл, который висит у меня на стене (Яцек Йерка):</p>

<p><img src="/assets/static/aws/same/1.jpeg" /></p>


                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page18" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 19 из 80</span>
        
        <a href="/page20" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
