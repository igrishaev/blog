<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/page21/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/update-observation/">Наблюдение</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/update/" rel="tag">update</a>, <a href="/tag/software/" rel="tag">software</a>

</div>


            <div class="entry">
                
                    <p>Обновить программу, которая долго просит обновиться, в надежде, что она оставит
тебя в покое – то же самое, что дать денег алкашу. Через какое-то время он
придет снова, но будет просить настойчивее.</p>

<p>Нужно расстаться раньше этого.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/two-problems/">Две проблемы</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/work/" rel="tag">work</a>, <a href="/tag/problems/" rel="tag">problems</a>, <a href="/tag/absctractions/" rel="tag">absctractions</a>

</div>


            <div class="entry">
                
                    <p>Говорят, в программировании две проблемы: инвалидация кэша и именование
переменных. Не знаю, я никогда не испытывал с этим проблем. Чтобы не сбрасывать
кэш, просто пиши без кэша. Проще оптимизировать SQL-запрос, чем возиться с
условным Редисом.</p>

<p>Переменные называй как хочешь, главное — не терять темп при написании кода. Если
я думаю над именем больше секунды, то пишу foo и bar. Когда код готов,
становится ясно, во что их переименовать.</p>

<p>Истинные две проблемы программирования другие.</p>

<p>Первая — программист закладывает абстракции там, где не следует. Иными словами,
готовится к тому, что никогда не произойдет. Например, делает наследование из
трех классов или внедряет ОРМ на случай переезда на другую базу. И никогда не
переезжает.</p>

<p>Вторая проблема — наоборот: программист не оставляет шанса поправить его
код. Скажем, сервис должен вернуть список сущностей, и программист честно отдает
массив в JSON. И теперь нужно добавить в ответ какую-то мету, но сделать это
нелья — у нас вектор, а не мапа. Приходится исправлять на мапу и выносить мозг
клиентам, чтобы поправили у себя.</p>

<p>Как только первое и второе правила согласуются с реальностью, жить и работать
становится проще.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/things-1/">Вещи, которые должны были сделать жизнь лучше (1)</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/things/" rel="tag">things</a>

</div>


            <div class="entry">
                
                    <p>В этом посте я собирал технологии, которые должны были сделать нашу жизнь лучше,
но не срослось. Пока что это первая часть. Список далеко не полный, если у вас
есть что добавить, пишите — внесу.</p>

<p><strong>Уведомления</strong></p>

<p>Идея была хорошая: программа, даже если она не запущена, показывает текст о том,
что случилось. Но уведомления приняли лавинообразный характер. Представьте, что
творится с телефоном, где 40 приложений, и каждое шлет уведомления. Большая их
часть бессмысленна и нужна только затем, чтобы пользователь открыл
программу. Поэтому первое, что делает нормальный человек при покупке телефона —
откючает весь этот зоопарк.</p>

<p>А есть еще уведомления в браузере! Кто их там включает в здравом уме, не
представляю.</p>

<p><strong>Обновления</strong></p>

<p>Мы живем в мире непрерывных обновлений. Обновляются программы, пакеты, прошивки,
операционные системы. По умолчанию обновления включены, и это настоящий ад.</p>

<p>Редкая программа обновлятся молча. Чаще всего нам показывают модалки, которые
нельзя скрыть. Никого не волнует, что обновление одной программы сломало
другую. Обновления рушат процессы, вынуждают людей простаивать, потому что ноут
ушел в обновление. Скрипт, который стабильно работал полгода, упал из-за нового
пакета.</p>

<p>Происходит то же самое, что с уведомлениями: когда непрерывно обновляется все,
лучше бы не обновлялось ничего.</p>

<p><strong>Голосовые меню</strong></p>

<p>Верю, что за ними стояли благие намерения: дозвонился человек, а мы ему и курсы
валют расскажем, и расписание отделений, и ставки по вкладам — только нажми
кнопку. Проблема в том, что чаще всего человек звонит с одной целью — обсудить
вопрос с другим человеком. Голосовое меню становится препятствием, и
единственное, чего хочет клиент — чтобы его поскорей соединили с оператором.</p>

<p>Например, десять вечера, ребенок заболел. Я звоню в аптеку, чтобы узнать, есть
ли то, что нужно. А там номер 8-800: сначала здравствуйте, потом свежие
предложения, перечисление пунктов меню. Оператор поддержки сидит в Туле за
тысячу километров. Какая от него может быть помощь? Поэтому я звоню только в
аптеки с городским номером.</p>

<p>Забавно, что лет двенадцать назад я делал голосовое меню для Энергосбыта в
Чите. Находил это очень важным и полезным для абонентов.</p>

<p><strong>Синтез речи</strong></p>

<p>С обработкой речи ситуация спорная. С одной стороны, прикольно управлять Алисой:
включать музыку, спрашивать погоду и всякие мелочи. С другой стороны, технологии
речи привели к телефонному спаму. Раз в пару дней звонок из банка, где
заскриптован разговор сотрудника, предлагающего кредит. Сделано очень
реалистично: если не прислушаться, можно разговаривать с машиной, как с живым
человеком. Эту технику переняли различные мошенники, и их жертв стало больше.</p>

<p>Фирм, которые предлагают телефонный спам, совсем немного, буквально пять. Одна
из них находится в Воронеже. У нас на митапе выступал ее основатель. Если
отбросить мыльную формулировку “оказание услуг по информированию населения
посредством телефонной и сотовой связи”, то останется то, ради чего фирма и
создавалась — спам. Так что имейте ввиду: когда вам звонит робот с предложением
списать долги, велика вероятность, что это дело рук одного хорошего воронежца.</p>

<p><em>(продолжение следует)</em></p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/telegram-images/">Картинки в Телеграме</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/telegram/" rel="tag">telegram</a>, <a href="/tag/images/" rel="tag">images</a>, <a href="/tag/ui/" rel="tag">ui</a>

</div>


            <div class="entry">
                
                    <p>Не устану удивляться, почему Телеграм, при всей свей крутизне, не умеет
показывать текст вперемешку с картинками.</p>

<p>Обычный текст может. Но если добавить картинки, они соберутся в альбом и будут
сверху. При этом сработает ограничение на длину текста, и он будет выровнен по
краю картинки, то есть превратится в мышиный хвост.</p>

<p>Почему нельзя показать абзац текста, картинку, снова абзац, снова картинку и так
далее? Я бы с радостью заплатил за это. Тут либо маркетинг, либо какие-то
тараканы в голове, потому что технических ограничений я не вижу.</p>

<p>Вот и получается, что пост с картинками проще сверстать в Телеграфе и кинуть
ссылку, чем бодаться с Телеграмом. Редкий случай, когда фирма делает костыль для
самой себя.</p>

<p>Все это очень странно.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/steam-review/">Your Steam Year In Review</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/steam/" rel="tag">steam</a>, <a href="/tag/mail/" rel="tag">mail</a>

</div>


            <div class="entry">
                
                    <p>Проблемы с письмами бывают не только у Госуслуг или Почты России. Стим тоже
грешит. Прислал письмо с темой “Your Steam Year In Review 2023 is Here!”. Там все
такое красивое, и жирная кнопка “See your review”:</p>

<p><img src="/assets/static/aws/steam-review/1.jpeg" /></p>

<p>Жму, а там:</p>

<p><img src="/assets/static/aws/steam-review/2.jpeg" /></p>

<p>Что хотел сказать автор? Ваше ревью не пошарено. Что делать дальше? Надо его
пошарить? Как? Залогиниться? Зайти по ВПН? Хрен тебя разберет.</p>

<p>Скорее всего, ревью доступно, если залогиниться. Потом можно сделать его
общедоступным, чтобы делиться в соцсетях. Но почему нельзя нормально это
объяснить? Напиши по-английски: залогинься, дорогой, и все покажем.</p>

<p>Еще момент: почему бы не сделать одноразовую ссылку с токеном? Ведь Стим – это
настольное приложение, браузерной версией никто не пользуется. <strong>Вероятность
того, что человек залогинен в браузерной версии Стима, нулевая.</strong> Специально
открыл ссылку на ноуте, где установлен Стим, чтобы проверить – не предложит ли
он открыть приложение? Не предложил.</p>

<p>Знатно налажали они с письмом в этот раз.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/robots-ai/">Роботы + AI</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/ai/" rel="tag">ai</a>, <a href="/tag/robots/" rel="tag">robots</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    <p>Почему каждый раз, когда речь идет об искусственном интеллекте, рисуют робота с
человеческим лицом? Того самого из “Я, робот” 2004 года в разных вариациях.
Глупо и бессмысленно.</p>

<p>В интернете миллион этих картинок. Вот что открывается по словам “artificial
intelligence”:</p>

<p><img src="/assets/static/aws/robots-ai/1.jpeg" /></p>

<p>Еще бывает железная рука с бабочкой, мозги на процессоре, но это такая пошлось,
что нет смысла и говорить.</p>

<p>Гугл выкатил свой AI, и что показывают на презентации? Правильно, женщину-
робота:</p>

<p><img src="/assets/static/aws/robots-ai/2.jpeg" /></p>

<p>Дело в том, что роботы не имеют отношения искусственному интеллекту. Это только
в фильмах роботы помогают спасать галактику. А жизни роботы и интеллект —
совершенно разные вещи.</p>

<p>Роботов программируют под узкие задачи, чтобы их поведение было
предсказуемым. Если у робота две руки для переноски ящиков, просить его сделать
кофе бессмысленно. А то, что мы называем искусственным интеллектом, живет в
видеокартах на бесчисленных стеллажах. Он знает, как сделать кофе, но у него нет
рук.</p>

<p>Вообще, эти роботы на картинках выглядят бестолково. Почему из шеи торчат
провода и штыри? Их надо спрятать под пластик или какую-то мягкую субстанцию.
Что, не хватило материи, чтобы убрать гайки и провода под кожух? Их тела как
доспехи — как они будет гнуться? Руки, пальцы — аналогично. В 3D-Максе согнется
все, что угодно, а в реальности будут проблемы.</p>

<p>Там у Gemini на щеке что-то отвалилось, вы поправьте, что ли.</p>

<p>Нормальных роботов-андроидов я видел только в “Чужих”. Там они мягкие и жидкие,
как люди. Вот оно — андроиды должны быть не железными, а жидкими!  Только так
они могут хоть как-то походить на людей. Фильм “Чужой. Завет” начинается со
сцены рождения робота, и там его отливают на стенде. Буквально льют на гибкий
каркас. Но и робота в итоге не отличить от человека. Это нормальный робот, а не
железный болванчик.</p>

<p>Наконец, всем, кто мечтает о подобных роботах, <a href="https://www.youtube.com/watch?v=PqgfsPlBcYM">рекомендую посмотреть</a>
на Дуняшу. Это прекрасно:</p>

<p><img src="/assets/static/aws/robots-ai/3.jpeg" /></p>


                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/problem-and-solution/">Проблема и решение</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/work/" rel="tag">work</a>, <a href="/tag/problems/" rel="tag">problems</a>

</div>


            <div class="entry">
                
                    <p>Работая над задачей, важно спрашивать себя о двух вещах.</p>

<p>Первая — какую проблему я пытаюсь решить? Удивительно, но многие не могут внятно
на это ответить. Они говорят, что делают, и это понятно: внедряют фреймворк,
пишут тесты. Но какая проблема была изначально?</p>

<p>Из первого вопроса следует второй — как мое решение влияет на проблему? Оно
вообще ее решает? Или можно было проще? Или можно было поправить конфиг?</p>

<p>Пишу это, потому что удивлен, как часто забывают об этих вопросах. Бывает,
проблему можно поправить функцией или макросом, но в код тянут библиотеку. Или
можно купить готовое решение, но тимлид говорит: мы напишем свое через три
месяца. Или разработчик насмотрелся видосов со свежей конфы и хочет проверить
чужие идеи.</p>

<p>Поэтому раз: какую проблему я решаю? И два: отвечает ли ей мое решение? Чередуя
эти вопросы, можно сделать любую задачу точно и в срок.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/pauses/">Паузы в играх</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/games/" rel="tag">games</a>, <a href="/tag/pause/" rel="tag">pause</a>

</div>


            <div class="entry">
                
                    <p>Я играю только в старые игры: те, которые были популярны, когда мне было 13-17
лет. В основном это эмулятор PlayStation и ранний PC. Играя сегодня, наблюдаю
забавные вещи, на которые не обращал внимания раньше. Например, паузы или
перезарядка оружия.</p>

<p>Далеко не везде пауза останавливает мир полностью. Например, в старой сеговской
игрушке General Chaos есть прикол: если бросить гранату и нажать паузу, она
спокойно долетает и наносит урон. При этом работает анимация урона и смерти
врага. За счет этого можно пройти игру одним бойцом.</p>

<p>В игре Parasite Eve 2 на PlayStation был мощный лазер (насадка на карабин
“Javelin”). Лазер хорош, но с большим интервалом между выстрелами. Однако если
выстрелить и нажать паузу, то за это время его отпустит, и после паузы можно
стрелять снова. С точки зрения игры лазер спамит непрерывно.</p>

<p>В игре Alien Shooter 2 на PC нечто схожее с переключением и перезарядкой. Есть
ракетница по принципу “мощно, но редко”. Пока она перезаряжается, можно
переключиться на другое оружие и пострелять из него, а потом вернуться к
ракетнице — она будет готова к выстрелу.</p>

<p>В Quake 2 на PlayStation был прикол с путаницей патронов от одного оружия к
другому. Если во время стрельбы переключиться с шоги на рейл и обратно, то рейл
тратил дробь, а шога — обедненный уран.</p>

<p>Почему так происходит? Хоть я ничего не понимаю в играх, но хотя бы
предположу. Пауза ставит логический флаг, при котором игровой цикл не обновляет
объекты. А перезарядка оружия и некоторые другие вещи работают от прерывания
процессора. Другими словами, процессору говорят: через две секунды выполни код,
который находится по этому адресу. Таймер можно только отменить, но не
продлить. Поэтому даже если мир заморожен, через две секунды сработает код,
который снимет с оружия статус “перезадяка” и выставит ему нужное число
патронов. Отсюда такие приколы.</p>

<p>Морали нет, просто вспомнилось.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/java-inhumanity/">Бесчеловечность Java</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/java/" rel="tag">java</a>, <a href="/tag/programming/" rel="tag">programming</a>

</div>


            <div class="entry">
                
                    <p>Джавное ООП отличает особая бесчеловечность. Ощущение, что код писали не
люди, а роботы, которые хотят обратить кожаных мешков в рабство. Именно такие
ассоциации приходят в голову.</p>

<p>Пример — джавный SDK для S3. Возникла задача — явно указать пару ключей и
регион. Как это делается в дружелюбных языках? Передается мапка с тремя
ключами или kwargs. По умолчанию берутся переменные среды, но считается, что
пользователь не идиот и в случае нужды укажет свои ключи.</p>

<p>Джавный SDK, напротив, считает пользователя идиотом. Креды берутся из
переменных среды и системных файлов. Если хочешь указать свои, то нужно
написать такой код:</p>

<p><img src="/assets/static/aws/java-inhumanity/1.jpeg" /></p>

<p>Я рожал его почти два часа. Понимаете ли, инициировать <code class="language-plaintext highlighter-rouge">BasicAWSCredentials</code>
недостаточно. Нужно обернуть его в <code class="language-plaintext highlighter-rouge">AWSStaticCredentialsProvider</code> и передать в
<code class="language-plaintext highlighter-rouge">AmazonS3ClientBuilder</code>. Так очевидно и просто!</p>

<p>Ясное дело, в джавадоке об этом ни слова. Каждый класс подробно знает о своих
геттерах и сеттарах, но не то, как их скомпоновать. Гугление выдает ссылки на
StackOverflow и Baeldung. Все спонтанно, что-то уже deprecated, разброд и
шатание.  В официальных доках только те примеры, что считаются правильными со
стороны AWS.</p>

<p>Все это топорно и бездушно. А некоторым с этим жить.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/empty-console/">Пустая консоль</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2023-12-29T00:00:00+00:00">
        Dec 29, 2023
    </time>

    <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/console/" rel="tag">console</a>, <a href="/tag/javascript/" rel="tag">javascript</a>

</div>


            <div class="entry">
                
                    <p>Как приятно осознавать, что есть сайты, где в Developer Console ничего нет. То есть
буквально ничего: ни логов Javascript, ни красных сообщений блокировщика, ни
Google Static Content и прочего барахла. Пустой экран.</p>

<p>Я об этом (популярный новостной сайт):</p>

<p><img src="/assets/static/aws/empty-console/1.jpeg" /></p>

<p>Вдвойне приятней, что один из этих сайтов — мой. В его консоли действительно
ничего нет! Пусть посетитель об этом не знает, но знаю я, и от этого хорошо на
душе.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <a href="/page20" class="previous">&larr;</a>
        
        <span class="page_number ">Страница 21 из 90</span>
        
        <a href="/page22" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
