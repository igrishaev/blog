<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Do's and Don'ts</title>
  <meta name="description" content="Here is a short list of rules I try to follow when working:">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/en/dos-and-donts/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">

    <h1 class="post-title" itemprop="name headline">Do's and Don'ts</h1>

    
<div class="post-meta">

    <time class="post-time"
          datetime="2017-05-12T00:00:00+00:00">
        May 12, 2017
    </time>

    <a href="/tag/english/" rel="tag">english</a>, <a href="/tag/dos-and-donts/" rel="tag">dos-and-donts</a>

</div>


  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Here is a short list of rules I try to follow when working:</p>

<h3 id="database">Database</h3>

<ul>
  <li>
    <p>Avoid using nullable fields in your DB. Put <code class="language-plaintext highlighter-rouge">not null</code> everywhere you can when
defining a table. Assign a default blank value if submitting a field is not
necessary:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">foo</span> <span class="p">(</span>
  <span class="p">...</span>
  <span class="k">comment</span> <span class="nb">text</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="s1">''</span><span class="p">,</span>
  <span class="k">count</span> <span class="nb">integer</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="mi">0</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Keep your database migrations in raw <code class="language-plaintext highlighter-rouge">*.sql</code> files. Wrap each migration into
transaction explicitly putting <code class="language-plaintext highlighter-rouge">begin;</code> and at the top of file and <code class="language-plaintext highlighter-rouge">commit;</code>
at the bottom:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">--</span>
<span class="c1">-- A short comment about what this migration does.</span>
<span class="c1">--</span>
<span class="k">begin</span><span class="p">;</span>

<span class="k">update</span> <span class="n">foo</span> <span class="k">set</span> <span class="n">bar</span> <span class="o">=</span> <span class="mi">42</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">100500</span><span class="p">;</span>

<span class="k">alter</span> <span class="k">table</span> <span class="n">baz</span> <span class="k">drop</span> <span class="k">column</span> <span class="n">test</span><span class="p">;</span>

<span class="k">commit</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Don’t delete anything from your DB. Add <code class="language-plaintext highlighter-rouge">deleted</code> boolean flag that is false
by default and put <code class="language-plaintext highlighter-rouge">AND NOT mytable.deleted</code> in <code class="language-plaintext highlighter-rouge">WHERE</code> or <code class="language-plaintext highlighter-rouge">JOIN</code> statements:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">foo</span> <span class="k">where</span> <span class="k">not</span> <span class="n">deleted</span><span class="p">;</span>
</code></pre></div>    </div>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span><span class="p">.</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="p">.</span><span class="n">b</span>
<span class="k">from</span> <span class="n">foo</span> <span class="n">f</span>
<span class="k">left</span> <span class="k">join</span> <span class="n">bar</span> <span class="n">b</span> <span class="k">on</span> <span class="n">foo</span><span class="p">.</span><span class="n">bar_id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="k">not</span> <span class="n">b</span><span class="p">.</span><span class="n">deleted</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>For each table, add <code class="language-plaintext highlighter-rouge">created_at</code> that fixates creation time automatically:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">foo</span> <span class="p">(</span>
  <span class="p">...</span>
  <span class="n">created_at</span> <span class="nb">timestamp</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="k">current_timestamp</span><span class="p">;</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Once you’ve got any geographical data (locations, areas, routes), install
PostGIS extension without inventing your own “smart” algorithms. They will let
you down one Friday evening.</p>
  </li>
  <li>
    <p>Postgres is great for full-text searching. Try to deal with standard
PostgreSQL capabilities before installing Elastic, Sphinx and related stuff.</p>
  </li>
  <li>
    <p>Avoid using ORMs. A small wrapper that parses <code class="language-plaintext highlighter-rouge">*.sql</code> files and creates plain
functions would be enough.</p>
  </li>
  <li>
    <p>Don’t use triggers to implement business logic. Such behaviour is quite
implicit and difficult to maintain. And business rules change all the time.</p>
  </li>
</ul>

<h3 id="code">Code</h3>

<ul>
  <li>
    <p>Don’t align you code with spaces like it’s shown below. Use one space only.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"short"</span><span class="p">:</span>              <span class="mi">1</span><span class="p">,</span>
  <span class="s">"a-bit-longer"</span><span class="p">:</span>       <span class="mi">2</span><span class="p">,</span>
  <span class="s">"very-very-long-one"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Write unit tests for both server and UI sides immediately once you’ve started
a new project.</p>
  </li>
  <li>
    <p>Classes are not data. Prefer plain data structures like lists and maps over
classes. Usually, structures are fast and covers the most of requirements.</p>
  </li>
  <li>
    <p>Try to follow functional approach when develop a program. Avoid keeping state
where it can be skipped. Separate IO from code that does pure calculations.</p>
  </li>
</ul>

<h3 id="frontend">Frontend</h3>

<ul>
  <li>
    <p>Don’t use vanilla Javascript. Use such modern technologies as ClojureScript,
TypeScrip or Elm to develop without pain in the ass. Consider JS as necessary
evil running under the hood to ship your application.</p>
  </li>
  <li>
    <p>Don’t make SAPs (single page applications). Usually they work poorly, the
layout leaks, you cannot open a link in a new window and they break W3C
standards.</p>
  </li>
  <li>
    <p>Even with Javascript turned off, your client must see important information on
their screen.</p>
  </li>
  <li>
    <p>Don’t make you own widgets to substitute standard ones (inputs, drop-downs,
etc).</p>
  </li>
  <li>
    <p>Never interrupt a user with alerts, pop-ups, splashes.</p>
  </li>
  <li>
    <p>Never claim on Ad-Block enabled. It’s so ridiculous. It’s users choice what
software to use when browsing the Internet.</p>
  </li>
</ul>

<h3 id="architecture">Architecture</h3>

<ul>
  <li>
    <p>Don’t make micro-services. Try to keep the whole codebase within. Run
different domains of your application in separate threads as components.</p>
  </li>
  <li>
    <p>Queues might help a lot. Don’t invent your own message queue facility. Use
Rabbit, ZeroMQ or even Redis.</p>
  </li>
  <li>
    <p>For message processing, use text format but not binary one. You are not Google
with their proto-bufs invented to break down network limitations.</p>
  </li>
  <li>
    <p>Writing logs in a file and <code class="language-plaintext highlighter-rouge">tail</code>ing them via SSH is a mess. Write all the
logs into (remote) syslog, either your own one or any third-party one. Syslog
brings huge capabilities with logs processing.</p>
  </li>
  <li>
    <p>Never commit to master branch directly (set that option in your Git
config). Use the simplest Git pipeline you can imagine:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master -&gt; feature-branch -&gt; commits -&gt; pull request -&gt; review -&gt; merge
</code></pre></div>    </div>
  </li>
  <li>
    <p>JSON is bad when configuring software: lots of braces, no comments. Take YAML.</p>
  </li>
</ul>

<h3 id="programming-languages">Programming languages</h3>

<ul>
  <li>
    <p>Prefer those languages that could give you a single compiled file as a result
of you effort (both binary or bytecode). C-family, Go, Rust, Haskell,
Java-family are OK. PHP, Python, Ruby, Perl, JavaScript are less OK.</p>
  </li>
  <li>
    <p>Take a look at functional languages even you don’t have intentions using them
in your daily work.</p>
  </li>
  <li>
    <p>You’d better try not modern languages but rather old ones. Smalltalk, Lisp,
OCaml would be a great choice.</p>
  </li>
</ul>

<h3 id="workspace">Workspace</h3>

<ul>
  <li>
    <p>Keep you desktop free from unused items.</p>
  </li>
  <li>
    <p>The more gadgets you need having around the less you are productive. Ideally,
you only need your Mac connected to the Internet.</p>
  </li>
  <li>
    <p>Use messagers on mobile only except those you need to communicate with your
customer. On my desktop, I have only Slask running with my customer’s
room. Leave Telegram, Skype, WhatsApp or whatever else on you phone and check
them rarely.</p>
  </li>
  <li>
    <p>Turn off all the notifications on you phone/desktop.</p>
  </li>
  <li>
    <p>Try to keep you developing tools simple. Choose text editor like Vim or Emacs
over IDE. Work with Git from a command line.</p>
  </li>
  <li>
    <p>Don’t work in open-space. A room with 3-4 people around is OK.</p>
  </li>
  <li>
    <p>Don’t read the news. Your friends will warn you if something really important
happens.</p>
  </li>
</ul>

<h3 id="communication">Communication</h3>

<ul>
  <li>
    <p>Don’t argue on Vim vs Emacs, Python vs Ruby and so on. It looks quite
unprofessional.</p>
  </li>
  <li>
    <p>If you full of thoughts you want to share with the world, open a blog or write
a book. But never argue on them in social networks or messagers.</p>
  </li>
  <li>
    <p>Even you are a remote worker, say Hi and Bye every time you’ve started or
finished your work day. Your team should know whether are you at the desk or
not.</p>
  </li>
  <li>
    <p>Be always polite.</p>
  </li>
  <li>
    <p>When you don’t know what to say, keep silence.</p>
  </li>
  <li>
    <p>Never afraid saying No.</p>
  </li>
  <li>
    <p>Read about negotiations.</p>
  </li>
  <li>
    <p>Invest time and money in improving your English skills.</p>
  </li>
</ul>

<p>This post is a snapshot of my <a href="https://github.com/igrishaev/dos-and-donts">Do’s And Don’ts</a> repository. You may always
find updates there.</p>


  </div>

</article>

<center>
    <p>
        <small>Нашли ошибку? Выделите мышкой и нажмите Ctrl/&#8984;+Enter</small>
    </p>
</center>






<center>Комментариев пока нет</center>









<form id="comment-form" method="POST" action="https://functions.yandexcloud.net/d4ehfuf08fjfjr59ivnf">

    <div class="block">
        <p class="comment-form-label"><small>Your name</small></p>
        <input required id="comment-form-author" name="author" type="text">
    </div>

    <div class="block">
        <p class="comment-form-label"><small>Comment (markdown syntax)</small></p>
        <textarea required id="comment-form-comment" name="comment"></textarea>
    </div>

    <input required name="path" type="hidden" value="/en/dos-and-donts/">
    <input required name="captcha" type="hidden" value="4 &#215; 9">

    <div class="block">
        <span class="comment-form-label"><small>4 &#215; 9 = </small></span>
        <input required id="comment-form-solution" name="solution" type="text">
    </div>

    <div class="block">
        <button id="comment-form-send" type="submit">Send</button>
    </div>

</form>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
