<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ошибки</title>
  <meta name="description" content="Главная беда этой нашей айтишечки — сообщения об ошибках, не связанные с ихустранением. Примеров можно найти миллион, но вот вам один.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/it-errors/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">

    <h1 class="post-title" itemprop="name headline">Ошибки</h1>

    
<div class="post-meta">

    <time class="post-time"
          datetime="2023-09-27T00:00:00+00:00">
        Sep 27, 2023
    </time>

    <a href="/tag/it/" rel="tag">it</a>, <a href="/tag/errors/" rel="tag">errors</a>

</div>


  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Главная беда этой нашей айтишечки — сообщения об ошибках, не связанные с их
устранением. Примеров можно найти миллион, но вот вам один.</p>

<p>Собираю одну фигню в докере, и команда <code class="language-plaintext highlighter-rouge">apt-get update</code> падает с сообщением, что
репозиторий не подписан:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The repository 'http://archive.ubuntu.com/ubuntu focal InRelease' is not signed.
</code></pre></div></div>

<p>При этом на другом ноуте все собирается как надо.</p>

<p>Оказалось, что это мулька самого Докера, и лечится она командой prune:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image prune <span class="nt">-f</span>
docker container prune <span class="nt">-f</span>
</code></pre></div></div>

<p>Очевидно, без гугла и SO эту проблему не решить в принципе.</p>

<p>В современной айтишке много абстракций, и каждая из них не знает о
другой. Отсюда эти уродские сообщения: абстракция А считает что-то
неподписанным, потому что в Б нет места. А не находит файлы, потому что они не
смонтированы в Б. А валится, потому что в Б другая локаль или кодировка по
умлочанию.</p>

<p>Задача хорошего программиста в том, чтобы давать понятные сообщения об
ошибках. Наверное, вас тоже бесило, когда Java говорит: <code class="language-plaintext highlighter-rouge">port is already in
use</code>. Блин, какой порт? У меня их десять в проекте, тяжело добавить цифру в
сообщение?</p>

<p>Или тот же Вим. По всему миру люди страдают, не знают как из него выйти. Вопрос
на SO набрал миллион просмотров и растет дальше. И что делают разработчики вима?
Вместо того, чтобы добавить бар с действиями как в Nano, объясняют, что
пользователи тупые.</p>

<p>Напоминает мост в Питере со знаком “Газель не проедет”, где разбились сто
Газелей. Вместо того, чтобы порвать на тряпки мэра и начальника ГИБДД, ставят
знаки и постят картинки в Контакте.</p>

<p>То же самое происходит у нас. Вместо понятного сообщения мы ждем, что его
предоставит вышестоящий слой. Но это бессмысленно: не сделаем мы — не сделает
никто.</p>

    
<div class="prev-next">

    <div class="prev-next-left">
    
        <p><small><a href="/firewall/">&larr; Фаервол</a></small></p>
    
    </div>

    <div class="prev-next-mid">
    </div>

    <div class="prev-next-right">
    
        <p><small><a href="/masked-input/">Ввод по маске &rarr;</a></small></p>
    
    </div>

</div>

  </div>

</article>

<center>
    <p>
        <small>Нашли ошибку? Выделите мышкой и нажмите Ctrl/&#8984;+Enter</small>
    </p>
</center>






<center>Комментарии</center>

<div id="comments">
  
    <div id="comment-1697676072717" class="comment-block">
      <p class="comment-lead">
        <small>
          <em>
            John,
            19th Oct 2023,
            <a href="#comment-1697676072717">link</a>
            
          </em>
        </small>
      </p>
      <div><p>В последних версиях Python об этом задумались и стали улучшать сообщения об ошибках.</p>

<p>Вспомнился забавный пример, когда разработчикам плевать на удобство пользователей своего продукта. Есть такая модная современная программа Vector для обработки логов. Написана конечно же на Rust, но имеет свой несколько безумный DSL. И там есть regexp, и вот когда происходит ошибка при разборе регулярки, этот Vector выплёвывает километровую ошибку откуда-то из своих растовых кишок, в которой нет ни слова о том, обо что и в какой строке текста споткнулась регулярка, но зато есть строка кода и столбец в исходниках на Rust. Очень полезно.</p>

<p>Особенно смешно тут то, что в самом Rust в компиляторе очень подробные и понятные сообщения об ошибках. :)</p>

</div>
    </div>
  
</div>









<form id="comment-form" method="POST" action="https://functions.yandexcloud.net/d4ehfuf08fjfjr59ivnf">

    <div class="block">
        <p class="comment-form-label"><small>Your name</small></p>
        <input required id="comment-form-author" name="author" type="text">
    </div>

    <div class="block">
        <p class="comment-form-label"><small>Comment (markdown syntax)</small></p>
        <textarea required id="comment-form-comment" name="comment"></textarea>
    </div>

    <input required name="path" type="hidden" value="/it-errors/">
    <input required name="captcha" type="hidden" value="1 &#215; 3">

    <div class="block">
        <span class="comment-form-label"><small>1 &#215; 3 = </small></span>
        <input required id="comment-form-solution" name="solution" type="text">
    </div>

    <div class="block">
        <button id="comment-form-send" type="submit">Send</button>
    </div>

</form>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
