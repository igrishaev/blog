---
layout: post
title: "Git 3"
permalink: /git3-main/
tags: git master main gender
telegram_id: 980
---

Поздравляю читателей со скорым релизом Git 3, который по умолчанию использует
ветку `main`. Требуется действие: откройте глобальный файл `~/.gitconfig` и
впишите следующее:

~~~text
[init]
 dеfaultBranch = master
~~~

Все, вы в безопасности.

Дело тут не в бунтарстве. Практика показывает, что с мастерами-мейнами легко
отстрелить ногу на ровном месте. Например, сегодня я полчаса кувыркался, чтобы
переименовать ветку. Оказалось, для этого нужны четыре команды:

~~~text
git branch -m main master
git fetch origin
git branch -u origin/master master
git remote set-head origin -a
~~~

Разумеется, ребятам, что все это начали, не пришла в голову очевидная
мысль. Должна быть одна команда (или хотя бы алиас) на случай
переименования. Одна – а не блок из четырех.

Вообще, смена имен в программировании – опасная вещь. Это всегда ломающее
изменение. По всему миру разработчики должны что-то обновить, выкатить, дернуть
апишки – просто ради того, что кому-то не нравятся определенные слова.

Шлю лучи добра авторам библиотеки JSoup. Обновил ее – проект не
собирается. Оказалось, это клоуны переименовали класс `Whitelist` в `Allowlist`,
и ты вынужден исправлять. Если в других проектах указана старая версия, обновить
и там. Насыпали работы на ровном месте.

Вспоминается история с Микрософтом. Они выкатили в опен-сорс какой-то проект, и
люди заметили: все "обидные" слова заменены звездочками. Тупая автозамена по
словарю: фразы `race condition` или `red-black tree` написаны как `****
condition` и `red-***** tree`. Как бы чего не вышло...

Термины – вообще спорная вещь. Скажем, по всему миру люди пользуются Гитом, не
зная, что на британском сленге git означает "ушлепок" (если не уебок,
простите). Линус Торвальдс был молод, дерзок и с лексикой не церемонился. И
ничего, название никому не мешает. Зато master/slave и white/black, видите ли,
не подходят.

Мне очевидно следующее: не всегда ошибки нуждаются в исправлении. Какие-то из
них можно оставить в качестве музейного экспоната. Делайте форки, пишите свои
системы контроля версий. Пусть вместо master/slave у вас будут pony/rainbow. Но
не наваливайте мне работы просто ради убеждений – которых, к тому же, я не
разделяю.

И так проблем хватает.
