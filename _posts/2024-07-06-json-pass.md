---
layout: post
title: "Перекладывание"
permalink: /json-pass/
tags: programming json
---

Иногда говорят: это тебе не джейсоны перекладывать, тут думать надо. А между
прочим, перекладывать джейсоны – очень трудное занятие.

Прилетает вам джейсон из сети. Надо его прочитать, провалидировать, распарсить
даты, подрезать лишнее. Потом выгрести из базы то, из кэша се, из S3 третье и
все это собрать в нечто нужное бизнесу. Сделать эксельку, положить в S3 и
отписать в очередь.

На каждом шаге может быть сто причин для эксепшена. Записать логи, не раскрывая
бизнес-данных и секретов, собрать исключения и отправить в Сентри.

Иные джейсоны пятиэтажной вложенности. Нужно рыскать по их кишкам и строить
обратные мапы (индексы). Потом передавать по пять индексов в другие функции.

Читать из базы миллион джейсонов так, чтобы не умереть от нехватки памяти в AWS.

В идеале покрыть все случаи тестами, желательно с Докером, чтобы были настоящие
база, Редис, S3 и так далее.

Все еще легко, на ваш взгляд? Не знаю, мне кажется трудным. Поэтому над
"перекладыванием" я не смеюсь.
