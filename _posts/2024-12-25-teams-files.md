---
layout: post
title: "Файл с процентом"
permalink: /teams-files/
tags: programming
---

{% include static.html path="teams-files/1.jpeg" %}

Узнал, что в Teams нельзя прикрепить файл со знаком процента. Также запрещены
решетка, двоеточие и другие спецсимволы (см. картинку). Испытал смешанные
чувства.

С одной стороны, это бред. Когда файлы хранят в облаке, никто в здравом уме не
назначает им исходное имя. Файлы лежат как бинарные блобы с машинными уидами, а
имя хранится в базе в текстовой колонке. Будь там процент, решетка, эмодзи или
DROP TABLE STUDENTS — нормальной системе это без разницы.

[link]: /url-space/

С другой стороны, "не все так однозначно" (с). [Я уже рассказывал][link], как
потерпел неудачу из-за пробела в папке S3. Половина клиентов ищут папку Daily
Reports, другая половина — Daily%20Reports. Класс java.util.URI просто валится,
если дать ему адрес с пробелом.

Отсюда ясно, почему запрещены спецсимволы: с ними возрастает вероятность
факапа. Не в этом сервисе, так в другом. Проще запретить, чем разгребать
последствия: удаленные по ошибке данные, инъекции в путях и прочие штучки.

Так что хотел подтрунить над идиотской ситуацией, а потом раз — и как тот
парень, который в цирке не смеется.
