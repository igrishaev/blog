---
layout: post
title:  "Строки по 80"
permalink: /strings-80/
tags: programming git
---

Иной айтишник нет-нет да пожалуется на разбиение строк по 80 символов. Считаю
нужным прояснить ситуацию.

Коротко: если это текст в системе контроля версий — код, readme или вроде того —
он должен быть разбит. Не обязательно по 80 символов, можно 90, 100
или 120. Главное выбрать число и следовать ему.

Обыватель думает, что число 80 связано с перфокартой. Да, на них действительно
было столько дырок, потому что 80 символов умещалось в терминале. Но дело не
только в этом. Откройте любую книгу и посчитайте число знаков в строке. Их будет
от 60 до 80, в среднем 65. Почему?

Ответ никак не связан с перфокартой. Эти 65-70 знаков в сочетании с 10 шрифтом
дают строку длиной 12 см. В свою очередь 12 см — та длина, которую глаз читает
на комфортном расстоянии без поворота головы.

Как-то так:

{% include static.html path="strings80/1.jpeg" %}

Откройте любой журнал. Две колонки по 50 символов, потому что шрифт
меньше. Сделайте в одну — никто не прочтет.

Теперь я растянул редактор на всю ширину. Как это читать? Вы будете крутить
головой, как лошадь на привязи:

{% include static.html path="strings80/2.png" %}

А так нормально:

{% include static.html path="strings80/3.png" %}

Тут влетает бунтарь с криками: как так, за меня решили, задели хрупкие чувства!
Дайте свободу, я сам настрою. Мне не жалко, но есть проблема: редактор
приходится ужимать до такого состояния:

{% include static.html path="strings80/4.png" %}

У меня так-то 400 файлов открыто, и под каждый менять размер окна — не много ль
чести? Можно вынести файл в отдельное окно, но опять же — заморочки.

Далее — конфликты. Если параграф не нарезан на строки по 80 символов, исправить
конфликты невозможно. Пожалуйста, прочтите это предложение еще раз: **исправить
конфликты невозможно**. Без нарезки параграф — это единая строка, и если Вася
исправил букву в начале, а Петя — в конце, это конфликт. Пишите претензии
создателям Git, CSV и другим системам контроля версий. Их рабочая единица —
строка, и других не предвидится.

Подобные конфликты решаются вручную и больше никак. Продвинутые тузлы подсветят
изменения внутри строки, но что-то сложнее пары опечаток решить невозможно. У
нас уже было такое: вместе с коллегой поправили документацию в markdown. В итоге
я откатил свои правки и накладывал повторно на его мердж. Спасибо, больше не
надо.

Наконец, в хорошем редакторе проблема нарезки не стоит в принципе. `C-x f` задает
ширину колонки, `M-q` поджимает текущий абзац. Чтобы поджать весь документ, жмем
`C-x h` и `M-q`. Занимает секунду.

Кстати, принцип, когда подряд идущие строки объединяются в параграф, а пустая
строка отбивает параграфы, придумали не в markdown. Это сделал Кнут для своего
TeX, за что ему честь и хвала.

Вот, пожалуй, все, что нужно знать про нарезку строк.
