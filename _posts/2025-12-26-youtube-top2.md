---
layout: post
title: "Полоса прокрутки (2)"
permalink: /youtube-top2/
tags: life youtube
telegram_id: 968
---

[Небольшое продолжение](/youtube-top/) про Ютуб — и больше поднимать эту тему не
буду.

Всякими махинациями я добился того, чтобы полоса была под видео, а не на
нем. Для этого классу `ytp-chrome-bottom` добавляется свойство `bottom: -60px`
или около того. Но проблема пришла откуда не ждали, и даже не одна.

Дело в том, что тулбар появляется только когда наводишь курсор на плеер. Так
вот: если тулбар вне плеера, то наведение мыши на него ничего не дает — он
остается невидимым. Простыми словами, перестает работать.

Я такой думаю: наверное, на тулбар вешается класс `hidden` или похожий. Сейчас
поменяю этот класс, чтобы он был всегда видим и победю систему. Оказалось,
видимость определяется не классом, а средствами JavaScript.

Тогда я сделал так: растянул плеер, чтобы он охватывал тублар даже после
смещения. Это помогло: при наведении на тулбар он появляется. Однако теперь не
работают кнопки. Ощущение, будто где-то есть невидимый div, который
перехватывает клики. Из-за смещения тулбара они идут мимо него, и ничего не
работает.

Ну и в целом сложность: штук двадцать вложенных дивов `yt-player` &rarr;
`yt-main-container` &rarr; `yt-main-inner` &rarr; `yt-video-container` &rarr;
`yt-video-node` и так далее. Каждый что-то перехватывает и наследует. Дебажить
этот цирк — то еще удовольствие.

Так что переносом тулбара вверх я пока и ограничусь. Слишком напряжно этим
заниматься. Сложность Ютубного плеера колоссальная: там годы легаси и костылей,
чтобы работать во всех браузерах, трекать, показывать рекламу, плашки,
рекомендации и так далее. Задача мне не по зубам, признаю поражение.
