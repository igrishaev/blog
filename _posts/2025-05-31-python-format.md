---
layout: post
title: "Форматирование строк"
permalink: /python-format/
tags: programming python format
telegram_id: 842
---

Шел 2025 год, а в Питоне делают очередное форматирование строк. На этот раз оно
называется t-строки из-за префикса t. Такие строки по-настоящему всемогущи:
могут делать любые преобразования, ходить по модулям, вызывать такси и
заказывать пиццу. Без шуток, найдется тот, кто напишет на них интерпретатор
Питона.

Может показаться странным, но именно из-за подобных штучек я завязал с
Питоном. Я любил его где-то до версии 2.7, ну и немного третью. Переход на
тройку был тяжелым, но необходимым, и это можно было стерпеть. А потом начались
бесконечные улучшения: новые операторы, синтаксический сахар на каждый чих,
f-строки, t-строки и так далее.

Я понял, что не успеваю за Питоном. Как его ни изучай, энтузиасты навалят новых
PEP-ов. Для конкретного проекта это не страшно, но перейдешь в другой — а там
уже затянули все нововведения, и сиди разбирайся.

Особенно меня коробит форматирование строк. Напомню, что в Питоне, наверное,
десять способов форматировать строки, и число вариантов все растет. Есть процент
с кортежем, есть метод `.format`, есть f-строки, `string.Template`, сейчас
готовят t-строки. Это только стандартная библиотека, а еще полно сторонних
пакетов.

Крафтить подобные вещи интересно, я не спорю. Но почему не нашлось никого, кто
бы сказал: братцы, мы делаем херню. Плодим одно и то же, засоряем стандартную
библиотеку. Неужели, имея с десяток способов сделать X, нужно писать еще один?
Где был это человек? Или их выгнали?

Мое любимое занятие — форматировать процентом (как в Си) и выкладывать на
ревью. У питонистов начинается пожар: они говорят, что есть f-строки, что
процент использовать не надо, а почему — объяснить не могут. Со стороны кажется,
что у них чешутся внутренности: так странно они себя ведут. Если здесь
уязвимость, покажи, как она работает. Если медленно, сделай замеры. Но нет,
карго культ: мы делаем так, потому что мы так делаем.

Современный Питон переусложнен. Он без конца развивается, и это обратная сторона
популярности. Как писатель, которого вынудили писать одно, хотя душа лежит к
другому. Каждый раз, когда читаю про новый оператор, думаю об одном: боже, как
хорошо, что в Кложе нет новых операторов в каждом релизе. Там все просто: хочешь
оператор — пишешь макрос, выносишь в библиотеку и делаешь анонс в Слаке. Все
довольны и ставят пальчики.

Бесконтрольное развитие языка — тоже плохо. Это трудно заметить в моменте,
потому что эффект проявляет себя десятилетиями. Но нужно держать его в голове.
