---
layout: post
title: "Помешательство"
permalink: /js-madness/
tags: programming javascript frontend madness
---

Может быть, писал про это раньше, лень искать.

Допустим, у нас современное веб-приложение: на сервере только REST API, а рендер
силами JavaScript. Одна из апишек отдает сведения о покупках: число, сумму и
дату последней покупки. Что-то вроде такого:

~~~json
{
  "total_orders": 7,
  "total_sum": "523626",
  "last_order_date": "2023-12-23T12:23:55Z"
}
~~~

(сумма в копейках, если что)

Ожидается, что на клиенте мы покажем эту информацию так:

> Вы совершили семь покупок на сумму 5.236 рублей 26 копеек. Последний раз вы
> покупали 23 декабря, 20 дней назад.

Чтобы отрендерить этот блок, нам понадобятся:

- библиотека "число прописью", чтобы 7 стало "семь";
- склонение с учетом числительных: 1 покупка, 3 покупки, 5 покупок;
- форматирование суммы;
- форматирование дат;
- вычитание дат (20 дней назад);
- возможно, мультиязычные шаблоны, если в приложении несколько языков.

И думаю: есть же люди, которые всерьез делают это на JavaScript(!) в
браузере(!!). Подключают тонны библиотек из npm, пишут экраны кода, компилируют
мегабайтные бандлы. Запускают всю эту машинерию, кодят месяц и в итоге получают
что-то похожее на результат. Который, конечно, работает только в Хроме на
4К-мониторе. На мобиле обрежется, в Фаерфоксе разъедется, в Сафари будет белый
экран.

Что движет этими людьми, интересно? И кто за них отвечает? Что за извращенное
удовольствие: из всех вариантов выбрать самый хрупкий и тяжелый?

Похоже на массовое помешательство.
