---
layout: post
title: "Даты и файлы"
permalink: /file-yyyymmmddd/
tags: programming
telegram_id: 905
---

Бывает, мы сохраняем файл в папку, а такой файл уже есть. Возникает диалог что
делать, в котором чаще всего нас интересует переименование. Поскольку мы уже
выбрали имя, то хотели бы оставить его как есть и добавить хвостик. Обычно
программы дописывают в конец счетчик: `document`, `document (1)`, `document (2)`
и так далее.

Счетчик – это, конечно, лучше, чем ничего. Но еще лучше было бы дописывать в
конец дату. С ней `document`, `document (1)`, `document (2)` становятся
`document`, `document_20250807`, `document_20250808` и так далее. Как быть, если
замена происходит в рамках одного дня? Добавлять часы и минуты, например:

~~~text
document_20250808.doc
document_202508081442.doc
document_202508081446.doc
document_202508081458.doc
~~~

Уже слышу как вы пишете: дата изменения хранится в мете файла, зачем таскать ее
в имени? Дело в том, что эта дата всегда теряется. Это же мета – поэтому
файловый менеджер может ее скопировать, а может и нет. Если закинуть файл в
какой-нибудь S3, всю мету вы потеряете.

Или скинул файл коллеге в каком-нибудь Teams, тот загнал его в Шарепоинт, а
третий человек получил его в электронной почте. Уверены, что мета сохранится? Я
бы очень удивился, если бы это было так.

Однажды я работал с женщиной, у которой был пунктик. Каждый файл на ее компе
начинался с префикса `YYYYMMDD_`. Она часто шарила экран, и я видел как при
сохранении файлов она прописывала дату вручную. И таких файлов – сотни, если не
тысячи. Скорее всего она знала про поиск файлов по датам, но с именем ей было
удобней.

Это на самом деле круто. Это убеждение, построение своего порядка. Классно,
когда человек возвел это в привычку.

Короче, я бы не отказался, если бы в диалоге сохранения файла был выбор, какой
паттерн использовать: счетчик или дату. Еще лучше, если это будет глобальная
настройка системы. Но вряд ли это скоро случится.
