<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/warming/">Глобальное потепление</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-06T00:00:00+00:00">
        Jul 6, 2024
    </time>

    <a href="/tag/warming/" rel="tag">warming</a>, <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/english/" rel="tag">english</a>

</div>


            <div class="entry">
                
                    <p>Уже год я преподаю английский: одному человеку и бесплатно. Первые полгода
занимались по моей программе, которую я составил по книге Мерфи. Затем перешли
на учебник Language Leader, по которому я учился когда-то сам.</p>

<p>Он хорошо составлен: он интересен взрослому, потому что авторы добавили много
фактов из реальной жизни. Из него буквально фонит то, что было в мире на момент
его составления. В том числе поэтому проходить некоторые темы забавно.</p>

<p>Одна из таких тем — погода. Лет 10-15 назад весь мир стоял на ушах из-за так
называемого “глобального потепления”. Ему приписывались любые природные явления:
шторм, торнадо — потепление, озоновая дыра — потепление, ядовитые испарения в
тундре — потепление.</p>

<p>Забавно, как в учебнике повторяется то же самое. Упражнения самых разных
форматов — текст, диалоги, грамматика, — и везде потепление, потепление,
потепление. Других причин не бывает. А если и есть причина, то какая у нее
первопричина? Угадайте.</p>

<p>Поэтому я воспринимаю учебник как исторический документ. Читая его, видно, как
штырило людей на эту тему в прошлом. Гринпис и прочие радикальные группировки
штурмовали платформы Шелл, а их отгоняли водометами. Население “прикладывало
линейку” — если сегодня потеплело на градус, а завтра на два, то через месяц
потеплеет на тридцать.</p>

<p>Сегодня, когда глобальное потепление уже выдохлось, повестка изменилась. Теперь
у нас “борьба с изменением климата”. Это более гибкая конструкция, потому что
нигде не говориться, как долго нужно бороться. Горизонт работ заложен уже в
постановке задачи.</p>

<p>Грета куда-то пропала, а у меня смешной стикер-пак с ней. Пропадает без дела.</p>

<p>Хороших выходных!</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/json-pass/">Перекладывание</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-06T00:00:00+00:00">
        Jul 6, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/json/" rel="tag">json</a>

</div>


            <div class="entry">
                
                    <p>Иногда говорят: это тебе не джейсоны перекладывать, тут думать надо. А между
прочим, перекладывать джейсоны – очень трудное занятие.</p>

<p>Прилетает вам джейсон из сети. Надо его прочитать, провалидировать, распарсить
даты, подрезать лишнее. Потом выгрести из базы то, из кэша се, из S3 третье и
все это собрать в нечто нужное бизнесу. Сделать эксельку, положить в S3 и
отписать в очередь.</p>

<p>На каждом шаге может быть сто причин для эксепшена. Записать логи, не раскрывая
бизнес-данных и секретов, собрать исключения и отправить в Сентри.</p>

<p>Иные джейсоны пятиэтажной вложенности. Нужно рыскать по их кишкам и строить
обратные мапы (индексы). Потом передавать по пять индексов в другие функции.</p>

<p>Читать из базы миллион джейсонов так, чтобы не умереть от нехватки памяти в AWS.</p>

<p>В идеале покрыть все случаи тестами, желательно с Докером, чтобы были настоящие
база, Редис, S3 и так далее.</p>

<p>Все еще легко, на ваш взгляд? Не знаю, мне кажется трудным. Поэтому над
“перекладыванием” я не смеюсь.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/csv-to-xlsx/">Excel и CSV</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-06T00:00:00+00:00">
        Jul 6, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/excel/" rel="tag">excel</a>, <a href="/tag/csv/" rel="tag">csv</a>

</div>


            <div class="entry">
                
                    <p>Маленькая техническая заметка. Не пользуйтесь CSV в надежде, что он откроется в
Экселе. Если ваши потребители – люди с Экселем (а таких большинство), нужно
генерить <code class="language-plaintext highlighter-rouge">.xlsx</code>, а не <code class="language-plaintext highlighter-rouge">.csv</code>.</p>

<p>Дело в том, что Эксель писали в Микрософте. Может быть, сегодняшний MS уже обрел
какую-то человечность. Но Эксель отсчитывает возраст с 1985 года – прямо как я –
и старше многих читателей этой заметки. Поэтому ни о какой человечности говорить
не приходится.</p>

<p>Эксель никогда не откроет CSV без ошибок. Он обязательно промажет с
разделителем: если в файле запятая, он ищет точку с запятой и наоборот. Для
обхода придумали грубый костыль: в первой строке может быть выражение sep=, и
тогда Эксель возьмет запятую. Но этот заголовок ломает парсеры CSV, которые ни о
каком Экселе не слышали.</p>

<p>Разделитель по умолчанию может зависеть от локали. У француза откроется, а у
австрийца не откроется.</p>

<p>Эксель по-прежнему игнорирует UTF8. Немецкие умляуты становятся
кракозябрами. Махинации с меткой BOM ни к чему не приводят.</p>

<p>В Экселе есть мастер импорта из CSV, но можно подумать, людям больше нечем
заняться, как импортировать что-то куда-то ради таблички.</p>

<p>В общем, нужно напрячь булки и выкинуть CSV, и вместо этого генерить нормальный
Эксель.</p>

<p>Если вдруг у вас Джава или Кложа, берите fastexcel и fastexcel-reader – они
быстрее и компилируются Граалем. Все, что основано на Apache POI, тормозное и не
компилируется Граалем. Я эту дорогу прошел и вот делюсь с вами.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/avito-my/">Мои объявления</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-06T00:00:00+00:00">
        Jul 6, 2024
    </time>

    <a href="/tag/avito/" rel="tag">avito</a>, <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/idiots/" rel="tag">idiots</a>

</div>


            <div class="entry">
                
                    <p><img src="/assets/static/aws/avito-my/1.jpg" /></p>

<p>Авито, страница “Мои объявления” — разве это не забавно? На экране все что
угодно, кроме моих объявлений. Огромная плашка, громадные пустоты. Слоеный
дизайн, когда каждый слой, пусть даже занимает сантиметр в ширину, растекается
на весь экран.</p>

<p>Очередной калека-дизайнер, которому “не хватило места”. Важная часть уехала на
экран ниже — потому что первый экран занял всякий шлак.</p>

<p>Считаю, таких дизайнеров надо даже не учить, а лечить. Обучение бессильно, пусть
действуют профильные специалисты.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/amazon-download/">Загрузка в Амазоне</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-06T00:00:00+00:00">
        Jul 6, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/aws/" rel="tag">aws</a>, <a href="/tag/s3/" rel="tag">s3</a>, <a href="/tag/files/" rel="tag">files</a>

</div>


            <div class="entry">
                
                    <p>У веб-панели S3 есть особенность: если скачать оттуда файл, Амазон поправит
расширение в зависимости от Content-Type, который назначили файлу при
создании. Например, если у файла нет расширения, а Content-Type равен
<code class="language-plaintext highlighter-rouge">application/json</code>, то Амазон допишет в конец .json, чтобы файлик открылся.</p>

<p>Казалось бы, хорошо? А вот что имеем на практике.</p>

<p>Если залить файл <code class="language-plaintext highlighter-rouge">hello.json.gzip</code>, внутри которого сжатый Gzip-ом JSON, и
указать заголовки <code class="language-plaintext highlighter-rouge">Content-Type: application/json</code>, <code class="language-plaintext highlighter-rouge">Content-Encoding: gzip</code>, то
при загрузке произойдет следующее.</p>

<p>Файл будет декодирован Амазоном, чтобы клиенту не пришлось делать это руками. Не
бог весть какая помощь, потому что и текстовые редакторы, и файловые менеджеры
открывают gzip-файлы. Но ладно.</p>

<p>После раскодировки Амазон смотрит: что там внутри? Application/json? Значит
удалим <code class="language-plaintext highlighter-rouge">.gzip</code> и добавим <code class="language-plaintext highlighter-rouge">.json</code>. В результате получается файл
<code class="language-plaintext highlighter-rouge">hello.json.json</code>. Я не шучу, проверьте сами.</p>

<p>Второй случай: я залил в Амазон файл <code class="language-plaintext highlighter-rouge">report.xlsx</code>, но указал не тот
Content-Type. Указал старый <code class="language-plaintext highlighter-rouge">application/vnd.ms-excel</code> для xls документов, а
надо было такую колбасу:
<code class="language-plaintext highlighter-rouge">application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</code>. При
загрузке Амазон молча исправил расширение с <code class="language-plaintext highlighter-rouge">.xlsx</code> на <code class="language-plaintext highlighter-rouge">.xls</code>. А Эксель тоже
хорош: по клику на файл он пишет, что формат битый, ничего не знаю – нет бы
первые 100 байтов проверить, тупица.</p>

<p>На ровном месте Амазон заруинил файл, хотя никто об этом не просил.</p>

<p>Понимаете, не нужно мне помогать! Не нужно что-то тайно переименовывать для моей
же пользы. Если прям чешется в одном месте – спроси, и я нажму “больше не
спрашивать”.</p>

<p>Кроме того, надо помнить: в Амазоне работают не боги, а такие же кодеры, как и
везде. Перед нами обычный баг, который живет в проде не один год, и никому нет
дела. Баг состоит в том, что махинации с расширением нужно производить только
если у файла нет расширения. Вдобавок у расширения приоритет выше, чем у
Content-Type, потому что последний – это метаинформация, которая может
потеряться или исказиться. Вероятность потерять расширение гораздо ниже, нежели
Content-Type.</p>

<p>Верю, что когда-нибудь в Амазоне это поймут.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/interstellar-tick/">Время в Interstellar</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-05T00:00:00+00:00">
        Jul 5, 2024
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/interstellar/" rel="tag">interstellar</a>

</div>


            <div class="entry">
                
                    <p>Вы же смотрели Интерстеллар? Помните высадку на планету с волной? А музыку в
фоне, такую тревожную, помните? Тик-так, тик-так по нарастающей?</p>

<p>Этот тик-так — неспроста. Каждый тик равен 1.37 секунды, и за это время на Земле
проходят сутки. Именно такое соотношение времени между Землей и той планетой
из-за близости к черной дыре. Ганс Циммер гений.</p>

<p>Когда знаешь об этом, в сцену добавляется новый оттенок. Теперь уже не смотришь
на метания за разбитым кораблем: слушаешь тик-так и представляешь, как впустую
проходит чья-то жизнь — твоя, например.</p>

<p>Иногда по вечерам, вытряхнув себя из-за компа, я чувствую что-то похожее. Словно
жизнь — это фильм, а в фоне кто-то цокает языком. Исправляешь чей-то быдлокод и
косяки, потом идешь домой и думаешь — что я вообще делал?</p>

<p>Нечто похожее встретилось в дневниках Корнея Чуковского времен блокады
Ленинграда: “дни сгорают как бумажные”. Потому он и великий писатель, что не
уходят, не летят, а именно сгорают.</p>

<p>Впрочем, потом меня отпускает, и я снова иду править чужой код и косяки. И так
постоянно.</p>

<iframe width="100%" height="500" src="https://www.youtube.com/embed/60h6lpnSgck" title="Interstellar | “Tidal Wave&quot; Full Scene (Anne Hathaway, Matthew McConaughey) | Paramount Movies" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/comma-separated/">Список через запятую</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-05T00:00:00+00:00">
        Jul 5, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/comma/" rel="tag">comma</a>, <a href="/tag/csv/" rel="tag">csv</a>, <a href="/tag/list/" rel="tag">list</a>

</div>


            <div class="entry">
                
                    <p>Одна из самых дурацких вещей в айти – это список через запятую, например:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(1, 2, 3)
["test", "foo", "hello"]
[{:id 1}, {:id 2}, {:id 3}]
</code></pre></div></div>

<p>Каждый, кто работал с таким форматом, знает, какой геморрой учитывать
запятые. Элементы нельзя просто записать в цикле. Нужно собрать их в массив, а
потом join-ить запятой. Это сводит на нет стриминг элементов, когда их много. А
чтобы работал стриминг, нужно завести флажок “запятая уже была”, выставить его в
первый раз и постоянно проверять: была или не была?</p>

<p>То есть на каждом шаге из миллиона нужно делать эту проверку, которая сработала
один раз. Из-за какой-то никчемной запятой.</p>

<p>Какие проблемы возникнут, если запятые убрать?</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(1 2 3)
["test" "foo" "hello"]
[{:id 1} {:id 2} {:id 3}]
</code></pre></div></div>

<p>Не вижу причины, по которой любой их списков не может быть распаршен. Все три
читаются и подлежат парсингу на ура.</p>

<p>В одном скобочном языке запятые вообще считаются пробелами: они уничтожаются
парсером, словно их нет. И это никак не влияет работу: все читается, и даже
лучше: меньше визуального шума.</p>

<p>Список через запятую – рудимент, от которого пора избавиться. Случись вам
изобретать свой формат данных – откажитесь от запятых как значимых символов.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/chrome-dropdown/">Выпадашка в Хроме</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-05T00:00:00+00:00">
        Jul 5, 2024
    </time>

    <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/chrome/" rel="tag">chrome</a>, <a href="/tag/dropdown/" rel="tag">dropdown</a>

</div>


            <div class="entry">
                
                    <p><img src="/assets/static/aws/chrome-dropdown/1.png" /></p>

<p>На скриншоте — типичная ситуация наших дней. По клику на аватару появляется
выпадашка, но содержимое не вмещается, и у выпадашки появляется прокрутка.</p>

<p>Окно браузера растянуто максимально, ничего не сжато. Зум нулевой. Никаких
вредоносных действий с моей стороны. Просто дизайнеру “не хватило” места. Еще
бы: если обернуть каждый элемент в паддинг, скруглить углы, добавить отступы где
только можно, поместить всю фигуру в другой паддинг, сместить вниз — откуда ж
возьмется место?</p>

<p>На полном серьезе спрашиваю: что происходит с фронтендерами? Может у них
пост-ковидный синдром? Вакцина дала побочку? Иначе это не объяснить. Дай
фронтендеру экран размером со стену — и он поместит все нужное в выпадашку,
которая появится по клику на гамбургер. Внутри все “воздушное”, не хватает
места, и появляется прокрутка.</p>

<p>Раньше можно было понять: разрешение 800 на 600, кривой IE6, умирающий Netscape,
ранние оперы и фейерфоксы. У каждого багов — как блох на жучке. Но сегодня-то
что? Везде ретины, 4К, только Хром и его поделки. Что мешает делать нормально:
без выпадашек с прокрутками?</p>

<p>Какая-то загадка.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/datomic/">Датомик</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-07-01T00:00:00+00:00">
        Jul 1, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/datomic/" rel="tag">datomic</a>

</div>


            <div class="entry">
                
                    
<p>Лет семь назад я увлекся <a href="https://www.datomic.com/">Датомиком</a>. Кто не знает, это база данных,
написанная на Сlojure и Java. Среди ее плюсов – неизменяемость (данные только
накапливаются), независимость от времени (можно вернуться в прошлое) и
выразительный язык запросов Datalog, взятый из Пролога.</p>

<p>Я долго ходил вокруг да около, а потом повезло: семья уехала на неделю, и я
провел это время, читая доки и экспериментируя. У меня тогда был пет-проект на
Postgres, и я перевел его на Датомик. Позже я использовал его в других проектах,
в том числе в Хайлоад-капах от Mail.ru. Я <a href="/en/pg-to-datomic/">написал статью</a> про миграцию
с Постгреса на Датомик, и она даже попала на главную Хакер-Ньюз.</p>

<p>У Датомика есть важное свойство: он красивый. Бросил взгляд, и сразу мысль – да,
круто. Это изящная абстракция, воздвигнутая на элементарных вещах. Мало
проектов, где эти свойства – изящность и простота – выражены столь же ярко.</p>

<p>Я много играл с Датомиком и даже пытался реализовать его поверх реляционных
баз. Кое-что мне удалось, но поделки я так и не довел до ума. Практика показала,
что скучные Postgres/Maria удобней в работе.</p>

<p>Прежде всего, неизменяемость из коробки не нужна. Там, где нужно хранить
историю, Postgres/Maria справляются за счет триггеров или запросов вида <code class="language-plaintext highlighter-rouge">INSERT
...  FROM UPDATE/INSERT/DELETE</code>. Когда говорят об исторических данных, у меня
сразу вопрос – как вы ими пользуетесь? Они вообще вам нужны?</p>

<p>Далее: страшные буквы GDPR. Если пользователь хочет удалить свои данные, с
Датомиком будут проблемы. В Датомике атрибуты не меняются, а добавляются новые с
поздним временем. Поэтому, читая один и тот же атрибут в разное время, получим
разные значения. Но GDPR требует, чтобы в базе физически не было личных
данных. Если вы записали в базу атрибут <code class="language-plaintext highlighter-rouge">(42, :user/name "XXXXXX")</code>, то старый
атрибут <code class="language-plaintext highlighter-rouge">(42, :user/name "Ivan")</code> остался, и прочитать его – дело техники.</p>

<p>В Датомике есть функция физической очистки атрибутов, но она дорогая и
выполняется во время обслуживания, то есть требует остановки прода.</p>

<p>Можно отключить историю атрибутов, но тогда вопрос – зачем вообще история,
которой так гордится Датомик?</p>

<p>Кто-то скажет: ладно, пусть имя пользователя будет без истории, а остальное с
историей. Практика показывает, что GDPR требует чистки чуть ли не всех
таблиц. Когда мы удаляли пользователей из приложения с короткими видео, то
пришлось шерстить десятки таблиц: профили, лайки, коменты, друзья, подписчики,
обращения, сообщения… это были недели ада. Если представить, что у каждой
таблицы история, ситуация станет еще хуже.</p>

<p>У Датомика никакой поиск, нет сортировки и пагинации. Как с этим жить – решать
вам. Кого ни спрашивал – каждый пилит свои костыли, каждый случай – свое
маленькое приключение.</p>

<p>Есть еще кое-что: Датомик, при всей своей красоте, нарушает доменную область. Я
как-то говорил о том, что главное свойство домена – его ортогональность другим
доменам. Другими словами, у базы и кода на Сlojure разные зоны
ответственности. Датомик стирает эту границу: он превращает базу в хранилище, к
которой только он имеет доступ. Этому есть объяснение, поскольку физически
данные хранятся как бинарные дампы с кусками индексов, и работать с ними умеет
только Датомик.</p>

<p>На практике это выливается в то, что если я хочу поправить записи в Датомике,
нужно писать код на Кложе, который выгребает данные, исправляет и записывает в
базу.</p>

<p>Это резко контрастирует с Postgres/Maria, которые предлагают свои языки и
инструменты для работы с данными. Это и есть домен, когда я могу исправить
данные, не обращаясь к Кложе. Бывает, я сижу в psql днями и неделями,
манипулируя данными на чистом SQL.</p>

<p>Датомик нарушает это правило. Да, у него есть веб-консоль, но по сравнению с
psql она крайне уныла, а до программ уровня PGAdmin или DBeaver ей как до луны.</p>

<p>Датомик как мороженное: он красивый, но позже липнет и затекает туда, где ему не
следует быть. Поэтому я прекратил с ним шашни и продолжаю работать с
Постгресом. И кстати, Постгрес в последние годы просто летит в космос,
нарадоваться не могу.</p>

<p>Выбирая Датомик, имейте в виду вышесказанное.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/steal-design/">Кража дизайна</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2024-06-22T00:00:00+00:00">
        Jun 22, 2024
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/design/" rel="tag">design</a>

</div>


            <div class="entry">
                
                    <p>Иногда я слушаю дизайнера Женю Арутюнова, он говорит клевые вещи. Говорит мягко
и с самоиронией. Не бывает так, что слушаешь тезис, а потом: кто не со мной, тот
мудак.</p>

<p>У Жени как-то спросили, как не красть чужой дизайн. Он ответил: спокойно воруй,
потому что даже если не будет последствий, ты увидишь, что чужой дизайн не
решает задачу полностью. Чтобы решал, нужно поправить здесь, поправить тут, и в
итоге краденый дизайн либо развалится, либо изменится так, что перестанет быть
краденым.</p>

<p>То же самое можно сказать про код. Даже если вы украли чей-то код, заставить
работать его на вас трудно. Адаптация кода под задачу займет столько времени,
что проще написать свой. А если выигрыш и возможен, его трудно оценить.</p>

<p>Иные проекты тянут сотни зависимостей — их написали другие люди. И все-таки мы
пишем и отлаживаем свой код в папке src. Есть даже похожие сервисы и бизнесы, и
некоторые с открытым кодом. Но нет — не смотря на колоссальные объемы открытого
кода, нас продолжают нанимать. Мы пишем код, ловим баги, сидим в отладчике.</p>

<p>Именно поэтому когда случилась колоссальная утечка Яндекса — 50 гигабайтов
исходников — я даже ухом не повел. Их обсасывали на всех новостных ресурсах, но
скажите: что вы хотели там найти? Обычный корпоративный код: прочитать JSON,
проверить его, положить в базу, дернуть очередь, записать в лог, собрать
эксепшены в сборщик ошибок.</p>

<p>По той же причине я скептичен к коду, написанному ИИ. Пусть он пишет тетрис и
змейку, этого добра на Гитхабе пруд пруди. Как мне поможет ИИ, если нужно
впендюрить очередной if цепочку бизнес-процессов, чтобы ничего не упало? Как он
придумает новый твиттер? Как он придумает игру, где участники отрывают жопы от
стула(!) и идут в парк ловить виртуальных зверей?</p>

<p>Идея первична, лишь затем следует код.</p>

<p>Вот почему, имея горы открытого кода, мы, словно герой Никулина, ищем “такой же,
но с перламутровыми пуговицами”. Потому что требования. Потому что это наша
работа.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <span class="page_number ">Страница 1 из 78</span>
        
        <a href="/page2" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
