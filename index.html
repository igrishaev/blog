<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ivan Grishaev's blog</title>
  <meta name="description" content="Writing on programming, education, books and negotiations.
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img id="avatar" src="/assets/static/avatar.jpg" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px"><a href="/">Ivan Grishaev's blog</a></p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/open-source/">Open Source</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod-2/">Книга «Clojure на производстве», второй том</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

    <ul class="post-list">
        
        <li>

            <h2>
                <a class="post-link" href="/webp/">Webp</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-11-28T00:00:00+00:00">
        Nov 28, 2025
    </time>

    <a href="/tag/webp/" rel="tag">webp</a>, <a href="/tag/internet/" rel="tag">internet</a>

</div>


            <div class="entry">
                
                    <p>Webp — достаточно бесячий формат. Да, он на 30% плотнее JPEG, и это неплохо
экономит трафик. Но беда в том, что с ним ничего нельзя сделать. Картинку Webp
вы не вставите ни в один гугловый документ! — неважно слайды это или текст. В
высшей степени странно: авторы формата сами же его не поддерживают.</p>

<p>Есть такой костылик: когда ищете картинки для презентации, ставьте расширение
<code class="language-plaintext highlighter-rouge">Don't Accept Webp</code>. Оно сводится к тому, что из заголовков Accept убирается
элемент image/webp — мол, браузер его не принимает. Однако сервер все равно
может вернуть webp, хотя вероятность этого и ниже.</p>

<p>Еще вроде бы webp можно отключить в about:config, но я не нашел.</p>

<p>Кроме того, анимированный webp не работает в Waterfox, и порой это неудобно.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/try-catch/">О перехвате исключений</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-11-28T00:00:00+00:00">
        Nov 28, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/try/" rel="tag">try</a>, <a href="/tag/catch/" rel="tag">catch</a>

</div>


            <div class="entry">
                
                    <p>Перехватывайте исключения только если у вас есть “план Б”. Другими словами, есть
альтернативный способ решить задачу. Если его нет, то ловить исключение не
нужно.</p>

<p>Практика показывает, что “плана Б” почти никогда не бывает. Сценарий всегда
один: взяли то, получили другое, прибавили третье — вот и результат. Отсюда
следствие: поймав исключение, вы ничего толком не сделаете.</p>

<p>Я уже приводил примеры. Нет файла на диске — с этим ничего поделать нельзя. Нет
файла в S3 — тоже. Не задана переменная среды (пароль или токен) — без нее
никуда не пойдешь.</p>

<p>Почти каждая ошибка означает, что задача в целом провалена, и пытаться дальше
бесполезно.</p>

<p>По этой причине, кстати, в Джаве нынче используют unchecked-исключения, то есть
те, которые не нужно объявлять в сигнатуре метода. Каждый, кто хоть немного
писал на Джаве, знает — если использовать checked-исключения, каждый метод
обрастает ими, как дно корабля — морским желудем. Эта зараза ползет по коду:
метод, который вызывает зараженный метод, вынужден либо унаследовать бороду
исключений, либо заткнуть их все и кинуть unchecked-исключение.</p>

<p>С одной стороны теоретики заливают о контрактах и безопасности кода. А с другой
стороны — практика, которая доказывает: это неудобно. Знаете шутку: в теории
между теорией и практикой нет разницы, а на практике есть? Это как раз тот
случай.</p>

<p>Перехватывать исключения имеет смысл в редких случаях, например:</p>

<ul>
  <li>
    <p>поллинг. Бывает, вы посылаете сервису задание: вычисли то-то и положи
результат в S3. После этого начинаете поллить файл. На этом шаге логично
перехватывать <code class="language-plaintext highlighter-rouge">FileNotFound</code> или похожие ошибки — до определенного лимита,
конечно.</p>
  </li>
  <li>
    <p>Запасной источник данных — иногда одни и те же данные можно добыть разными
способами: из базы данных и временного хранилища. Если второе отказало, можно
сходить в базу, перехватив исключение.</p>
  </li>
  <li>
    <p>Троттлинг — если вы часто ходите в какой-то ресурс, он может сказать “умерь
пыл”. На уровне кода это будет исключение <code class="language-plaintext highlighter-rouge">RateLimitException</code> или <code class="language-plaintext highlighter-rouge">HTTPError</code>
с кодом 429. Их можно поймать, поспать секунду и повторить.</p>
  </li>
  <li>
    <p>Ошибки ввода-вывода. Бывает, моргнула сеть, подвис роутер и скачать файл не
удалось. Поможет перехват IOException и повтор операции. Только не забывайте,
что все продвинутые клиенты учитывают сетевые сбои. Внутри у них своя логика
повтора в случае IOException.</p>
  </li>
</ul>

<p>Еще один случай — когда нужно показать красивое сообщение об ошибке. Даже если
было исключение, некрасиво вываливать стек-трейс (а то и вовсе небезопасно) —
нужно завершить программу культурно. Программисты на Питоне, мотайте на ус: ваши
программы часто валятся со стек-трейсами, стоит только ввести не те данные.</p>

<p>Иногда ошибки кидают намеренно — опять же, по нескольким причинам. Во-первых,
встроенная функция может вернуть <code class="language-plaintext highlighter-rouge">null</code>, однако это не имеет смысла. Я уже
приводил пример: не задана переменная среды: токен, пароль и так
далее. Продолжать без нее нет смысла. Поэтому вместо <code class="language-plaintext highlighter-rouge">System/getenv</code> вызывают
свою функцию <code class="language-plaintext highlighter-rouge">get-env!</code>, которая кинет исключение, если переменной нет.</p>

<p>В противном случае вы будете долбиться в сеть с заголовком <code class="language-plaintext highlighter-rouge">X-Authentication:
aws-null-null</code>, и ничего хорошего из этого не выйдет.</p>

<p>Другая причина — внести ясность в чужие исключения. Порой их сообщения лишены
деталей и потому бесполезны. Например, “file not found” — какой файл? “Port is
busy” — какой порт? “HTTP 404” — какой урл? Когда вызов один, разобраться еще
можно. Но представьте, что у вас цикл, пул тредов — желаю счастливой отладки.</p>

<p>Поэтому такие исключения оборачивают своими, которые говорят: <code class="language-plaintext highlighter-rouge">file
C:\windows\mustdie.text not found</code>, <code class="language-plaintext highlighter-rouge">HTTP 404: GET http://test.com</code>, <code class="language-plaintext highlighter-rouge">port 5432
is busy</code> и так далее.</p>

<p>Поймать исключение и подавить его, не имея на то причины — один из худших
паттернов в программировании. Недавно я добился того, чтобы один сервис отвечал
ошибкой, если нет файла в S3. До меня было так: разработчик читал его из S3 и
парсил JSON-библиотекой. Все это он оборачивал в try-catch с логикой: если пошло
не так, записать в лог и вернуть nil. В Кложе nil ведет себя как пустая
коллекция, поэтому на вычислениях это не сказывалось, просто они были пустыми.</p>

<p>В день было по 50.000 (прописью — пятьдесят тысяч) подобных ошибок. Все они были
в логах. Кто-то хоть раз их читал? Разумеется, нет.</p>

<p>Проблема вскрылась лишь в тот момент, когда код слегка изменили. В результате
получалась мапа с нуллом в ключе: <code class="language-plaintext highlighter-rouge">{nil ...}</code>, и наш JSON-сериализатор падал:
мол, не знаю, что делать с null-ключом. А до этого проблем не было. Не падает —
значит, все хорошо.</p>

<p>Так вот, возвращаясь к первоначальному тезису. Перехватывая исключения, думайте
про “план Б”. Действительно ли он у вас есть? Лично я сомневаюсь. “​​План Б” — это
буквально три-четыре случая, а все остальное — трусость, неопытность, желание
замести проблемы под ковер.</p>

<p>Крайне вероятно, что имеет место второе, а не первое.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/multi-curr/">Игровые валюты</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-11-28T00:00:00+00:00">
        Nov 28, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Как-то раз на меня нашла деградация: поставил на телефон тупую
стрелялку. Примерно как 15 лет назад: бесплатную, но с продвинутой системой
выжимания денег.</p>

<p>Кроме бесконечных выпадашек с просьбой что-то купить удивило другое, а именно —
разнообразие валют. Смотрите, есть сами деньги. Есть золотые слитки для
премиум-товаров. Есть какие-то кристаллы. Есть энергетические сгустки, а еще
какие-то кубки, бонусы, баллы и так далее. Я даже не запомнил номенклатуру, не
говоря уж о том, для чего нужна та или иная валюта.</p>

<p>Вдобавок это неудобно: чтобы купить пистолет, нужны кристаллы. Чтобы открыть
бонус-уровень, нужны сгустки. Хоть на бумажку записывай. Разумеется, чьи-то дети
сидят в игре часами и на память знают, что нужно для чего. Но такую роскошь я
позволить себе не могу.</p>

<p>Моя идея в том, что механика игровых валют переусложнена. Может быть, в
усложненном варианте она приносит больше денег. Менеджер такой: давайте добавим
платиновые слитки и подогреем интерес. Возможно, что-то там подогреется. Однако
с годами вряд ли кто-то понимает, сколько у нас валют и что на них покупается.</p>

<p>Похожую вещь наблюдаю в фирмах с особо креативными менеджерами. Например, в
Озоне. У них есть баллы, мили, вау-баллы, звезды. Есть бонусы продавцов. Недавно
добавили какие-то морковки, засунули зайцев в каждую щель. Это все хорошо за
одним исключением — я не понимаю, что вообще происходит. В многообразии валют,
баллов и миль исчезает ясность: какие у тебя привилегии.</p>

<p>Нужно, чтобы менеджерам Озона кто-то сказал: ребят, морковки это хорошо, но
старое нужно подчищать. Похоже, вы сами не особо понимаете, что у вас там: мили,
баллы и так далее. Навели бы порядок.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/win-10-python/">Python в Windows 10</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-10-03T00:00:00+00:00">
        Oct 3, 2025
    </time>

    <a href="/tag/windows/" rel="tag">windows</a>, <a href="/tag/python/" rel="tag">python</a>

</div>


            <div class="entry">
                
                    <p>Виндуз 10 — мягко говоря, странная вещь. Во всех операционках Питон идет из
коробки, а на Винде его нет. Вместо него — заглушка. Если набрать в консоли
<code class="language-plaintext highlighter-rouge">python foo.py</code>, появится надпись: друг, у тебя нет Питона. Чтобы поставить его,
просто введи python.</p>

<p>Хорошо, ввожу <code class="language-plaintext highlighter-rouge">python</code>. Открывается магазин приложений и тут же выстреливает
алертами: и какая-то ошибка, и регион не тот, и токен протух. Еле закрыл к
чертям, а то и дальше бы кидался ошибками.</p>

<p>Скачал Питон с официального сайта, поставил. Ввожу <code class="language-plaintext highlighter-rouge">python foo.py</code> — опять та же
самая заглушка. Минуточку, где Питон, который я поставил минуту назад? Начинаю
искать. В дни моей молодости он ставился в корень: <code class="language-plaintext highlighter-rouge">C:\Python27</code>. Там его
нет. Ищу в <code class="language-plaintext highlighter-rouge">C:\Program Files</code> (обоих папках) — тоже нет. Наконец догадался:
проверил ярлык в меню Пуск. Знаете куда он ведет? Вот:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Users\ivan\AppData\Local\Programs\Python\Python3.8\...
</code></pre></div></div>

<p>Удивляюсь, какими же уродами надо быть, чтобы так сделать? Мало того что
засунули его глубже некуда, так еще не сменили заглушку для магазина!</p>

<p>Ладно, может быть заглушку нельзя трогать по условиям лицензии. Тогда почему
инсталятор не добавил путь к Питону в <code class="language-plaintext highlighter-rouge">PATH</code>?</p>

<p>Ничего не работает как надо. Какое-то сборище клоунов, честное слово.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/weird-code/">Непонятный код</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-10-03T00:00:00+00:00">
        Oct 3, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/code/" rel="tag">code</a>

</div>


            <div class="entry">
                
                    <p>Одна из самых бесячих вещей — когда кто-то вбрасывает непонятный код и
спрашивает, что он выведет. Откуда я знаю, что он выведет? Запусти и
посмотри. Еще лучше исправить код, чтобы он был понятен сразу.</p>

<p>Я еще могу понять, если это какой-нибудь сишный код, оптимизированный по самые
помидоры, чтобы умещаться в кэше процессора. Это чужой монастырь, и там свои
погремушки. Но когда это обычный бизнес-код типа “принять две мапы и взять
наибольший ключ”, оправданий быть не может.</p>

<p>Почему-то мало кто понимает: писать непонятный код легко, а понятный —
трудно. На это уходят годы практики, нужно пройти много ситуаций, чтобы понять,
какой код и при каких обстоятельсвах понятен. Вываливать непонятный код — то же
самое, что мочиться в штаны. Нужно тихо решить проблему, а не тыкать ей в лицо.</p>

<p>Вообще, угадывание — худшее, что есть в айти. Когда угадываешь, фактически ты на
дне. Ты исчерпал все нормальные варианты, ну или их не было. Должна быть легкая
возможность запустить код — привет, программисты без репла. Должны быть тесты,
линтеры, логи, метрики, бенчмарки, сбор ошибок и так далее.</p>

<p>Угадайка — это билет в проигрыш, иначе быть не может. Да, бывают истории, когда
человек раз — и решил сложную проблему, не имея никаких улик. Но это ошибка
выжившего: на каждую такую историю приходится тысяча других, когда человек
просидел выходные, решая проблему брутфорсом — и на двадцать пятой итерации
что-то помогло. Я бы не рассчитывал на такую удачу.</p>

<p>Короче, видишь плохой код — исправь, не гадай.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/no-exceptions/">Без исключений</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-10-03T00:00:00+00:00">
        Oct 3, 2025
    </time>

    <a href="/tag/programming/" rel="tag">programming</a>, <a href="/tag/exceptions/" rel="tag">exceptions</a>

</div>


            <div class="entry">
                
                    <p>Меня искренне изумляют ребята, которые обходят исключения стороной. Типа, вернем
<code class="language-plaintext highlighter-rouge">null</code> и запишем в лог. Или вернем мапу <code class="language-plaintext highlighter-rouge">{"success": false}</code>. Или кортеж <code class="language-plaintext highlighter-rouge">(nil,
"error")</code>. Или еще какой-то финт ушами.</p>

<p>Мне интересно: а кто будет читать логи? Тот чел, который молча пишет в лог, у
него что, в договоре прописано каждое утро их читать? С какой частотой? И что
делать, если логи нашлись? Как реагировать? И кто следит, чтобы он их читал?</p>

<p>Или какой-то калека вернул мапу <code class="language-plaintext highlighter-rouge">{"success": false}</code>. Что с ней делать? Какая
была ошибка? В каком направлении двигаться? Просто неопытный разработчик
переложил на других то, что должен делать сам.</p>

<p>Замалчивание ошибок — признак неопытности программиста. В единичном случае это
еще не страшно. Но когда каждая строчка возвращает <code class="language-plaintext highlighter-rouge">null</code> или мапу вместо
ошибки, работать невозможно. Приходиться писать строгие обертки вокруг таких
функций, которые кидают исключение с понятным сообщением: что я собирался делать
и что пошло не так.</p>

<p>Один коллега предложил: давай я буду возвращать сообщение об ошибке, если файла
нет? Я аж чуть кофе не выплюнул: минуточку, все это время ты молчал о том, что
файла нет? Блин, уж будь добр, потрудись сообщить о проблеме.</p>

<p>При либом отклонении от нормы нужно кидать исключение с максимально детальным
текстом. Вот, вобщем-то, простой секрет хорошего кода.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/mac-photos/">Фотографии на Маке</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-10-03T00:00:00+00:00">
        Oct 3, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>, <a href="/tag/apple/" rel="tag">apple</a>, <a href="/tag/photos/" rel="tag">photos</a>

</div>


            <div class="entry">
                
                    <p>Моя семейная жизнь течет спокойно и счастливо, однако нет-нет да окажется на
грани развода. Всему виной они – фотографии.</p>

<p>Когда у тебя трое детей, часто фотографируешь их по поводу и без, а потом
наступает тот самый момент: дорогой, давай я выберу фотографии для фоторамок в
кухне. Я оттягиваю его как могу, потому что знаю – будут крики и ругань.</p>

<p>Даю жене яблочный ноут. Не проходит и пяти минут, как слышу: почему файл не
открывается по нажатию Enter? Почему, открыв фотографию, нельзя перейти к
соседней стрелочками? Почему сочетания кнопок такие неудобные? Почему нет
бегунка, чтобы превьюшки стали больше?</p>

<p>Ни на один упрек я не знаю ответа. В этом плане я обычная тряпка, яблочный
приспособленец. Я не знаю, почему по нажатию Enter система предлагает
переименовать файл, а не открыть его. Возможно, Стив Джобс был под наркотой,
когда придумал это. Иначе как объяснить, что вместо Enter нужно либо дважды
кликнуть по файлу, либо нажать Command+Down?</p>

<p>Как часто мы открываем файл, а как часто меняем его имя? Что в приоритете?
Ничего, что на клавише написано Enter – по-английски “войти”, а не
“переименовать”? Сколько ЛСД принял Стив в тот вечер?</p>

<p>То же самое с переходом между фотографиями. Когда человек открыл одно фото, он
захочет посмотреть соседнее и нажмет стрелку влево или вправо. Логично же? Эпл
предлагает выделить фотографии в Finder, нажать правую кнопку мыши, открыть в
Preview. После этого можно просматривать несколько фотографий, – но только те,
что выбрал.</p>

<p>Есть быстрый просмотр при помощи пробела, и внезапно в нем работают
стрелочки. Однако их поведение зависит от того, в каком виде показаны
файлы. Если это список, то работают клавиши вверх и вниз, а влево и вправо
бездействуют. Если файлы в режиме значков, перемещение по ним работает во все
стороны. Нажав вниз, вы перейдете к такой же позиции следующего ряда, пропустив
столько фотографий, сколько их в ряду. Это значит, нельзя просмотерть файлы один
за другим, используя одну кнопку. Нужно следить за курсором и нажимать влево,
вправо и вниз – другими словами, обходить файлы змейкой.</p>

<p>Файлы в режиме значков не подстраиваются под ширину окна. Если в ряду их десять
и вы ужали окно, матрица не перестроится. Появится горизонтальный скроллинг, и
часть файлов вы не увидете.</p>

<p>Выбор фотографий превратился в маленький адок, который нужно пережить. Однако и
я стал умнее. Зная, что супруга управляется с Виндой, я теперь делаю
так. Отбираю фотки, которые ее интересуют, и помещаю в какой-то альбом. Это
легко сделать на телефоне: достаточно выделить файлы и пометить тегом.</p>

<p>Далее открываю яблочный ноут, приложение Photos. В нем работает экспорт файлов
на диск. Разумеется, можно достучаться до файлов и обычным способом, но это
нелегко. Фотографии хранятся в чертовом HEIC – яблочном формате, который
совмещает в себе JPEG и HDR. Это добро откроется только на яблочной машине. У
файлов машинные имена-уиды, а вся мета о них лежит во внутренней базе данных.</p>

<p>Я думал, Эпл позволит экспортировать только штучные файлы. Но все оказалось
проще: можно экспортировать целый альбом, и на диске появятся нормальные джипеги
и mp4.</p>

<p>Осталось перетащить их на Винду. Это тоже проблематично, потому что шаринг
файлов между Эплом и Виндой максимально костыльный. Есть вариант с флешкой в
exFAT. Но еще лучше воткнуть флешку в роутер и поднять на нем FTP- или
SMB-сервер. Все просто: на яблоке закинул, на Винде скачал.</p>

<p>И знаете, жить стало намного легче!</p>

<p>Вот так технологии спасают семейную жизнь.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/message-storm/">Чат вслух</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-09-28T00:00:00+00:00">
        Sep 28, 2025
    </time>

    <a href="/tag/life/" rel="tag">life</a>

</div>


            <div class="entry">
                
                    <p>Бывает, пишешь коллеге: дружище, я вызываю такой-то сервис, посылаю мапу:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{:foo 42
 :data ["some-type"]
 :items [:kek :lol :crap]}
</code></pre></div></div>

<p>Сервис возвращает не то. Вот логи, вот ссылки, вот трассировочный заголовок. Все
для тебя, мой милый-хороший.</p>

<p>В ответ человек срет сообщениями:</p>

<p>привет :)</p>

<p>надо items передать через точку с запятой :)</p>

<p>вроде так было в последнем коммите</p>

<p>или погоди его не выкатили :)</p>

<p>спроси девопсов выкатили или нет</p>

<p>и еще foo надо не 42 а 41 :)</p>

<p>по ходу да</p>

<p>или не :)</p>

<p>а да</p>

<p>мы так тестировали работало :)</p>

<p>на пре-проде работало помню</p>

<p>и без двоеточий передай</p>

<p>так заработает :)</p>

<p>Я смотрю на это и думаю: ладно, есть люди, которые думают вслух. Им легче писать
и проговаривать про себя, чтобы что-то вспомнить. Бывает. С этим можно
смириться.</p>

<p>Однако в конце этого выхлопа я ожидаю вердикт: какой запрос все-таки
передать. Но этого не происходит: собеседник решил, что уже помог. Приходится
идти по списку сообщений и применять каждое утверждение (“по ходу да”), а
возможно, откатывать (“или не”).</p>

<p>Что тут сказать? Других мы не исправим, а вот себя исправить можно. Не
вываливайте на собеседника поток сознания, а если это имело место, подведите
итог. Достаточно смотаться к первому сообщению и коротко на него ответить.</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/yt-music-ui/">Интерфейс музыкальных сервисов</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-09-22T00:00:00+00:00">
        Sep 22, 2025
    </time>

    <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/youtube/" rel="tag">youtube</a>

</div>


            <div class="entry">
                
                    <p>Не знаю, как так вышло, но сегодня ни один — буквально ни один — музыкальный
сервис не может сделать хороший интерфейс. Ни Гугл, ни Яндекс, ни кто бы то ни
было. Не помогают ни миллионы денег, которые сервисы гребут за подписку, ни
дизайнеры за 400 тыщщ долларов в год.</p>

<p>Яндекс-музыка уже давно стала мемом а-ля Medium: хорошее начинание превратилось
в музей багов. Без преувеличения можно сказать, что каждый квадратный сантиметр
ее дизайна несет бред. Гугл со своей Музыкой не лучше: там все прыгает,
переключается, показывает выпадашки.</p>

<p>Прикладываю картинки. Слушаю музыку из мультика, вроде бы все в порядке. Но
что-то нажал — открылось то же самое, но в другом лейауте. Почему? Без
понятия. Как вернуться обратно? Тоже без понятия.</p>

<p><img src="/assets/static/aws/yt-music-ui/1.jpeg" /></p>

<p><img src="/assets/static/aws/yt-music-ui/2.jpeg" /></p>

<p>Снизу без конца вылазит нотификашка, что контент для детей не доступен в
мини-плеере. Предлагает куда-то тапнуть, чтобы вернуться. О чем речь вообще?</p>

<p><img src="/assets/static/aws/yt-music-ui/3.jpeg" /></p>

<p>И разумеется, сервису не хватает места. Даже на 4к-мониторе дизайнер не может
все уместить. Треки приходят с сервера пачками по 20 штук, нужно проматывать
страницу, чтобы они подгрузились, иначе поиск на странице не работает.</p>

<p>Ради интереса сравните с Винампом: на ЭЛТ-мониторе в разрешении 800x600 он
занимал только часть экрана. Там было все: кнопки, перемотка, плейлист,
эквалайзер. Можно было поставить рядом Total Commander, и места хватало на две
программы.</p>

<p>Умели же люди делать плеер для монитора 800x600! А сегодня это сродни навыку
писать на ассемблере.</p>

<p><img src="/assets/static/aws/yt-music-ui/4.jpeg" /></p>

<p>Секрет-то на самом деле простой. Я бы выдал дизайнерам ЭЛТ-мониторы и сказал:
все должно помещаться на экране. За каждую выпадашку этим монитором тебя будут
бить по голове. И тогда бы все наладилось — я гарантирую это (с).</p>

                
            </div>

        </li>
        
        <li>

            <h2>
                <a class="post-link" href="/youtube-pause/">Пробел и пауза</a>
            </h2>

            
<div class="post-meta">

    <time class="post-time"
          datetime="2025-09-22T00:00:00+00:00">
        Sep 22, 2025
    </time>

    <a href="/tag/ui/" rel="tag">ui</a>, <a href="/tag/yandex/" rel="tag">yandex</a>, <a href="/tag/pause/" rel="tag">pause</a>

</div>


            <div class="entry">
                
                    <p>Как-то давно я писал об ошибке в интерфейсе Ютуба. В нем клавиша “пробел”
означает не паузу, а действие по умолчанию для текущего виджета. По умолчанию
текущий виджет – экран, но если кликнуть по кнопке субтитров или громкости,
текущим станет другой виджет, и пробел тоже будет делать что-то другое.</p>

<p>Сценарии я тоже описывал: посадил ребенка смотреть мультик, объяснил, что пробел
– это пауза. Но в последний момент поправил звук, и фокус остался на виджете
громкости. Ребенок жмет пробел – пропадает звук. То же самое с субтитрами:
усадил пожилого родственника, все объяснил и перед уходом отключил субтитры,
чтобы не загораживали экран. Родственник хочет паузу, жмет пробел и в результате
включает субчики.</p>

<p>Ту же самую херню затащил Яндекс в свою Музыку. Играет трек, мне нравится, жму
сердечко. Потом хочу поставить паузу, жму пробел – трек играет, и написано
“удалено из избранного”. Оказалось, сердечко – это отдельный виджет, и теперь
когда фокус на нем, он добавляет и удаляет из избранного. То же самое с другими
кнопками и панелями.</p>

<p>В общем-то, критиковать тут не за что: ребята стащили чужой подход вместе с
багами. В больших компаниях это безопасная стратегия: повторяй за гигантом, и
вопросов к тебе не будет. Касается не только менеджеров, но и разработчиков:
фраза “как в Гугле” всегда спасет твою задницу.</p>

<p>И все-таки: если кто-то из читателей связан с Яндексом, будьте добры, передайте
им, что у пробела должна быть строго одна функция.</p>

                
            </div>

        </li>
        
    </ul>

    <h4>
        
        <span class="page_number ">Страница 1 из 101</span>
        
        <a href="/page2" class="next">&rarr;</a>
        
    </h4>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="https://t.me/igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
