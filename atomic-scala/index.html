<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Книга Atomic Scala и наивные впечатления от языка</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="https://grishaev.me/atomic-scala/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="https://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

  <script type="text/javascript" src="/assets/typo.js"></script>

</head>


  <body>
    <header class="site-header">

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container full-width">
                <p style="margin-bottom: 5px">Ivan Grishaev's blog</p>
                <div class="flex-huge"></div>
                <div >
<form id="search-form"
      target="_blank"
      style="display: inline"
      method="get"
      action="https://www.google.com/search">

    <input name="sitesearch"
           value="grishaev.me"
           type="hidden">

    <input type="text"
           required="required"
           name="q"
           placeholder="Google search..."
           autocomplete="off">

    <button style="border: none; background-color: transparent; cursor: pointer;"
            type="submit">&#x1f50d;</button>

</form>
</div>
            </div>

            <p><small>Writing on programming, education, books and negotiations.
</small></p>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/interview/">Interview</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor hl" href="/clojure-in-prod/">Книга «Clojure на производстве»</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">

    <h1 class="post-title" itemprop="name headline">Книга Atomic Scala и наивные впечатления от языка</h1>

    
<div class="post-meta">

    <time class="post-time"
          datetime="2016-04-13T00:00:00+00:00">
        Apr 13, 2016
    </time>

    <a href="/tag/scala/" rel="tag">scala</a>, <a href="/tag/books/" rel="tag">books</a>

</div>


  </header>

  <div class="post-content" itemprop="articleBody">
    <p><img src="/assets/static/atomic-scala.jpg" alt="cover" /></p>

<p>Прочитал книжку <a href="http://www.atomicscala.com/">о Скале</a>, заодно немного поковырял язык. Это
первая книжка, прочитанная мной на <a href="/kindle">Киндле</a>.</p>

<p>Понравилась структура. Примерно 30 глав – атомов – по разным
аспектам языка. Автор – плюсовик со стажем, по ходу действия дает
полезные советы, объясняет ООП-паттерны, затрагивает ФП.</p>

<p>Ближе к концу серия глав о монадах. Описаны <code class="language-plaintext highlighter-rouge">Either</code>, <code class="language-plaintext highlighter-rouge">Maybe
(Option)</code>, <code class="language-plaintext highlighter-rouge">Try</code>. Понравилось, что автор ни разу не употребил термин
“монада”. Это камень в огород Хаскела, где монады начинаются с
аппликативных функторов.</p>

<p>К книжке прилагается набор примеров с тестами, доками. Все добротно и
на совесть, <a href="https://github.com/AtomicScala">лежит на Гитхабе</a>. Автор очень ответственно
подошел к делу. По сути, у него не просто книга, а сообщество вокруг
нее. Покупка книги – своего рода членский билет.</p>

<p>Я немного повозился с языком и могу сказать следующее. Прошу прощения
за дилетантский взгляд, все пункты ниже могут оказаться ложью и
провокацией.</p>

<ul>
  <li>
    <p>Сперва язык кажется очень простым, вроде Гоу или Питона, только с
типизацией. Примерно к середине книги понимаешь, что все не так
просто.</p>
  </li>
  <li>
    <p>Некоторые элементы дизайна очень странны. Например, составные
объекты, когда объявлены класс и объект с одинаковыми именами. Я
долго ломал голову, пока наконец понял, что таким образом
формируется метакласс. Можно было сделать удобнее.</p>
  </li>
  <li>
    <p>Избыточные модификаторы вроде <code class="language-plaintext highlighter-rouge">sealed</code>, <code class="language-plaintext highlighter-rouge">implict</code>. Мне кажется, их
впихнули задним числом, получилось не очень. Скала вроде стремится в
минимализму, а получается опять Джава.</p>
  </li>
  <li>
    <p>Самая жесть с параметрическими трейтами. Напоминает Хаскел, но очень
неуклюже. В книге есть пример как построить модель рецепта
мороженного. 100 строк на декларацию трейтов, затем дикий микс из
них. В конце автор пишет, что вот как хорошо получилось. Я бы убился
поддерживать это мороженное.</p>
  </li>
  <li>
    <p>Скала все-таки ООП-язык, хоть и с функциональным уклоном. Насколько
я понял, в экосистеме Скалы не поощрается процедурно-модульное
программирование. Получается <code class="language-plaintext highlighter-rouge">yet another oop language</code>.</p>
  </li>
</ul>

<p><img src="http://41.media.tumblr.com/393d852bf9be9b339e76e4bc393aad34/tumblr_o56sc7ASY31ugyavxo1_1280.jpg" alt="picture" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Hieronymus Bosch “A visual guide to the Scala language” oil on oak
panels, 1490-1510.

The left panel shows the functional features, the main one describes
the type system, and the right the object oriented parts.

</code></pre></div></div>

<p>Все же, интерес к языку у меня возник, и при случае был бы рад принять
участие в проекте на нем.</p>

<p>Выборочные цитаты из книги с моим вольным переводом.</p>

<p>О ручной итерации:</p>

<blockquote>
  <p>Notice that <code class="language-plaintext highlighter-rouge">map</code> and <code class="language-plaintext highlighter-rouge">reduce</code> take care of the iteration code that
you normally write by hand. Although managing the iteration yourself
might not seem like much effort, it’s one more error-prone detail,
one more place to make a mistake (and since they’re so “obvious,”
such mistakes are particularly hard to find).</p>
</blockquote>

<p><em>Обратите внимание, <code class="language-plaintext highlighter-rouge">map</code> и <code class="language-plaintext highlighter-rouge">reduce</code> сами заботятся об итерации. В
императивном подходе итерация ложится на ваши плечи. Это кажется
пустяком, но увеличивает код и вероятность ошибки. Баг в ручной
итерации замечаешь в последнюю очередь.</em></p>

<p>О комментариях:</p>

<blockquote>
  <p>Comments should add new information that isn’t obvious from reading
the code. If the comments just repeat what the code says, it becomes
annoying (and people start ignoring your comments). When the code
changes, programmers often forget to update comments, so it’s a good
practice to use comments judiciously, mainly for highlighting tricky
aspects of your code.</p>
</blockquote>

<p><em>Комментарии должны дополнять код, объяснять неочевидные моменты.
Раздражает, когда комментарий повторяет в точности то, что делает
код. Люди проигнорируют их. Когда код меняется, программист часто
забывает обновить комментарий. Комментируйте вдумчиво, в основном
чтобы объяснить неочевидные приемы в коде.</em></p>

<p>О паттерн-матчинге:</p>

<blockquote>
  <p>Notice that pattern matching can overlap with the functionality of
if statements. Because pattern matching is more flexible and
powerful, we prefer it over if statements when there’s a choice.</p>
</blockquote>

<p><em>Замечу, что паттер-матчинг похож на условное выражение. Первый более
гибок, поэтому будем использовать его вместо условия при удобном
случае.</em></p>

<p>В целом, книжка зачет, не жалею потраченного времени.</p>

  </div>

</article>

<center>
    <p>
        <small>Нашли ошибку? Выделите мышкой и нажмите Ctrl/&#8984;+Enter</small>
    </p>
</center>






<center>Комментариев пока нет</center>









<form id="comment-form" method="POST" action="https://functions.yandexcloud.net/d4ehfuf08fjfjr59ivnf">

    <div class="block">
        <p class="comment-form-label"><small>Your name</small></p>
        <input required id="comment-form-author" name="author" type="text">
    </div>

    <div class="block">
        <p class="comment-form-label"><small>Comment (markdown syntax)</small></p>
        <textarea required id="comment-form-comment" name="comment"></textarea>
    </div>

    <input required name="path" type="hidden" value="/atomic-scala/">
    <input required name="captcha" type="hidden" value="9 &#215; 9">

    <div class="block">
        <span class="comment-form-label"><small>9 &#215; 9 = </small></span>
        <input required id="comment-form-solution" name="solution" type="text">
    </div>

    <div class="block">
        <button id="comment-form-send" type="submit">Send</button>
    </div>

</form>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
            <li><a href="https://github.com/igrishaev">GitHub</a></li>
            <li><a href="tg://resolve?domain=igrishaev_blog">Telegram</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
